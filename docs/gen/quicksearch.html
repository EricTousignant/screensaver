<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"confirm-dialog_confirm-dialog.js.html":{"id":"confirm-dialog_confirm-dialog.js.html","title":"Source: confirm-dialog/confirm-dialog.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: confirm-dialog/confirm-dialog.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../node_modules/@polymer/paper-styles/typography.js'; import '../../node_modules/@polymer/paper-styles/color.js'; import '../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../node_modules/@polymer/paper-dialog/paper-dialog.js'; import '../../node_modules/@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js'; import '../../node_modules/@polymer/paper-item/paper-item.js'; import '../../node_modules/@polymer/paper-button/paper-button.js'; import '../../node_modules/@polymer/neon-animation/animations/fade-out-animation.js'; import '../../node_modules/@polymer/neon-animation/animations/scale-up-animation.js'; import {LocalizeBehavior} from '../../elements/setting-elements/localize-behavior/localize-behavior.js'; import * as ChromeGA from '../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for ConfirmDialog * @module els/confirm_dialog */ /** * Polymer dialog to confirm an action * @type {{}} * @alias module:els/confirm_dialog.ConfirmDialog * @PolymerElement */ const ConfirmDialog = Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } .dialog { min-width: 25vw; max-width: 75vw; } &lt;/style&gt; &lt;paper-dialog id=\"dialog\" class=\"dialog\" entry-animation=\"scale-up-animation\" exit-animation=\"fade-out-animation\"&gt; &lt;h2 id=\"dialogTitle\" class=\"vertical layout center\"&gt;&lt;/h2&gt; &lt;paper-dialog-scrollable&gt; &lt;paper-item id=\"dialogText\" class=\"text\"&gt;&lt;/paper-item&gt; &lt;/paper-dialog-scrollable&gt; &lt;div class=\"buttons\"&gt; &lt;paper-button dialog-dismiss=\"\" autofocus=\"\"&gt;[[localize('cancel', 'CANCEL')]]&lt;/paper-button&gt; &lt;paper-button dialog-confirm=\"\" on-tap=\"_onConfirmTapped\"&gt;[[confirmLabel]]&lt;/paper-button&gt; &lt;/div&gt; &lt;/paper-dialog&gt; `, is: 'confirm-dialog', behaviors: [ LocalizeBehavior, ], properties: { /** * Fired when the confirm button is tapped * @event confirm-tap */ /** Label for confirm button */ confirmLabel: { type: String, value: ChromeLocale.localize('ok', 'OK'), }, }, /** * Event: Dialog confirm button click * @private */ _onConfirmTapped: function() { ChromeGA.event(ChromeGA.EVENT.BUTTON, 'ConfirmDialog._onConfirmTapped'); this.fire('confirm-tap'); }, /** * Show the dialog * @param {string} [text] * @param {string} [title] * @param {?string} [confirmLabel] * @private */ open: function(text = 'Continue?', title = 'This operation cannot be undone', confirmLabel = null) { if (confirmLabel &amp;&amp; (confirmLabel !== '')) { this.set('confirmLabel', confirmLabel); } text = text.replace(/\\n/g, '&lt;br/&gt;'); // noinspection JSUnresolvedVariable this.$.dialogTitle.innerHTML = title; // noinspection JSUnresolvedVariable this.$.dialogText.innerHTML = text; // noinspection JSUnresolvedVariable this.$.dialog.open(); }, /** * Hide the dialog * @private */ close: function() { // noinspection JSUnresolvedVariable this.$.dialog.close(); }, }); export default ConfirmDialog; Ã— Search results Close "},"error-dialog_error-dialog.js.html":{"id":"error-dialog_error-dialog.js.html","title":"Source: error-dialog/error-dialog.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: error-dialog/error-dialog.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../node_modules/@polymer/paper-styles/typography.js'; import '../../node_modules/@polymer/paper-styles/color.js'; import '../../node_modules/@polymer/paper-dialog/paper-dialog.js'; import '../../node_modules/@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js'; import '../../node_modules/@polymer/paper-item/paper-item.js'; import '../../node_modules/@polymer/paper-button/paper-button.js'; import '../../node_modules/@polymer/neon-animation/animations/fade-out-animation.js'; import '../../node_modules/@polymer/neon-animation/animations/scale-up-animation.js'; import {LocalizeBehavior} from '../../elements/setting-elements/localize-behavior/localize-behavior.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for ErrorDialog * @module els/error_dialog */ /** * Polymer dialog to display an error * @type {{}} * @alias module:els/error_dialog.ErrorDialog * @PolymerElement */ const ErrorDialog = Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } .dialog { min-width: 25vw; max-width: 75vw; } &lt;/style&gt; &lt;paper-dialog id=\"dialog\" class=\"dialog\" entry-animation=\"scale-up-animation\" exit-animation=\"fade-out-animation\"&gt; &lt;h2 id=\"dialogTitle\" class=\"vertical layout center\"&gt;&lt;/h2&gt; &lt;paper-dialog-scrollable&gt; &lt;paper-item id=\"dialogText\" class=\"text\"&gt;&lt;/paper-item&gt; &lt;/paper-dialog-scrollable&gt; &lt;div class=\"buttons\"&gt; &lt;paper-button dialog-dismiss=\"\" autofocus=\"\"&gt;[[localize('close', 'CLOSE')]]&lt;/paper-button&gt; &lt;paper-button dialog-confirm=\"\" hidden$=\"[[!showConfirmButton]]\" on-tap=\"_onConfirmTapped\"&gt;[[localize('ok', 'OK')]]&lt;/paper-button&gt; &lt;/div&gt; &lt;/paper-dialog&gt; `, is: 'error-dialog', behaviors: [ LocalizeBehavior, ], properties: { /** * Fired when the confirm button is tapped * @event confirm-tap */ /** Display confirm button state */ showConfirmButton: { type: Boolean, value: false, notify: true, }, }, /** Event: Dialog confirm button click * @private */ _onConfirmTapped: function() { this.fire('confirm-tap'); }, /** * Show the dialog * @param {string} title * @param {string} text * @private */ open: function(title, text) { title = title || 'Unknown'; text = text || 'Unknown'; text = text.replace(/\\n/g, '&lt;br/&gt;'); // noinspection JSUnresolvedVariable this.$.dialogTitle.innerHTML = title; // noinspection JSUnresolvedVariable this.$.dialogText.innerHTML = text; // noinspection JSUnresolvedVariable this.$.dialog.open(); }, /** * Hide the dialog * @private */ close: function() { // noinspection JSUnresolvedVariable this.$.dialog.close(); }, }); export default ErrorDialog; Ã— Search results Close "},"pages_google-photos-page_albums-view.js.html":{"id":"pages_google-photos-page_albums-view.js.html","title":"Source: pages/google-photos-page/albums-view.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: pages/google-photos-page/albums-view.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/iron-list/iron-list.js'; import '../../../node_modules/@polymer/iron-label/iron-label.js'; import '../../../node_modules/@polymer/iron-image/iron-image.js'; import '../../../node_modules/@polymer/paper-ripple/paper-ripple.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-item/paper-item-body.js'; import '../../../node_modules/@polymer/paper-spinner/paper-spinner.js'; import '../../../node_modules/@polymer/paper-icon-button/paper-icon-button.js'; import '../../../node_modules/@polymer/paper-checkbox/paper-checkbox.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import {showErrorDialog, showStorageErrorDialog} from '../../../elements/app-main/app-main.js'; import '../../../elements/waiter-element/waiter-element.js'; import {LocalizeBehavior} from '../../../elements/setting-elements/localize-behavior/localize-behavior.js'; import '../../../elements/my_icons.js'; import '../../../elements/shared-styles.js'; import * as MyGA from '../../../scripts/my_analytics.js'; import * as MyMsg from '../../../scripts/my_msg.js'; import * as Permissions from '../../../scripts/permissions.js'; import GoogleSource from '../../../scripts/sources/photo_source_google.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeJSON from '../../../scripts/chrome-extension-utils/scripts/json.js'; import * as ChromeLocale from '../../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeMsg from '../../../scripts/chrome-extension-utils/scripts/msg.js'; import * as ChromeStorage from '../../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the AlbumsView element * @module els/pgs/google_photos/albums_view */ /** * Max number of albums to select * @type {int} * @const * @private */ const _MAX_ALBUMS = GoogleSource.MAX_ALBUMS; /** * Max number of total photos to select * @type {int} * @const * @private */ const _MAX_PHOTOS = GoogleSource.MAX_PHOTOS; /** * The array of {@link module:sources/photo_source_google.SelectedAlbum} * @type {Array&lt;module:sources/photo_source_google.SelectedAlbum&gt;} * @private */ let _selections = []; /** * Polymer element to manage Google Photos album selections * @type {{}} * @alias module:els/pgs/google_photos/photo_cat/albums_view.AlbumsView * @PolymerElement */ Polymer({ // language=HTML format=false _template: html`&lt;!--suppress CssUnresolvedCustomPropertySet CssUnresolvedCustomProperty --&gt; &lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } :host .waiter { margin: 40px auto; } :host .waiter paper-item { @apply --paper-font-title; margin: 40px auto; } :host .list-note { height: 48px; @apply --paper-font-title; border: 1px #CCCCCC; border-bottom-style: solid; padding: 8px 16px 8px 16px; white-space: normal; } :host .list-item { position: relative; border: 1px #CCCCCC; border-bottom-style: solid; padding: 0 0 0 5px; cursor: pointer; } :host .list-item paper-item-body { padding-left: 10px; } :host .list-item paper-item { padding-right: 0; } :host .list-item iron-image { height: 72px; width: 72px; } :host .list-item[disabled] iron-image { opacity: .2; } :host .list-item[disabled] { pointer-events: none; } :host .list-item[disabled] .setting-label { color: var(--disabled-text-color); } :host #ironList { /* browser viewport height minus both toolbars and note*/ height: calc(100vh - 193px); } &lt;/style&gt; &lt;waiter-element active=\"[[waitForLoad]]\" label=\"[[localize('google_loading')]]\" status-label=\"[[waiterStatus]]\"&gt;&lt;/waiter-element&gt; &lt;div class=\"list-container\" hidden$=\"[[_computeHidden(waitForLoad, permPicasa)]]\"&gt; &lt;paper-item class=\"list-note\"&gt; [[localize('google_shared_albums_note')]] &lt;/paper-item&gt; &lt;iron-list id=\"ironList\" mutable-data=\"true\" items=\"{{albums}}\" as=\"album\"&gt; &lt;template&gt; &lt;iron-label&gt; &lt;div class=\"list-item\" id=\"[[album.uid]]\" disabled$=\"[[disabled]]\"&gt; &lt;paper-item class=\"center horizontal layout\" tabindex=\"-1\"&gt; &lt;paper-checkbox iron-label-target=\"\" checked=\"{{album.checked}}\" on-change=\"_onAlbumSelectChanged\" disabled$=\"[[disabled]]\"&gt;&lt;/paper-checkbox&gt; &lt;paper-item-body class=\"flex\" two-line=\"\"&gt; &lt;div class=\"setting-label\"&gt;[[album.name]]&lt;/div&gt; &lt;div class=\"setting-label\" secondary=\"\"&gt;[[_computePhotoLabel(album.ct)]]&lt;/div&gt; &lt;paper-ripple center=\"\"&gt;&lt;/paper-ripple&gt; &lt;/paper-item-body&gt; &lt;iron-image src=\"[[album.thumb]]\" sizing=\"cover\" preload=\"\" disabled$=\"[[disabled]]\"&gt;&lt;/iron-image&gt; &lt;/paper-item&gt; &lt;/div&gt; &lt;/iron-label&gt; &lt;/template&gt; &lt;/iron-list&gt; &lt;app-localstorage-document key=\"permPicasa\" data=\"{{permPicasa}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; &lt;/div&gt; `, is: 'albums-view', behaviors: [ LocalizeBehavior, ], properties: { /** * Fired when there are no albums. * @event no-albums */ /** The array of all {@link module:sources/photo_source_google.Album} */ albums: { type: Array, value: [], notify: true, }, /** Status of the optional permission for the Google Photos API */ permPicasa: { type: String, value: 'notSet', notify: true, }, /** Flag to indicate if UI is disabled */ disabled: { type: Boolean, value: false, }, /** Flag to display the loading... UI */ waitForLoad: { type: Boolean, value: false, notify: true, observer: '_waitForLoadChanged', }, /** Status label for waiter */ waiterStatus: { type: String, value: '', notify: true, }, /** Flag to determine if main list should be hidden */ isHidden: { type: Boolean, computed: '_computeHidden(waitForLoad, permPicasa)', }, }, /** * Element is ready */ ready: function() { // listen for chrome messages ChromeMsg.listen(this._onMessage.bind(this)); }, /** * Query Google Photos for the list of the users albums * @param {boolean} [updatePhotos=false] - if true, reload each selected album * @returns {Promise&lt;null&gt;} always resolves */ loadAlbumList: async function(updatePhotos) { const METHOD = 'AlbumsView.loadAlbumList'; const ERR_TITLE = ChromeLocale.localize('err_load_album_list'); let albums; this.set('waitForLoad', true); try { const granted = await Permissions.request(Permissions.PICASA); if (!granted) { // failed to get google photos permission await Permissions.removeGooglePhotos(); const title = ERR_TITLE; const text = ChromeLocale.localize('err_auth_picasa'); showErrorDialog(title, text, METHOD); return null; } // get the list of user's albums albums = await GoogleSource.loadAlbumList(); albums = albums || []; this.set('albums', albums); if (albums.length === 0) { // no albums let text = ChromeLocale.localize('err_no_albums'); ChromeLog.error(text, METHOD, ERR_TITLE); // fire event to let others know this.fire('no-albums'); return null; } if (updatePhotos) { // update the saved selections await this._updateSavedAlbums(); } // set selections based on those that are currently saved await this._selectSavedAlbums(); } catch (err) { // handle errors ourselves let text = err.message; showErrorDialog(ERR_TITLE, text, METHOD); } finally { this.set('waitForLoad', false); } }, /** * Select as many albums as possible * @returns {Promise&lt;void&gt;} */ selectAllAlbums: async function() { this.set('waitForLoad', true); try { for (let i = 0; i &lt; this.albums.length; i++) { const album = this.albums[i]; if (!album.checked) { this.set('albums.' + album.index + '.checked', true); const loaded = await this._loadAlbum(album, false); if (!loaded) { // something went wrong break; } } } } catch (err) { // ignore } finally { this.set('waitForLoad', false); } return null; }, /** * Remove selected albums */ removeSelectedAlbums: function() { this.albums.forEach((album, index) =&gt; { if (album.checked) { this.set('albums.' + index + '.checked', false); } }); _selections = []; ChromeStorage.asyncSet('albumSelections', []).catch(() =&gt; {}); }, /** * Event: Album checkbox state changed * @param {Event} ev - checkbox state changed * @param {module:sources/photo_source_google.Album} ev.model.album - the album * @returns {Promise&lt;void&gt;} * @private */ _onAlbumSelectChanged: async function(ev) { const METHOD = 'AlbumViews._onAlbumSelectChanged'; const album = ev.model.album; ChromeGA.event(ChromeGA.EVENT.CHECK, `selectGoogleAlbum: ${album.checked}`); try { if (album.checked) { // add new await this._loadAlbum(album, true); } else { // delete old const index = _selections.findIndex((e) =&gt; { return e.id === album.id; }); if (index !== -1) { _selections.splice(index, 1); } const set = await ChromeStorage.asyncSet('albumSelections', _selections, 'useGoogleAlbums'); if (!set) { // exceeded storage limits _selections.pop(); this.set('albums.' + album.index + '.checked', false); showStorageErrorDialog(METHOD); } } } catch (err) { // ignore } return null; }, // noinspection JSUnusedLocalSymbols /** * Event: Fired when a message is sent from either an extension process&lt;br&gt; * (by runtime.sendMessage) or a content script (by tabs.sendMessage). * @see https://developer.chrome.com/extensions/runtime#event-onMessage * @param {module:chrome/msg.Message} request - details for the message * @param {Object} [sender] - MessageSender object * @param {Function} [response] - function to call once after processing * @returns {boolean} true if asynchronous * @private */ _onMessage: async function(request, sender, response) { if (request.message === MyMsg.ALBUM_COUNT.message) { // show user status of photo loading // noinspection JSUnresolvedVariable const name = request.name || ''; // noinspection JSUnresolvedVariable const count = request.count || 0; let msg = `${name}\\n${ChromeLocale.localize( 'photo_count')} ${count.toString()}`; this.set('waiterStatus', msg); response({message: 'OK'}); } return false; }, /** * Observer: waiter changed * @param {boolean} newValue - state * @private */ _waitForLoadChanged: function(newValue) { if (newValue === false) { // noinspection JSUnresolvedVariable this.$.ironList._render(); if (this.waiterStatus !== undefined) { this.set('waiterStatus', ''); } } }, /** * Load an album from the Web * @param {module:sources/photo_source_google.Album} album * @param {boolean} [wait=true] if true handle waiter * @returns {Promise&lt;boolean&gt;} true, if successful * @private */ _loadAlbum: async function(album, wait = true) { const METHOD = 'AlbumViews._loadAlbum'; const ERR_TITLE = ChromeLocale.localize('err_load_album'); let error = null; let ret = false; try { if (_selections.length &gt;= _MAX_ALBUMS) { // reached max number of albums ChromeGA.event(MyGA.EVENT.ALBUMS_LIMITED, `limit: ${_MAX_ALBUMS}`); this.set('albums.' + album.index + '.checked', false); const text = ChromeLocale.localize('err_max_albums'); showErrorDialog(ERR_TITLE, text, METHOD); return Promise.resolve(ret); } const photoCt = await this._getTotalPhotoCount(); if (photoCt &gt;= _MAX_PHOTOS) { // reached max number of photos ChromeGA.event(MyGA.EVENT.PHOTO_SELECTIONS_LIMITED, `limit: ${photoCt}`); this.set('albums.' + album.index + '.checked', false); const text = ChromeLocale.localize('err_max_photos'); showErrorDialog(ERR_TITLE, text, METHOD); return Promise.resolve(ret); } if (wait) { this.set('waitForLoad', true); } // send message to background page to do the work const msg = ChromeJSON.shallowCopy(MyMsg.LOAD_ALBUM); msg.id = album.id; msg.name = album.name; const response = await ChromeMsg.send(msg); if (response &amp;&amp; response.photos) { // album loaded _selections.push({ id: album.id, name: response.name, photos: response.photos, }); ChromeGA.event(MyGA.EVENT.SELECT_ALBUM, `maxPhotos: ${album.ct}, actualPhotosLoaded: ${response.ct}`); const set = await ChromeStorage.asyncSet('albumSelections', _selections, 'useGoogleAlbums'); if (!set) { // exceeded storage limits _selections.pop(); this.set('albums.' + album.index + '.checked', false); showStorageErrorDialog(METHOD); return Promise.resolve(ret); } this.set('albums.' + album.index + '.ct', response.ct); } else { // error loading album error = new Error(response.message); this.set('albums.' + album.index + '.checked', false); } } catch (err) { error = err; } finally { if (wait) { this.set('waitForLoad', false); } } if (error) { showErrorDialog(ERR_TITLE, error.message, METHOD); } else { ret = true; } return Promise.resolve(ret); }, /** * Fetch the photos for all the saved albums * @returns {Promise&lt;boolean&gt;} false if we failed * @private */ _updateSavedAlbums: async function() { const METHOD = 'AlbumViews._updateSavedAlbums'; try { // send message to background page to do the work const msg = ChromeJSON.shallowCopy(MyMsg.LOAD_ALBUMS); /** @type {(module:sources/photo_source_google.SelectedAlbum[]|{message})} */ const response = await ChromeMsg.send(msg); if (Array.isArray(response)) { // try to save const set = await ChromeStorage.asyncSet('albumSelections', response, 'useGoogleAlbums'); if (!set) { // exceeded storage limits - use old _selections = await ChromeStorage.asyncGet('albumSelections', []); showStorageErrorDialog(METHOD); return Promise.resolve(false); } else { // update selections _selections = response; } } else { // error const title = ChromeLocale.localize('err_status'); const text = response.message; showErrorDialog(title, text, METHOD); return Promise.resolve(false); } } catch (err) { // ignore } return Promise.resolve(true); }, /** * Get total photo count that is currently saved * @returns {Promise&lt;int&gt;} Total number of photos saved * @private */ _getTotalPhotoCount: async function() { let ct = 0; const albums = await ChromeStorage.asyncGet('albumSelections', []); for (const album of albums) { album.photos = album.photos || []; ct += album.photos.length; } return Promise.resolve(ct); }, /** * Set the checked state based on the currently saved albums * @private */ _selectSavedAlbums: async function() { _selections = await ChromeStorage.asyncGet('albumSelections', []); for (let i = 0; i &lt; this.albums.length; i++) { for (let j = 0; j &lt; _selections.length; j++) { if (this.albums[i].id === _selections[j].id) { this.set('albums.' + i + '.checked', true); // update photo count this.set('albums.' + i + '.ct', _selections[j].photos.length); break; } } } }, /** * Computed property: Hidden state of main interface * @param {boolean} waitForLoad - true if loading * @param {string} permPicasa - permission state * @returns {boolean} true if hidden * @private */ _computeHidden: function(waitForLoad, permPicasa) { let ret = true; if (!waitForLoad &amp;&amp; (permPicasa === 'allowed')) { ret = false; } return ret; }, /** * Computed binding: Set photo count label on an album * @param {int} count - number of photos in album * @returns {string} i18n label * @private */ _computePhotoLabel: function(count) { let ret = `${count} ${ChromeLocale.localize('photos')}`; if (count === 1) { ret = `${count} ${ChromeLocale.localize('photo')}`; } return ret; }, }); Ã— Search results Close "},"pages_google-photos-page_photo_cat.js.html":{"id":"pages_google-photos-page_photo_cat.js.html","title":"Source: pages/google-photos-page/photo_cat.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: pages/google-photos-page/photo_cat.js /* ~ Copyright (c) 2016-2017, Michael A. Updike All rights reserved. ~ Licensed under Apache 2.0 ~ https://opensource.org/licenses/Apache-2.0 ~ https://goo.gl/wFvBM1 */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/paper-ripple/paper-ripple.js'; import '../../../node_modules/@polymer/paper-button/paper-button.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-item/paper-item-body.js'; import '../../../node_modules/@polymer/paper-checkbox/paper-checkbox.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import {LocalizeBehavior} from '../../../elements/setting-elements/localize-behavior/localize-behavior.js'; import '../../../elements/shared-styles.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the PhotoCat element * @module els/pgs/google_photos/photo_cat */ /** * Polymer element to include or exclude a Google Photos category * @type {{}} * @alias module:els/pgs/google_photos/photo_cat.PhotoCat * @PolymerElement */ Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;!--suppress CssUnresolvedCustomPropertySet --&gt; &lt;style&gt; :host { display: block; position: relative; } :host([disabled]) { pointer-events: none; } &lt;/style&gt; &lt;paper-item class=\"center horizontal layout\"&gt; &lt;div id=\"label\" class=\"setting-label flex\" tabindex=\"-1\"&gt;[[label]]&lt;/div&gt; &lt;paper-checkbox name=\"include\" checked=\"{{checked}}\" on-change=\"_onCheckedChange\" disabled$=\"[[disabled]]\"&gt;[[localize('include')]] &lt;/paper-checkbox&gt; &lt;/paper-item&gt; `, is: 'photo-cat', behaviors: [ LocalizeBehavior, ], properties: { /** * Fired when the user changes the selected state. * @event value-changed */ /** Descriptive label */ label: { type: String, value: '', }, /** Checked state */ checked: { type: Boolean, value: false, notify: true, }, /** Optional group title */ sectionTitle: { type: String, value: '', }, /** Disabled state of element */ disabled: { type: Boolean, value: false, }, }, /** * Event: checkbox tapped * @param {Event} ev * @private */ _onCheckedChange: function(ev) { // noinspection JSUnresolvedVariable ChromeGA.event(ChromeGA.EVENT.CHECK, `${this.id}: ${ev.srcElement.checked}`); // noinspection JSUnresolvedVariable this.fire('value-changed', {value: ev.srcElement.checked}); }, }); Ã— Search results Close "},"my_analytics.js.html":{"id":"my_analytics.js.html","title":"Source: my_analytics.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: my_analytics.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeGA from '../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeUtils from '../scripts/chrome-extension-utils/scripts/utils.js'; import '../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Manage Google Analytics tracking * @module analytics */ /** * Tracking ID * @type {string} * @const * @private */ const _TRACKING_ID = 'UA-61314754-1'; /** * Event types * @type {{}} * @property {ChromeGA.Event} CHROME_SIGN_OUT - Chrome sign out * @property {ChromeGA.Event} LOAD_ALBUM_LIST - album list * @property {ChromeGA.Event} SELECT_ALBUM - user selected album * @property {ChromeGA.Event} LOAD_ALBUM - album * @property {ChromeGA.Event} LOAD_PHOTO - photo * @property {ChromeGA.Event} LOAD_PHOTOS - photos * @property {ChromeGA.Event} LOAD_FILTERED_PHOTOS - filtered photos * @property {ChromeGA.Event} FETCH_ALBUMS - update albums from web * @property {ChromeGA.Event} FETCH_PHOTOS - update photos from web * @property {ChromeGA.Event} PHOTOS_LIMITED - did not load all photos in album * @property {ChromeGA.Event} ALBUMS_LIMITED - limited photo selections * @property {ChromeGA.Event} VIEW_PHOTO - view original source of photo * @const */ export const EVENT = { CHROME_SIGN_OUT: { eventCategory: 'user', eventAction: 'chromeSignOut', eventLabel: '', }, LOAD_ALBUM_LIST: { eventCategory: 'googlePhotosAPI', eventAction: 'loadAlbumList', eventLabel: '', }, SELECT_ALBUM: { eventCategory: 'googlePhotosAPI', eventAction: 'selectAlbum', eventLabel: '', }, LOAD_ALBUM: { eventCategory: 'googlePhotosAPI', eventAction: 'loadAlbum', eventLabel: '', }, LOAD_PHOTO: { eventCategory: 'googlePhotosAPI', eventAction: 'loadPhoto', eventLabel: '', }, LOAD_PHOTOS: { eventCategory: 'googlePhotosAPI', eventAction: 'loadPhotos', eventLabel: '', }, LOAD_FILTERED_PHOTOS: { eventCategory: 'googlePhotosAPI', eventAction: 'loadFilteredPhotos', eventLabel: '', }, FETCH_ALBUMS: { eventCategory: 'googlePhotosAPI', eventAction: 'fetchAlbums', eventLabel: '', }, FETCH_PHOTOS: { eventCategory: 'googlePhotosAPI', eventAction: 'fetchPhotos', eventLabel: '', }, PHOTOS_LIMITED: { eventCategory: 'googlePhotosAPI', eventAction: 'limitedAlbumPhotos', eventLabel: '', }, ALBUMS_LIMITED: { eventCategory: 'googlePhotosAPI', eventAction: 'limitedAlbums', eventLabel: '', }, PHOTO_SELECTIONS_LIMITED: { eventCategory: 'googlePhotosAPI', eventAction: 'limitedTotalPhotos', eventLabel: '', }, VIEW_PHOTO: { eventCategory: 'ui', eventAction: 'viewPhoto', eventLabel: '', }, }; /** * Initialize analytics */ export function initialize() { ChromeGA.initialize(_TRACKING_ID, 'Photo Screensaver', 'screensaver', ChromeUtils.getVersion()); } Ã— Search results Close "},"background_alarm.js.html":{"id":"background_alarm.js.html","title":"Source: background/alarm.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: background/alarm.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as AppData from './data.js'; import {isActive, close, display} from './ss_controller.js'; import * as PhotoSources from '../../scripts/sources/photo_sources.js'; import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import ChromeTime from '../../scripts/chrome-extension-utils/scripts/time.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Manage alarms from the chrome.alarms API * @see https://developer.chrome.com/apps/alarms * @module bg/alarm */ const chromep = new ChromePromise(); /** * Alarms triggered by chrome.alarms * @typedef {JSON} module:bg/alarm.Alarms * @property {string} ACTIVATE - screen saver is active * @property {string} DEACTIVATE - screen saver is not activate * @property {string} UPDATE_PHOTOS - photo sources should be updated * @property {string} BADGE_TEXT - icon's Badge text should be set * @type {module:bg/alarm.Alarms} * @const * @private */ const _ALARMS = { 'ACTIVATE': 'ACTIVATE', 'DEACTIVATE': 'DEACTIVATE', 'UPDATE_PHOTOS': 'UPDATE_PHOTOS', 'BADGE_TEXT': 'BADGE_TEXT', }; /** * Set the repeating alarms states */ export function updateRepeatingAlarms() { const keepAwake = ChromeStorage.getBool('keepAwake'); const aStart = ChromeStorage.get('activeStart', '00:00'); const aStop = ChromeStorage.get('activeStop', '00:00'); // create keep awake active period scheduling alarms if (keepAwake &amp;&amp; (aStart !== aStop)) { const startDelayMin = ChromeTime.getTimeDelta(aStart); const stopDelayMin = ChromeTime.getTimeDelta(aStop); chrome.alarms.create(_ALARMS.ACTIVATE, { delayInMinutes: startDelayMin, periodInMinutes: ChromeTime.MIN_IN_DAY, }); chrome.alarms.create(_ALARMS.DEACTIVATE, { delayInMinutes: stopDelayMin, periodInMinutes: ChromeTime.MIN_IN_DAY, }); // if we are currently outside of the active range // then set inactive state if (!ChromeTime.isInRange(aStart, aStop)) { _setInactiveState(); } } else { chrome.alarms.clear(_ALARMS.ACTIVATE); chrome.alarms.clear(_ALARMS.DEACTIVATE); } // Add daily alarm to update photo sources that request this chromep.alarms.get(_ALARMS.UPDATE_PHOTOS).then((alarm) =&gt; { if (!alarm) { chrome.alarms.create(_ALARMS.UPDATE_PHOTOS, { when: Date.now() + ChromeTime.MSEC_IN_DAY, periodInMinutes: ChromeTime.MIN_IN_DAY, }); } return null; }).catch((err) =&gt; { ChromeLog.error(err.message, 'chromep.alarms.get(_ALARMS.UPDATE_PHOTOS)'); }); } /** * Set the icon badge text */ export function updateBadgeText() { // delay setting a little to make sure range check is good chrome.alarms.create(_ALARMS.BADGE_TEXT, { when: Date.now() + 1000, }); } /** * Set state when the screensaver is in the active time range * @private */ function _setActiveState() { if (ChromeStorage.getBool('keepAwake')) { chrome.power.requestKeepAwake('display'); } const interval = AppData.getIdleSeconds(); chromep.idle.queryState(interval).then((state) =&gt; { // display screensaver if enabled and the idle time criteria is met if (ChromeStorage.getBool('enabled') &amp;&amp; (state === 'idle')) { display(false); } return null; }).catch((err) =&gt; { ChromeLog.error(err.message, 'Alarm._setActiveState'); }); updateBadgeText(); } /** * Set state when the screensaver is in the inactive time range * @private */ function _setInactiveState() { if (ChromeStorage.getBool('allowSuspend')) { chrome.power.releaseKeepAwake(); } else { chrome.power.requestKeepAwake('system'); } close(); updateBadgeText(); } /** * Set the Badge text on the icon * @private */ function _setBadgeText() { let text = ''; if (ChromeStorage.getBool('enabled')) { text = isActive() ? '' : ChromeLocale.localize('sleep_abbrev'); } else { text = ChromeStorage.getBool('keepAwake') ? ChromeLocale.localize( 'power_abbrev') : ChromeLocale.localize('off_abbrev'); } chrome.browserAction.setBadgeText({text: text}); } /** * Event: Fired when an alarm has elapsed. * @see https://developer.chrome.com/apps/alarms#event-onAlarm * @param {Object} alarm - details on alarm * @private */ function _onAlarm(alarm) { switch (alarm.name) { case _ALARMS.ACTIVATE: // entering active time range of keep awake _setActiveState(); break; case _ALARMS.DEACTIVATE: // leaving active time range of keep awake _setInactiveState(); break; case _ALARMS.UPDATE_PHOTOS: // get the latest for the live photo streams PhotoSources.processDaily(); break; case _ALARMS.BADGE_TEXT: // set the icons text _setBadgeText(); break; default: break; } } /** * Event: called when document and resources are loaded * @private */ function _onLoad() { // Listen for alarms chrome.alarms.onAlarm.addListener(_onAlarm); } // listen for document and resources loaded window.addEventListener('load', _onLoad); Ã— Search results Close "},"background_background.js.html":{"id":"background_background.js.html","title":"Source: background/background.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: background/background.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../scripts/background/context_menus.js'; import '../../scripts/background/user.js'; import * as AppData from './data.js'; import * as MyGA from '../../scripts/my_analytics.js'; import * as MyMsg from '../../scripts/my_msg.js'; import * as MyUtils from '../../scripts/my_utils.js'; import GoogleSource from '../../scripts/sources/photo_source_google.js'; import * as ChromeGA from '../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeMsg from '../../scripts/chrome-extension-utils/scripts/msg.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import * as ChromeUtils from '../../scripts/chrome-extension-utils/scripts/utils.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * The background script for the extension.&lt;br&gt; * @module bg/background */ /** * Display the options tab * @private */ function _showOptionsTab() { // send message to the option tab to focus it. ChromeMsg.send(ChromeMsg.HIGHLIGHT).catch(() =&gt; { // no one listening, create it chrome.tabs.create({url: '/html/options.html'}); }); } /** * Event: Fired when the extension is first installed,&lt;br /&gt; * when the extension is updated to a new version,&lt;br /&gt; * and when Chrome is updated to a new version. * @see https://developer.chrome.com/extensions/runtime#event-onInstalled * @param {Object} details - type of event * @param {string} details.reason - reason for install * @param {string} details.previousVersion - old version if 'update' reason * @private */ function _onInstalled(details) { if (details.reason === 'install') { // initial install ChromeGA.event(ChromeGA.EVENT.INSTALLED, ChromeUtils.getVersion()); AppData.initialize().then(() =&gt; { _showOptionsTab(); return null; }).catch(() =&gt; {}); } else if (details.reason === 'update') { // extension updated if (!MyUtils.DEBUG) { const oldVer = details.previousVersion; const version = ChromeUtils.getVersion(); if (version === oldVer) { // spurious update: // https://bugs.chromium.org/p/chromium/issues/detail?id=303481 return; } // TODO clean this up let showThreeInfo = false; if (oldVer &amp;&amp; !oldVer.startsWith('3')) { showThreeInfo = true; } if (showThreeInfo) { // show info on the update when moving from a now 3.x.x version chrome.tabs.create({url: '/html/update3.html'}); } } AppData.update(); } } /** * Event: Fired when a profile that has this extension installed first * starts up * @see https://developer.chrome.com/extensions/runtime#event-onStartup * @private */ function _onStartup() { ChromeGA.page('/background.html'); AppData.processState().catch(() =&gt; {}); } /** * Event: Fired when a browser action icon is clicked. * @see https://goo.gl/abVwKu * @private */ function _onIconClicked() { _showOptionsTab(); } /** * Event: Fired when item in localStorage changes * @see https://developer.mozilla.org/en-US/docs/Web/Events/storage * @param {Event} event - StorageEvent * @param {string} event.key - storage item that changed * @private */ function _onStorageChanged(event) { AppData.processState(event.key).catch(() =&gt; {}); } // noinspection JSUnusedLocalSymbols /** * Event: Fired when a message is sent from either an extension process&lt;br&gt; * (by runtime.sendMessage) or a content script (by tabs.sendMessage). * @see https://developer.chrome.com/extensions/runtime#event-onMessage * @param {module:chrome/msg.Message} request - details for the message * @param {Object} [sender] - MessageSender object * @param {Function} [response] - function to call once after processing * @returns {boolean} true if asynchronous * @private */ function _onChromeMessage(request, sender, response) { let ret = false; if (request.message === ChromeMsg.RESTORE_DEFAULTS.message) { AppData.restoreDefaults(); } else if (request.message === ChromeMsg.STORE.message) { ChromeStorage.set(request.key, request.value); } else if (request.message === MyMsg.LOAD_FILTERED_PHOTOS.message) { ret = true; GoogleSource.loadFilteredPhotos(true, true).then((photos) =&gt; { response(photos); return null; }).catch((err) =&gt; { response({message: err.message}); }); } else if (request.message === MyMsg.LOAD_ALBUM.message) { ret = true; // noinspection JSUnresolvedVariable GoogleSource.loadAlbum(request.id, request.name, true, true). then((album) =&gt; { response(album); return null; }).catch((err) =&gt; { response({message: err.message}); }); } else if (request.message === MyMsg.LOAD_ALBUMS.message) { ret = true; GoogleSource.loadAlbums(true, true). then((albums) =&gt; { response(albums); return null; }).catch((err) =&gt; { response({message: err.message}); }); } return ret; } /** * Event: called when document and resources are loaded * @private */ function _onLoad() { MyGA.initialize(); // listen for extension install or update chrome.runtime.onInstalled.addListener(_onInstalled); // listen for Chrome starting chrome.runtime.onStartup.addListener(_onStartup); // listen for click on the icon chrome.browserAction.onClicked.addListener(_onIconClicked); // listen for changes to the stored data addEventListener('storage', _onStorageChanged, false); // listen for chrome messages ChromeMsg.listen(_onChromeMessage); } // listen for document and resources loaded window.addEventListener('load', _onLoad); Ã— Search results Close "},"background_context_menus.js.html":{"id":"background_context_menus.js.html","title":"Source: background/context_menus.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: background/context_menus.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as AppData from './data.js'; import {display} from './ss_controller.js'; import * as ChromeGA from '../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Manage the Context Menus for the extension * @see https://developer.chrome.com/extensions/contextMenus * @module bg/context_menus */ const _DISPLAY_MENU = 'DISPLAY_MENU'; const _ENABLE_MENU = 'ENABLE_MENU'; /** * Toggle enabled state of the screen saver * @private */ function _toggleEnabled() { const oldState = ChromeStorage.getBool('enabled', true); ChromeStorage.set('enabled', !oldState); // storage changed event not fired on same page as the change AppData.processState('enabled').catch(() =&gt; {}); } // noinspection JSUnusedLocalSymbols /** * Event: Fired when the extension is first installed,&lt;br /&gt; * when the extension is updated to a new version,&lt;br /&gt; * and when Chrome is updated to a new version. * @see https://developer.chrome.com/extensions/runtime#event-onInstalled * @param {Object} details - type of event * @private */ function _onInstalled(details) { const chromep = new ChromePromise(); // create menus on the right click menu of the extension icon chromep.contextMenus.create({ type: 'normal', id: _DISPLAY_MENU, title: ChromeLocale.localize('display_now'), contexts: ['browser_action'], }).catch((err) =&gt; { if (!err.message.includes('duplicate id')) { ChromeLog.error(err.message, 'chromep.contextMenus.create'); } }); chromep.contextMenus.create({ type: 'normal', id: _ENABLE_MENU, title: ChromeLocale.localize('disable'), contexts: ['browser_action'], }).catch((err) =&gt; { if (!err.message.includes('duplicate id')) { ChromeLog.error(err.message, 'chromep.contextMenus.create'); } }); chromep.contextMenus.create({ type: 'separator', id: 'SEP_MENU', contexts: ['browser_action'], }).catch((err) =&gt; { if (!err.message.includes('duplicate id')) { ChromeLog.error(err.message, 'chromep.contextMenus.create'); } }); } /** * Event: Fired when a context menu item is clicked. * @see https://developer.chrome.com/extensions/contextMenus#event-onClicked * @param {Object} info - info. on the clicked menu * @param {Object} info.menuItemId - menu name * @private */ function _onMenuClicked(info) { if (info.menuItemId === _DISPLAY_MENU) { ChromeGA.event(ChromeGA.EVENT.MENU, `${info.menuItemId}`); display(false); } else if (info.menuItemId === _ENABLE_MENU) { const isEnabled = ChromeStorage.getBool('enabled'); ChromeGA.event(ChromeGA.EVENT.MENU, `${info.menuItemId}: ${isEnabled}`); _toggleEnabled(); } } /** * Event: Fired when a registered command is activated using * a keyboard shortcut. * @see https://developer.chrome.com/extensions/commands#event-onCommand * @param {string} cmd - keyboard command * @private */ function _onKeyCommand(cmd) { if (cmd === 'toggle-enabled') { ChromeGA.event(ChromeGA.EVENT.KEY_COMMAND, `${cmd}`); _toggleEnabled(); } else if (cmd === 'show-screensaver') { ChromeGA.event(ChromeGA.EVENT.KEY_COMMAND, `${cmd}`); display(false); } } /** * Event: called when document and resources are loaded&lt;br /&gt; * @private */ function _onLoad() { // listen for install events chrome.runtime.onInstalled.addListener(_onInstalled); // listen for clicks on context menus chrome.contextMenus.onClicked.addListener(_onMenuClicked); // listen for special keyboard commands chrome.commands.onCommand.addListener(_onKeyCommand); } // listen for documents and resources loaded window.addEventListener('load', _onLoad); Ã— Search results Close "},"background_data.js.html":{"id":"background_data.js.html","title":"Source: background/data.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: background/data.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import {updateBadgeText, updateRepeatingAlarms} from './alarm.js'; import * as MyMsg from '../../scripts/my_msg.js'; import GoogleSource from '../../scripts/sources/photo_source_google.js'; import * as PhotoSources from '../../scripts/sources/photo_sources.js'; import * as ChromeAuth from '../../scripts/chrome-extension-utils/scripts/auth.js'; import ChromeLastError from '../../scripts/chrome-extension-utils/scripts/last_error.js'; import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeMsg from '../../scripts/chrome-extension-utils/scripts/msg.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Manage the extension's global data * @module bg/data */ const chromep = new ChromePromise(); /** * Version of localStorage - update when items are added, removed, changed * @type {int} * @default * @const * @private */ const _DATA_VERSION = 23; /** * Default values in localStorage * @typedef {{}} module:bg/data._DEF_VALUES * @property {int} version - version of data * @property {boolean} enabled - is screensaver enabled * @property {string} permPicasa - optional permission for Picasa * @property {string} permBackground - optional permission to run in bg * @property {boolean} allowBackground - run Chrome in background * @property {module:els/setting/slider.SettingSlider.UnitValue} idleTime * - idle time to display screensaver * @property {module:els/setting/slider.SettingSlider.UnitValue} transitionTime * - time between photos * @property {boolean} skip - ignore extreme aspect ratio photos * @property {boolean} shuffle - randomize photo order * @property {int} photoSizing - photo display type * @property {int} photoTransition - transition animation * @property {boolean} interactive - vcr controls for screensaver * @property {int} showTime - time display format * @property {boolean} largeTime - display larger time label * @property {boolean} showPhotog - display name on own photos * @property {boolean} showLocation - display photo location * @property {string} background - background image * @property {boolean} keepAwake - manage computer poser settings * @property {boolean} chromeFullscreen - don't display over fullscreen * @property {boolean} allDisplays - show on all displays * @property {string} activeStart - Keep Wake start time '00:00' 24 hr * @property {string} activeStop - Keep Wake stop time '00:00' 24 hr * @property {boolean} allowSuspend - let computer sleep * @property {boolean} allowPhotoClicks - show photo source on left click * @property {boolean} useSpaceReddit - use this photo source * @property {boolean} useEarthReddit - use this photo source * @property {boolean} useAnimalReddit - use this photo source * @property {boolean} useInterestingFlickr - use this photo source * @property {boolean} useChromecast - use this photo source * @property {boolean} useAuthors - use this photo source * @property {boolean} fullResGoogle - true for actual size Google photos * @property {boolean} isAlbumMode - true if Google Photos album mode * @property {boolean} useGoogle - use this photo source * @property {boolean} useGoogleAlbums - use this photo source * @property {boolean} useGooglePhotos - use this photo source * @property {boolean} signedInToChrome - state of Chrome signin * @property {boolean} googlePhotosNoFilter - don't filter photos * @property {{}} googlePhotosFilter - filter for retrieving google photos * @type {module:bg/data._DEF_VALUES} * @const * @private */ const _DEF_VALUES = { 'version': _DATA_VERSION, 'enabled': true, 'permPicasa': 'notSet', // enum: notSet allowed denied 'permBackground': 'notSet', // enum: notSet allowed denied 'allowBackground': false, 'idleTime': {'base': 5, 'display': 5, 'unit': 0}, // minutes 'transitionTime': {'base': 30, 'display': 30, 'unit': 0}, // seconds 'skip': true, 'shuffle': true, 'photoSizing': 0, 'photoTransition': 1, 'interactive': false, 'showTime': 2, // 24 hr format 'largeTime': false, 'showPhotog': true, 'showLocation': true, 'background': 'background:linear-gradient(to bottom, #3a3a3a, #b5bdc8)', 'keepAwake': false, 'chromeFullscreen': true, 'allDisplays': false, 'activeStart': '00:00', // 24 hr time 'activeStop': '00:00', // 24 hr time 'allowSuspend': false, 'allowPhotoClicks': true, 'useSpaceReddit': false, 'useEarthReddit': false, 'useAnimalReddit': false, 'useInterestingFlickr': false, 'useChromecast': true, 'useAuthors': false, 'fullResGoogle': false, 'isAlbumMode': true, 'useGoogle': true, 'useGoogleAlbums': true, 'useGooglePhotos': false, 'signedInToChrome': true, 'googlePhotosNoFilter': true, 'googlePhotosFilter': GoogleSource.DEF_FILTER, }; /** * Initialize the data saved in localStorage */ export async function initialize() { try { _addDefaults(); // set operating system await _setOS(); // set signin state const signedIn = await ChromeAuth.isSignedIn(); ChromeStorage.set('signedInToChrome', signedIn); // add the last error await ChromeLastError.reset(); // set time format based on locale ChromeStorage.set('showTime', _getTimeFormat()); // update state await processState(); } catch (err) { // ignore } } /** * Update the data saved in localStorage */ export function update() { // New items, changes, and removal of unused items can take place // here when the version changes let oldVersion = ChromeStorage.getInt('version'); if (Number.isNaN(oldVersion) || (_DATA_VERSION &gt; oldVersion)) { // update version number ChromeStorage.set('version', _DATA_VERSION); } if (!Number.isNaN(oldVersion)) { if (oldVersion &lt; 8) { // change setting-slider values due to adding units _convertSliderValue('transitionTime'); _convertSliderValue('idleTime'); } if (oldVersion &lt; 10) { // was setting this without quotes before const oldOS = localStorage.getItem('os'); if (oldOS) { ChromeStorage.set('os', oldOS); } } if (oldVersion &lt; 12) { // picasa used to be a required permission // installed extensions before the change will keep // this permission on update. // https://stackoverflow.com/a/38278824/4468645 ChromeStorage.set('permPicasa', 'allowed'); } if (oldVersion &lt; 14) { // background used to be a required permission // installed extensions before the change will keep // this permission on update. // https://stackoverflow.com/a/38278824/4468645 ChromeStorage.set('permBackground', 'allowed'); ChromeStorage.set('allowBackground', true); } if (oldVersion &lt; 18) { // Need new permission for Google Photos API ChromeStorage.set('permPicasa', 'notSet'); // Remove cached Auth token ChromeAuth.removeCachedToken(false, null, null).catch(() =&gt; { // nice to remove but not critical return null; }); // Google Photos API not compatible with Picasa API album id's ChromeStorage.set('albumSelections', []); } } if (oldVersion &lt; 19) { // remove all traces of 500px ChromeStorage.set('useEditors500px', null); ChromeStorage.set('usePopular500px', null); ChromeStorage.set('useYesterday500px', null); ChromeStorage.set('editors500pxImages', null); ChromeStorage.set('popular500pxImages', null); ChromeStorage.set('yesterday500pxImages', null); } if (oldVersion &lt; 20) { // set signin state ChromeAuth.isSignedIn().then((signedIn) =&gt; { ChromeStorage.set('signedInToChrome', signedIn); return null; }).catch(() =&gt; {}); // change minimum transition time const trans = ChromeStorage.get('transitionTime', {'base': 30, 'display': 30, 'unit': 0}); if ((trans.unit === 0)) { trans.base = Math.max(10, trans.base); trans.display = trans.base; ChromeStorage.set('transitionTime', trans); } } if (oldVersion &lt; 21) { _updateToChromeLocaleStorage().catch(() =&gt; {}); } if (oldVersion &lt; 22) { // remove unused data ChromeStorage.set('gPhotosNeedsUpdate', null); ChromeStorage.set('gPhotosMaxAlbums', null); ChromeStorage.set('isAwake', null); ChromeStorage.set('isShowing', null); ChromeStorage.set('albumSelections', null); } if (oldVersion &lt; 22) { // remove unused data ChromeStorage.set('googleImages', null); } _addDefaults(); // update state processState().catch(() =&gt; {}); } /** * Restore default values for data saved in localStorage */ export function restoreDefaults() { Object.keys(_DEF_VALUES).forEach((key) =&gt; { // skip Google Photos settings if (!key.includes('useGoogle') &amp;&amp; (key !== 'useGoogleAlbums') &amp;&amp; (key !== 'useGooglePhotos') &amp;&amp; (key !== 'signedInToChrome') &amp;&amp; (key !== 'isAlbumMode') &amp;&amp; (key !== 'googlePhotosFilter') &amp;&amp; (key !== 'permPicasa')) { ChromeStorage.set(key, _DEF_VALUES[key]); } }); // restore default time format based on locale ChromeStorage.set('showTime', _getTimeFormat()); // update state processState().catch(() =&gt; {}); } /** * Process changes to localStorage items * @param {string} [key='all'] - the item that changed * @returns {Promise&lt;void&gt;} */ export async function processState(key = 'all') { if (key === 'all') { // update everything _processEnabled(); _processKeepAwake(); _processIdleTime(); // process photo SOURCES PhotoSources.processAll(false); // set os, if not already if (!ChromeStorage.get('os')) { await _setOS(); } } else { // individual change if (PhotoSources.isUseKey(key) || (key === 'fullResGoogle')) { // photo source usage or full resolution google photos changed let useKey = key; if (key === 'fullResGoogle') { // full res photo state changed update albums or photos const isAlbums = ChromeStorage.getBool('useGoogleAlbums'); if (isAlbums) { // update albums useKey = 'useGoogleAlbums'; try { await PhotoSources.process(useKey); } catch (err) { const msg = MyMsg.PHOTO_SOURCE_FAILED; msg.key = useKey; msg.error = err.message; ChromeMsg.send(msg).catch(() =&gt; {}); } } const isPhotos = ChromeStorage.getBool('useGooglePhotos'); if (isPhotos) { // update photos useKey = 'useGooglePhotos'; try { await PhotoSources.process(useKey); } catch (err) { const msg = MyMsg.PHOTO_SOURCE_FAILED; msg.key = useKey; msg.error = err.message; ChromeMsg.send(msg).catch(() =&gt; {}); } } } else if ((key !== 'useGoogleAlbums') &amp;&amp; (key !== 'useGooglePhotos')) { // update photo source - skip Google sources as they are handled // by the UI when the mode changes try { await PhotoSources.process(useKey); } catch (err) { const msg = MyMsg.PHOTO_SOURCE_FAILED; msg.key = useKey; msg.error = err.message; ChromeMsg.send(msg).catch(() =&gt; {}); } } } else { switch (key) { case 'enabled': _processEnabled(); break; case 'idleTime': _processIdleTime(); break; case 'keepAwake': case 'activeStart': case 'activeStop': case 'allowSuspend': _processKeepAwake(); break; default: break; } } } return null; } /** * Get the idle time in seconds * @returns {!int} idle time in seconds */ export function getIdleSeconds() { const idle = ChromeStorage.get('idleTime', _DEF_VALUES['idleTime']); return idle.base * 60; } /** * Move the currently selected photo sources to chrome.storage.local * and delete the old ones * @private */ async function _updateToChromeLocaleStorage() { const sources = PhotoSources.getSelectedSources(); for (const source of sources) { const key = source.getPhotosKey(); const value = ChromeStorage.get(key); if (value) { const set = await ChromeStorage.asyncSet(key, value); if (!set) { const desc = source.getDesc(); const msg = `Failed to move source: ${desc} to chrome.storage`; ChromeLog.error(msg, 'AppData._updateToChromeLocaleStorage'); } // delete old one ChromeStorage.set(key, null); } } } /** * Set state based on screensaver enabled flag * Note: this does not effect the keep awake settings so you could * use the extension as a display keep awake scheduler without * using the screensaver * @private */ function _processEnabled() { // update context menu text const label = ChromeStorage.getBool('enabled') ? ChromeLocale.localize( 'disable') : ChromeLocale.localize('enable'); updateBadgeText(); chromep.contextMenus.update('ENABLE_MENU', { title: label, }).catch(() =&gt; {}); } /** * Set power scheduling features * @private */ function _processKeepAwake() { const keepAwake = ChromeStorage.getBool('keepAwake', true); keepAwake ? chrome.power.requestKeepAwake('display') : chrome.power.releaseKeepAwake(); updateRepeatingAlarms(); updateBadgeText(); } /** * Set wait time for screen saver display after machine is idle * @private */ function _processIdleTime() { chrome.idle.setDetectionInterval(getIdleSeconds()); } /** * Get default time format based on locale * @returns {int} 12 or 24 * @private */ function _getTimeFormat() { const format = ChromeLocale.localize('time_format', '12'); return (format === '12') ? 1 : 2; } /** * Set the 'os' value * @returns {Promise&lt;void&gt;} * @private */ async function _setOS() { try { const info = await chromep.runtime.getPlatformInfo(); ChromeStorage.set('os', info.os); } catch (err) { // something went wrong - linux seems to fail this call sometimes ChromeStorage.set('os', 'unknown'); } return null; } /** * Save the [_DEF_VALUES]{@link module:bg/data._DEF_VALUES} items, if they * do not already exist * @private */ function _addDefaults() { Object.keys(_DEF_VALUES).forEach(function(key) { if (ChromeStorage.get(key) === null) { ChromeStorage.set(key, _DEF_VALUES[key]); } }); } /** * Convert a setting-slider value due to addition of units * @param {!string} key - localStorage key * @private */ function _convertSliderValue(key) { const value = ChromeStorage.get(key); if (value) { const newValue = { base: value, display: value, unit: 0, }; ChromeStorage.set(key, newValue); } } Ã— Search results Close "},"background_ss_controller.js.html":{"id":"background_ss_controller.js.html","title":"Source: background/ss_controller.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: background/ss_controller.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as MyMsg from '../../scripts/my_msg.js'; import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeMsg from '../../scripts/chrome-extension-utils/scripts/msg.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import ChromeTime from '../../scripts/chrome-extension-utils/scripts/time.js'; import * as ChromeUtils from '../../scripts/chrome-extension-utils/scripts/utils.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Controller for the screen saver * @module bg/ss_control */ const chromep = new ChromePromise(); /** * Screensaver URL * @type {string} * @const * @private */ const _SS_URL = '/html/screensaver.html'; /** * Error showing Screensaver * @type {string} * @const * @private */ const _ERR_SHOW = ChromeLocale.localize('err_show_ss'); /** * Determine if the screen saver can be displayed * @returns {boolean} true, if can display */ export function isActive() { const enabled = ChromeStorage.getBool('enabled'); const keepAwake = ChromeStorage.getBool('keepAwake'); const aStart = ChromeStorage.get('activeStart'); const aStop = ChromeStorage.get('activeStop'); const inRange = ChromeTime.isInRange(aStart, aStop); // do not display if screen saver is not enabled or // keepAwake scheduler is enabled and is in the inactive range return !(!enabled || (keepAwake &amp;&amp; !inRange)); } /** * Display the screen saver(s) * !Important: Always request screensaver through this call * @param {boolean} single - if true, only show on one display */ export function display(single) { if (!single &amp;&amp; ChromeStorage.getBool('allDisplays')) { _openOnAllDisplays(); } else { _open(null); } } /** * Close all the screen saver windows */ export function close() { // send message to the screen savers to close themselves ChromeMsg.send(MyMsg.SS_CLOSE).catch(() =&gt; {}); } /** * Determine if there is a full screen chrome window running on a display * @param {Object} display - a connected display * @returns {Promise&lt;boolean&gt;} true if there is a full screen * window on the display * @private */ function _hasFullscreen(display) { if (ChromeStorage.getBool('chromeFullscreen')) { return chromep.windows.getAll({populate: false}).then((wins) =&gt; { let ret = false; const left = display ? display.bounds.left : 0; const top = display ? display.bounds.top : 0; for (let i = 0; i &lt; wins.length; i++) { const win = wins[i]; if ((win.state === 'fullscreen') &amp;&amp; (!display || (win.top === top &amp;&amp; win.left === left))) { ret = true; break; } } return Promise.resolve(ret); }); } else { return Promise.resolve(false); } } /** * Determine if the screen saver is currently showing * @returns {Promise&lt;boolean&gt;} true if showing * @private */ function _isShowing() { // send message to the screensaver to see if he is around return ChromeMsg.send(MyMsg.SS_IS_SHOWING).then(() =&gt; { return Promise.resolve(true); }).catch(() =&gt; { // no one listening return Promise.resolve(false); }); } /** * Open a screen saver window on the given display * @param {Object} display - a connected display * @private */ function _open(display) { // window creation options const winOpts = { url: _SS_URL, type: 'popup', }; _hasFullscreen(display).then((isTrue) =&gt; { if (isTrue) { // don't display if there is a fullscreen window return null; } if (ChromeUtils.getChromeVersion() &gt;= 44 &amp;&amp; !display) { // Chrome supports fullscreen option on create since version 44 winOpts.state = 'fullscreen'; } else { const left = display ? display.bounds.left : 0; const top = display ? display.bounds.top : 0; winOpts.left = left; winOpts.top = top; winOpts.width = 1; winOpts.height = 1; } return chromep.windows.create(winOpts); }).then((win) =&gt; { if (win &amp;&amp; (winOpts.state !== 'fullscreen')) { chrome.windows.update(win.id, {state: 'fullscreen'}); } return win; }).then((win) =&gt; { // force focus if (win) { chrome.windows.update(win.id, {focused: true}); } return null; }).catch((err) =&gt; { ChromeLog.error(err.message, 'SSControl._open', _ERR_SHOW); }); } /** * Open a screensaver on every display * @private */ function _openOnAllDisplays() { chromep.system.display.getInfo().then((displayArr) =&gt; { if (displayArr.length === 1) { _open(null); } else { for (const display of displayArr) { _open(display); } } return null; }).catch((err) =&gt; { ChromeLog.error(err.message, 'SSControl._openOnAllDisplays', _ERR_SHOW); }); } /** * Event: Fired when the system changes to an active, idle or locked state. * The event fires with \"locked\" if the screen is locked or the [built in] screensaver * activates, \"idle\" if the system is unlocked and the user has not * generated any input for a specified number of seconds, and \"active\" * when the user generates input on an idle system. * @see https://developer.chrome.com/extensions/idle#event-onStateChanged * @param {string} state - current state of computer * @private */ function _onIdleStateChanged(state) { _isShowing().then((isShowing) =&gt; { if (state === 'idle') { if (isActive() &amp;&amp; !isShowing) { display(false); } } else if (state === 'locked') { // close on screen lock close(); } else { // eslint-disable-next-line promise/no-nesting return ChromeUtils.isWindows().then((isTrue) =&gt; { if (!isTrue) { // Windows 10 Creators triggers an 'active' state // when the window is created, so we have to skip closing here. // Wouldn't need this at all if ChromeOS handled keyboard (or focus?) right close(); } return null; }); } return null; }).catch((err) =&gt; { ChromeLog.error(err.message, 'SSControl._isShowing', _ERR_SHOW); }); } // noinspection JSUnusedLocalSymbols /** * Event: Fired when a message is sent from either an extension process&lt;br&gt; * (by runtime.sendMessage) or a content script (by tabs.sendMessage). * @see https://developer.chrome.com/extensions/runtime#event-onMessage * @param {module:chrome/msg.Message} request - details for the message * @param {Object} [sender] - MessageSender object * @param {Function} [response] - function to call once after processing * @returns {boolean} true if asynchronous * @private */ function _onChromeMessage(request, sender, response) { if (request.message === MyMsg.SS_SHOW.message) { // preview the screensaver display(true); } return false; } /** * Event: called when document and resources are loaded * @private */ function _onLoad() { // listen for changes to the idle state of the computer chrome.idle.onStateChanged.addListener(_onIdleStateChanged); // listen for chrome messages ChromeMsg.listen(_onChromeMessage); } // listen for document and resources loaded window.addEventListener('load', _onLoad); Ã— Search results Close "},"background_user.js.html":{"id":"background_user.js.html","title":"Source: background/user.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: background/user.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeGA from '../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import * as MyGA from '../../scripts/my_analytics.js'; /** * Manage the Chrome sign-in state * @module bg/user */ /** * Event: Fired when signin state changes for an act. on the user's profile. * @see https://developer.chrome.com/apps/identity#event-onSignInChanged * @param {Object} account - chrome AccountInfo * @param {boolean} signedIn - true if signedIn * @private */ function _onSignInChanged(account, signedIn) { ChromeStorage.set('signedInToChrome', signedIn); if (!signedIn) { ChromeGA.event(MyGA.EVENT.CHROME_SIGN_OUT); ChromeStorage.asyncSet('albumSelections', []).catch(() =&gt; {}); ChromeStorage.asyncSet('googleImages', []).catch(() =&gt; {}); const type = ChromeStorage.get('permPicasa'); if (type === 'allowed') { ChromeLog.error(ChromeLocale.localize('err_chrome_signout'), 'User._onSignInChanged'); } } } /** * Event: called when document and resources are loaded * @private */ function _onLoad() { // Listen for changes to Browser sign-in // noinspection JSUnresolvedVariable chrome.identity.onSignInChanged.addListener(_onSignInChanged); } // listen for documents and resources loaded window.addEventListener('load', _onLoad); Ã— Search results Close "},"chrome-extension-utils_scripts_auth.js.html":{"id":"chrome-extension-utils_scripts_auth.js.html","title":"Source: chrome-extension-utils/scripts/auth.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/auth.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import './ex_handler.js'; /** * Google Oauth2.0 utilities * @see https://developer.chrome.com/apps/identity * @module chrome/auth */ const chromep = new ChromePromise(); /** * Get an OAuth2.0 token&lt;br /&gt; * Note: Every time you use a different scopes array, you will get a new * token the first time, so you need to always get it with those scopes * and remove the cached one with the scopes. * @param {boolean} interactive - if true may block * @param {string[]|null} [scopes=null] - optional scopes to use, overrides * those in the manifest * @returns {Promise&lt;string&gt;} An access token */ export function getToken(interactive = false, scopes = null) { const request = { interactive: interactive, }; if (scopes &amp;&amp; scopes.length) { request.scopes = scopes; } return chromep.identity.getAuthToken(request).then((token) =&gt; { return Promise.resolve(token); }); } /** * Remove a cached OAuth2.0 token * @param {boolean} interactive - if true may block * @param {string|null} [curToken=null] token to remove * @param {string[]|null} [scopes=null] - optional scopes to use, overrides * those in the manifest * @returns {Promise.&lt;string&gt;} the old token */ export function removeCachedToken(interactive = false, curToken = null, scopes = null) { let oldToken = null; if (curToken === null) { return getToken(interactive, scopes).then((token) =&gt; { oldToken = token; return chromep.identity.removeCachedAuthToken({token: token}); }).then(() =&gt; { return Promise.resolve(oldToken); }); } else { oldToken = curToken; return chromep.identity.removeCachedAuthToken({ 'token': curToken, }).then(() =&gt; { return Promise.resolve(oldToken); }); } } /** * Is a user signed in to Chrome * @returns {Promise&lt;boolean&gt;} true if signed in */ export function isSignedIn() { let ret = true; // try to get a token and check failure message return chromep.identity.getAuthToken({interactive: false}).then(() =&gt; { return Promise.resolve(ret); }).catch((err) =&gt; { if (err.message.match(/not signed in/)) { ret = false; } return Promise.resolve(ret); }); } /** * Has our authorization been revoked (or not granted) for the default * scopes * @returns {Promise&lt;boolean&gt;} true if no valid token */ export function isRevoked() { let ret = false; // try to get a token and check failure message return chromep.identity.getAuthToken({interactive: false}).then(() =&gt; { return Promise.resolve(ret); }).catch((err) =&gt; { if (err.message.match(/OAuth2 not granted or revoked/)) { ret = true; } return Promise.resolve(ret); }); } Ã— Search results Close "},"chrome-extension-utils_scripts_ex_handler.js.html":{"id":"chrome-extension-utils_scripts_ex_handler.js.html","title":"Source: chrome-extension-utils/scripts/ex_handler.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/ex_handler.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeLog from './log.js'; /** * Google Oauth2.0 utilities * @see https://developer.chrome.com/apps/identity * @module chrome/exception */ /** * Replace global error handler for logging with Google Analytics. */ export class ExHandler { /** * Replace window.onerror * @constructor */ constructor() { if (typeof window.onerror === 'object') { // global error handler window.onerror = function(message, url, line, col, errObject) { if (ChromeLog &amp;&amp; errObject) { ChromeLog.exception(errObject, null, true); } }; } } } new ExHandler(); Ã— Search results Close "},"chrome-extension-utils_scripts_analytics.js.html":{"id":"chrome-extension-utils_scripts_analytics.js.html","title":"Source: chrome-extension-utils/scripts/analytics.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/analytics.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeJSON from './json.js'; import * as ChromeUtils from './utils.js'; /** * Google Analytics tracking * @module chrome/ga */ /** * Google Analytics Event * @typedef {Object} module:chrome/ga.Event * @property {string} eventCategory - category * @property {string} eventAction - action * @property {string} eventLabel - label */ /** * Event types * @type {{}} * @property {module:chrome/ga.Event} INSTALLED - extension installed * @property {module:chrome/ga.Event} UPDATED - extension updated * @property {module:chrome/ga.Event} REFRESHED_AUTH_TOKEN - cached token refreshed * @property {module:chrome/ga.Event} ALARM - Chrome alarm triggered * @property {module:chrome/ga.Event} MENU - menu selected * @property {module:chrome/ga.Event} TOGGLE - setting-toggle * @property {module:chrome/ga.Event} LINK - setting-link * @property {module:chrome/ga.Event} TEXT - setting-text * @property {module:chrome/ga.Event} SLIDER_VALUE - setting-slider value * @property {module:chrome/ga.Event} SLIDER_UNITS - setting-slider unit * @property {module:chrome/ga.Event} BUTTON - button click * @property {module:chrome/ga.Event} ICON - toolbar icon click * @property {module:chrome/ga.Event} CHECK - checkbox click * @property {module:chrome/ga.Event} KEY_COMMAND - keyboard shortcut * @const */ export const EVENT = { INSTALLED: { eventCategory: 'extension', eventAction: 'installed', eventLabel: '', }, UPDATED: { eventCategory: 'extension', eventAction: 'updated', eventLabel: '', }, REFRESHED_AUTH_TOKEN: { eventCategory: 'user', eventAction: 'refreshedAuthToken', eventLabel: '', }, ALARM: { eventCategory: 'alarm', eventAction: 'triggered', eventLabel: '', }, MENU: { eventCategory: 'ui', eventAction: 'menuSelect', eventLabel: '', }, TOGGLE: { eventCategory: 'ui', eventAction: 'toggle', eventLabel: '', }, LINK: { eventCategory: 'ui', eventAction: 'linkSelect', eventLabel: '', }, TEXT: { eventCategory: 'ui', eventAction: 'textChanged', eventLabel: '', }, SLIDER_VALUE: { eventCategory: 'ui', eventAction: 'sliderValueChanged', eventLabel: '', }, SLIDER_UNITS: { eventCategory: 'ui', eventAction: 'sliderUnitsChanged', eventLabel: '', }, BUTTON: { eventCategory: 'ui', eventAction: 'buttonClicked', eventLabel: '', }, RADIO_BUTTON: { eventCategory: 'ui', eventAction: 'radioButtonClicked', eventLabel: '', }, ICON: { eventCategory: 'ui', eventAction: 'toolbarIconClicked', eventLabel: '', }, CHECK: { eventCategory: 'ui', eventAction: 'checkBoxClicked', eventLabel: '', }, KEY_COMMAND: { eventCategory: 'ui', eventAction: 'keyCommand', eventLabel: '', }, }; /** * Initialize analytics * @param {string} trackingId - tracking id * @param {string} appName - extension name * @param {string} appId - extension Id * @param {string} appVersion - extension version */ export function initialize(trackingId, appName, appId, appVersion) { // Standard Google Universal Analytics code // noinspection OverlyComplexFunctionJS (function(i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; // noinspection CommaExpressionJS i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments); }, i[r].l = 1 * new Date(); // noinspection CommaExpressionJS a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m); })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga'); ga('create', trackingId, 'auto'); // see: http://stackoverflow.com/a/22152353/1958200 ga('set', 'checkProtocolTask', function() { }); ga('set', 'appName', appName); ga('set', 'appId', appId); ga('set', 'appVersion', appVersion); ga('require', 'displayfeatures'); } /** * Send a page * @param {string} page - page path */ export function page(page) { if (page) { if (!ChromeUtils.DEBUG) { ga('send', 'pageview', page); } } } /** * Send an event * @param {module:chrome/ga.Event} event - the event type * @param {?string} [label=null] - override label * @param {?string} [action=null] - override action */ export function event(event, label = null, action = null) { if (event) { const ev = ChromeJSON.shallowCopy(event); ev.hitType = 'event'; ev.eventLabel = label ? label : ev.eventLabel; ev.eventAction = action ? action : ev.eventAction; if (!ChromeUtils.DEBUG) { ga('send', ev); } else { // eslint-disable-next-line no-console console.log(ev); } } } /** * Send an error * @param {?string} [label='unknown'] - override label * @param {?string} [action='unknownMethod'] - override action */ export function error(label = 'unknown', action = 'unknownMethod') { const ev = { hitType: 'event', eventCategory: 'error', eventAction: action, eventLabel: `Err: ${label}`, }; if (!ChromeUtils.DEBUG) { ga('send', ev); } else { console.error(ev); } } /** * Send an exception * @param {Object} exception - the exception * @param {?string} [message=null] - the error message * @param {boolean} [fatal=true] - true if fatal */ export function exception(exception, message = null, fatal = false) { try { let msg = 'Unknown'; if (message) { msg = message; } else if (exception.message) { msg = exception.message; } if (exception.stack) { msg += `\\n\\n${exception.stack}`; } const ex = { hitType: 'exception', exDescription: msg, exFatal: fatal, }; if (!ChromeUtils.DEBUG) { ga('send', ex); } else { console.error(ex); } } catch (err) { ChromeUtils.noop(); } } Ã— Search results Close "},"chrome-extension-utils_scripts_http.js.html":{"id":"chrome-extension-utils_scripts_http.js.html","title":"Source: chrome-extension-utils/scripts/http.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/http.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeAuth from './auth.js'; import * as ChromeGA from './analytics.js'; import * as ChromeLocale from './locales.js'; import './ex_handler.js'; /** * Fetch with authentication and exponential back-off * @module chrome/http */ /** * Http configuration * @typedef {?{}} module:chrome/http.Config * @property {boolean} [isAuth=false] - if true, authorization required * @property {boolean} [retryToken=false] - if true, retry with new token * @property {boolean} [interactive=false] - user initiated, if true * @property {?string} [token=null] - auth token * @property {boolean} [backoff=true] - if true, do exponential back-off * @property {int} [maxRetries=_MAX_ATTEMPTS] - max retries * @property {json} [body=null] - body of request */ /** * Http response * @typedef {{}} module:chrome/http.Response * @property {boolean} ok - success flag * @property {Function} json - returned data as JSON * @property {int} status - HTTP response code * @property {string} statusText - HTTP response message */ /** * Authorization header * @type {string} * @private * @memberOf module:chrome/http */ const _AUTH_HEADER = 'Authorization'; /** * Bearer parameter for authorized call * @type {string} * @private */ const _BEARER = 'Bearer'; /** * Max retries on 500 errors * @type {int} * @private */ const _MAX_RETRIES = 4; /** * Delay multiplier for exponential back-off * @const * @private */ const _DELAY = 1000; /** * Configuration object * @type {module:chrome/http.Config} */ export const CONFIG = { isAuth: false, retryToken: false, interactive: false, token: null, backoff: true, maxRetries: _MAX_RETRIES, }; /** * Perform GET request * @param {string} url - server request * @param {?module:chrome/http.Config} [conf=null] - configuration * @returns {Promise.&lt;JSON&gt;} response from server */ export function doGet(url, conf = null) { const opts = {method: 'GET', headers: new Headers({})}; return _doIt(url, opts, conf); } /** * Perform POST request * @param {string} url - server request * @param {?module:chrome/http.Config} [conf=null] - configuration * @returns {Promise.&lt;JSON&gt;} response from server */ export function doPost(url, conf = null) { const opts = {method: 'POST', headers: new Headers({})}; return _doIt(url, opts, conf); } /** * Check response and act accordingly * @param {module:chrome/http.Response} response - server response * @param {string} url - server * @param {Object} opts - fetch options * @param {module:chrome/http.Config} conf - configuration * @param {int} attempt - the retry attempt we are on * @returns {Promise.&lt;JSON&gt;} response from server * @private */ function _processResponse(response, url, opts, conf, attempt) { if (response.ok) { // request succeeded - woo hoo! return response.json(); } if (attempt &gt;= conf.maxRetries) { // request still failed after maxRetries return Promise.reject(_getError(response)); } const status = response.status; if (conf.backoff &amp;&amp; (status &gt;= 500) &amp;&amp; (status &lt; 600)) { // temporary server error, maybe. Retry with backoff return _retry(url, opts, conf, attempt); } if (conf.isAuth &amp;&amp; conf.token &amp;&amp; conf.retryToken &amp;&amp; (status === 401)) { // could be expired token. Remove cached one and try again return _retryToken(url, opts, conf, attempt); } if (conf.isAuth &amp;&amp; conf.interactive &amp;&amp; conf.token &amp;&amp; conf.retryToken &amp;&amp; (status === 403)) { // user may have revoked access to extension at some point // If interactive, retry so they can authorize again return _retryToken(url, opts, conf, attempt); } // request failed return Promise.reject(_getError(response)); } /** * Get Error message * @param {module:chrome/http.Response} response - server response * @returns {Error} * @private */ function _getError(response) { let msg = 'Unknown error.'; if (response &amp;&amp; response.status &amp;&amp; (typeof (response.statusText) !== 'undefined')) { let statusMsg = ChromeLocale.localize('err_status', 'Status'); msg = `${statusMsg}: ${response.status}`; msg += `\\n${response.statusText}`; } return new Error(msg); } /** * Get authorization token * @param {boolean} isAuth - if true, authorization required * @param {boolean} interactive - if true, user initiated * @returns {Promise.&lt;string&gt;} auth token * @private */ function _getAuthToken(isAuth, interactive) { if (isAuth) { return ChromeAuth.getToken(interactive).then((token) =&gt; { return Promise.resolve(token); }).catch((err) =&gt; { if (interactive &amp;&amp; (err.message.includes('revoked') || err.message.includes('Authorization page could not be loaded'))) { // try one more time non-interactively // Always returns Authorization page error // when first registering, Not sure why // Other message is if user revoked access to extension return ChromeAuth.getToken(false); } else { return Promise.reject(err); } }); } else { // non-authorization branch return Promise.resolve(null); } } /** * Retry authorized fetch with exponential back-off * @param {string} url - server request * @param {Object} opts - fetch options * @param {module:chrome/http.Config} conf - configuration * @param {int} attempt - the retry attempt we are on * @returns {Promise.&lt;JSON&gt;} response from server * @private */ function _retry(url, opts, conf, attempt) { attempt++; // eslint-disable-next-line promise/avoid-new return new Promise((resolve, reject) =&gt; { const delay = (Math.pow(2, attempt) - 1) * _DELAY; setTimeout(() =&gt; { return _fetch(url, opts, conf, attempt).then(resolve, reject); }, delay); }); } /** * Retry fetch after removing cached auth token * @param {string} url - server request * @param {Object} opts - fetch options * @param {module:chrome/http.Config} conf - configuration * @param {int} attempt - the retry attempt we are on * @returns {Promise.&lt;JSON&gt;} response from server * @private */ function _retryToken(url, opts, conf, attempt) { ChromeGA.event(ChromeGA.EVENT.REFRESHED_AUTH_TOKEN); return ChromeAuth.removeCachedToken( conf.interactive, conf.token, null).then(() =&gt; { conf.token = null; conf.retryToken = false; return _fetch(url, opts, conf, attempt); }); } /** * Perform fetch, optionally using authorization and exponential back-off * @param {string} url - server request * @param {Object} opts - fetch options * @param {module:chrome/http.Config} conf - configuration * @param {int} attempt - the retry attempt we are on * @returns {Promise.&lt;JSON&gt;} response from server * @private */ function _fetch(url, opts, conf, attempt) { return _getAuthToken(conf.isAuth, conf.interactive).then((authToken) =&gt; { if (conf.isAuth) { conf.token = authToken; opts.headers.set(_AUTH_HEADER, `${_BEARER} ${conf.token}`); } if (conf.body) { opts.body = JSON.stringify(conf.body); } return fetch(url, opts); }).then((response) =&gt; { return _processResponse(response, url, opts, conf, attempt); }).catch((err) =&gt; { let msg = err.message; if (msg === 'Failed to fetch') { msg = ChromeLocale.localize('err_network'); if ((typeof (msg) === 'undefined') || (msg === '')) { // in case localize is missing msg = 'Network error'; } } return Promise.reject(new Error(msg)); }); } /** * Do a server request * @param {string} url - server request * @param {Object} opts - fetch options * @param {module:chrome/http.Config} conf - configuration * @returns {Promise.&lt;JSON&gt;} response from server * @private */ function _doIt(url, opts, conf) { conf = (conf === null) ? CONFIG : conf; if (conf.isAuth) { opts.headers.set(_AUTH_HEADER, `${_BEARER} unknown`); } let attempt = 0; return _fetch(url, opts, conf, attempt); } Ã— Search results Close "},"chrome-extension-utils_scripts_json.js.html":{"id":"chrome-extension-utils_scripts_json.js.html","title":"Source: chrome-extension-utils/scripts/json.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/json.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeGA from './analytics.js'; import './ex_handler.js'; /** * JSON utilities * @module chrome/json */ /** * Parse JSON, with exception handling * @param {!string} jsonString - string to parse * @returns {?Object} JSON Object, null on error */ export function parse(jsonString) { let ret = null; try { ret = JSON.parse(jsonString); } catch (err) { ChromeGA.exception(`Caught: JSONUtils.parse: ${err.message}`, err.stack, false); } return ret; } /** * Return shallow copy of Object * @param {!Object} object - object to copy * @returns {?Object} JSON Object, null on error */ export function shallowCopy(object) { let ret = null; const jsonString = JSON.stringify(object); if (typeof (jsonString) !== 'undefined') { ret = parse(jsonString); } return ret; } Ã— Search results Close "},"chrome-extension-utils_scripts_last_error.js.html":{"id":"chrome-extension-utils_scripts_last_error.js.html","title":"Source: chrome-extension-utils/scripts/last_error.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/last_error.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import './ex_handler.js'; // noinspection JSUnresolvedFunction const chromep = new ChromePromise(); /** * A custom error that can be persisted * Usage: const err = new ChromeLastError(title, message) * @module chrome/last_error */ /** * A custom error that can be persisted * Usage: const err = new ChromeLastError(title, message) * @extends Error * @alias module:chrome/last_error.LastError */ class ChromeLastError extends Error { /** * Create a new LastError * @param {string} title='' - optional title * @param {...params|string} params - Error parameters */ constructor(title = 'An error occurred', ...params) { // Pass remaining arguments (including vendor specific ones) // to parent constructor // noinspection JSCheckFunctionSignatures super(...params); // Maintains proper stack trace for where our error was thrown // (only available on V8) if (Error.captureStackTrace) { Error.captureStackTrace(this, ChromeLastError); } // Custom information this.title = title; } /** * Get the LastError from chrome.storage.local * @throws If we failed to get the error * @returns {Promise&lt;ChromeLastError&gt;} last error */ static load() { return chromep.storage.local.get('lastError').then((value) =&gt; { const details = value.lastError; if (details) { const lastError = new ChromeLastError(details.title, details.message); lastError.stack = details.stack; return lastError; } return new ChromeLastError(); }); } /** * Save the LastError to chrome.storage.local * @see https://developer.chrome.com/apps/storage * @param {module:chrome/last_error.ChromeLastError} lastError * @throws If the error failed to save * @returns {Promise&lt;void&gt;} void */ static save(lastError) { const value = { 'title': lastError.title || '', 'message': lastError.message || '', 'stack': lastError.stack || '', }; // persist return chromep.storage.local.set({'lastError': value}); } /** * Set the LastError to an empty message in chrome.storage.local * @throws If the error failed to clear * @returns {Promise&lt;void&gt;} void */ static reset() { // Save it using the Chrome storage API. return chromep.storage.local.set({'lastError': new ChromeLastError()}); } } export default ChromeLastError; Ã— Search results Close "},"chrome-extension-utils_scripts_locales.js.html":{"id":"chrome-extension-utils_scripts_locales.js.html","title":"Source: chrome-extension-utils/scripts/locales.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/locales.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import './ex_handler.js'; /** * Internationalization methods * @see https://developer.chrome.com/extensions/i18n * @module chrome/locale */ /** * Get the i18n string * @param {string} messageName - key in messages.json * @param {!string} [def=''] - default if no locales * @returns {string} internationalized string */ export function localize(messageName, def='') { let msg = chrome.i18n.getMessage(messageName); if ((typeof (msg) === 'undefined') || (msg === '')) { // in case localize is missing msg = def || ''; } return msg; } /** * Get the current locale * @returns {string} current locale e.g. en_US */ export function getLocale() { return chrome.i18n.getMessage('@@ui_locale'); } Ã— Search results Close "},"chrome-extension-utils_scripts_log.js.html":{"id":"chrome-extension-utils_scripts_log.js.html","title":"Source: chrome-extension-utils/scripts/log.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/log.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeGA from './analytics.js'; import * as ChromeLocale from './locales.js'; import ChromeLastError from './last_error.js'; import * as ChromeUtils from './utils.js'; import './ex_handler.js'; /** * Log a message. Will also store the LastError to local storage as 'lastError' * @module chrome/log */ /** * Log an error * @param {?string} [msg=null] - override label * @param {?string} [meth=null] - override action * @param {?string} [title=null] - a title for the error * @param {?string} [extra=null] - extra info. for analytics */ export function error(msg = null, meth = null, title = null, extra = null) { msg = msg || ChromeLocale.localize('err_unknown', 'unknown'); meth = meth || ChromeLocale.localize('err_unknownMethod', 'unknownMethod'); title = title || ChromeLocale.localize('err_error', 'An error occurred'); const gaMsg = extra ? `${msg} ${extra}` : msg; ChromeLastError.save(new ChromeLastError(title, msg)).catch(() =&gt; {}); ChromeGA.error(gaMsg, meth); } /** * Log an exception * @param {Error} exception - the exception * @param {?string} [msg=null] - the error message * @param {boolean} [fatal=true] - true if fatal * @param {?string} [title=null] - a title for the exception */ export function exception(exception, msg = null, fatal = false, title = null) { try { let errMsg = msg; if (!errMsg &amp;&amp; exception &amp;&amp; exception.message) { errMsg = exception.message; } title = title || ChromeLocale.localize('err_exception', 'An exception occurred'); ChromeLastError.save(new ChromeLastError(title, errMsg)).catch(() =&gt; {}); ChromeGA.exception(exception, msg, fatal); } catch (err) { ChromeUtils.noop(); } } Ã— Search results Close "},"chrome-extension-utils_scripts_msg.js.html":{"id":"chrome-extension-utils_scripts_msg.js.html","title":"Source: chrome-extension-utils/scripts/msg.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/msg.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeGA from './analytics.js'; import './ex_handler.js'; /** * Wrapper for chrome messages * @see https://developer.chrome.com/extensions/messaging * @module chrome/msg */ /** * A Chrome message * @typedef {{}} module:chrome/msg.Message * @property {string} message - Unique name * @property {Error} error - an error * @property {string|Object} item - a message specific item * @property {boolean} updated - item is new or updated * @property {string} key - key name * @property {?Object} value - value of key */ /** * Chrome Messages * @type {{}} * @property {module:chrome/msg.Message} HIGHLIGHT - highlight a tab * @property {module:chrome/msg.Message} RESTORE_DEFAULTS - restore default settings * @property {module:chrome/msg.Message} STORAGE_EXCEEDED - local storage save failed * @property {module:chrome/msg.Message} STORE - save value to storage * @const * @private */ const _MSG = { HIGHLIGHT: { message: 'highlightTab', }, RESTORE_DEFAULTS: { message: 'restoreDefaults', }, STORAGE_EXCEEDED: { message: 'storageExceeded', }, STORE: { message: 'store', key: '', value: '', }, }; export const HIGHLIGHT = _MSG.HIGHLIGHT; export const RESTORE_DEFAULTS = _MSG.RESTORE_DEFAULTS; export const STORAGE_EXCEEDED = _MSG.STORAGE_EXCEEDED; export const STORE = _MSG.STORE; /** * Send a chrome message * @param {module:chrome/msg.Message} type - type of message * @returns {Promise&lt;JSON|Array&gt;} response JSON */ export function send(type) { // noinspection JSUnresolvedFunction const chromep = new ChromePromise(); // noinspection JSUnresolvedFunction return chromep.runtime.sendMessage(type, null).then((response) =&gt; { return Promise.resolve(response); }).catch((err) =&gt; { if (err.message &amp;&amp; !err.message.includes('port closed') &amp;&amp; !err.message.includes('Receiving end does not exist')) { const msg = `type: ${type.message}, ${err.message}`; ChromeGA.error(msg, 'Msg.send'); } return Promise.reject(err); }); } /** * Add a listener for chrome messages * @param {Function} listener - function to receive messages */ export function listen(listener) { // noinspection JSUnresolvedVariable chrome.runtime.onMessage.addListener(listener); } Ã— Search results Close "},"chrome-extension-utils_scripts_storage.js.html":{"id":"chrome-extension-utils_scripts_storage.js.html","title":"Source: chrome-extension-utils/scripts/storage.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/storage.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeGA from './analytics.js'; import * as ChromeJSON from './json.js'; import * as ChromeMsg from './msg.js'; import './ex_handler.js'; /** * Manage items in storage * @module chrome/storage */ /** * Get a JSON parsed value from localStorage * @param {!string} key - key to get value for * @param {?Object|string} [def=null] - optional default value if key not found * @returns {?Object|string|int|boolean|Array} JSON object or string, null if * key does not exist */ export function get(key, def = null) { let value = def; let item = localStorage.getItem(key); if (item !== null) { value = ChromeJSON.parse(item); } return value; } /** * Get integer value from localStorage * @param {!string} key - key to get value for * @param {?int} [def=null] - optional value to return, if NaN * @returns {int} value as integer, NaN on error */ export function getInt(key, def = null) { let item = localStorage.getItem(key); let value = parseInt(item, 10); if (Number.isNaN(value)) { value = (def === null) ? value : def; if (def === null) { ChromeGA.error(`NaN value for: ${key} equals ${item}`, 'Storage.getInt'); } } return value; } /** * Get boolean value from localStorage * @param {string} key - key to get value for * @param {?boolean} [def=null] - return value if key not found * @returns {?boolean} value as boolean, null if key does not exist */ export function getBool(key, def = null) { return get(key, def); } /** * JSON stringify and save a value to localStorage * @param {string} key - key to set value for * @param {?Object} [value=null] - new value, if null remove item */ export function set(key, value = null) { if (value === null) { localStorage.removeItem(key); } else { const val = JSON.stringify(value); localStorage.setItem(key, val); } } /** * Save a value to localStorage only if there is enough room * @param {string} key - localStorage Key * @param {Object} value - value to save * @param {?string} [keyBool=null] - key to a boolean value * that is true if the primary key has non-empty value * @returns {boolean} true if value was set successfully */ export function safeSet(key, value, keyBool = null) { let ret = true; const oldValue = get(key); try { set(key, value); } catch (e) { ret = false; if (oldValue) { // revert to old value set(key, oldValue); } if (keyBool) { // revert to old value if (oldValue &amp;&amp; oldValue.length) { set(keyBool, true); } else { set(keyBool, false); } } // notify listeners ChromeMsg.send(ChromeMsg.STORAGE_EXCEEDED).catch(() =&gt; {}); } return ret; } /** * Get a value from chrome.storage.local * @see https://developer.chrome.com/apps/storage * @param {string} key - data key * @param {?Object} [def=null] - default value if not found * @returns {Promise&lt;Object|Array&gt;} object from storage, def if not found */ export async function asyncGet(key, def = null) { let ret = null; // noinspection JSUnresolvedFunction const chromep = new ChromePromise(); try { const res = await chromep.storage.local.get([key]); ret = res[key]; } catch (err) { if (def) { ret = def; } // TODO handle error } if (ret === undefined) { // probably not in storage ret = def; } return ret; } /** * Save a value to chrome.storage.local only if there is enough room * @see https://developer.chrome.com/apps/storage * @param {string} key - data key * @param {Object} value - data value * @param {?string} [keyBool=null] - key to a boolean value * that is true if the primary key has non-empty value * @returns {boolean} true if value was set successfully */ export async function asyncSet(key, value, keyBool = null) { // TODO what about keyBool? let ret = true; // noinspection JSUnresolvedFunction const chromep = new ChromePromise(); const obj = { [key]: value, }; try { await chromep.storage.local.set(obj); } catch (err) { // notify listeners save failed ChromeMsg.send(ChromeMsg.STORAGE_EXCEEDED).catch(() =&gt; {}); ret = false; } return ret; } // const oldValue = get(key); // try { // set(key, value); // } catch (e) { // ret = false; // if (oldValue) { // // revert to old value // set(key, oldValue); // } // if (keyBool) { // // revert to old value // if (oldValue &amp;&amp; oldValue.length) { // set(keyBool, true); // } else { // set(keyBool, false); // } // } // // notify listeners // ChromeMsg.send(ChromeMsg.STORAGE_EXCEEDED).catch(() =&gt; {}); // } // return ret; Ã— Search results Close "},"chrome-extension-utils_scripts_time.js.html":{"id":"chrome-extension-utils_scripts_time.js.html","title":"Source: chrome-extension-utils/scripts/time.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/time.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeLocale from './locales.js'; import * as ChromeStorage from './storage.js'; import * as ChromeUtils from './utils.js'; import './ex_handler.js'; /** * Time Class * @module chrome/time */ /** * Time Class * @property {int} _hr - 24 hour time * @property {int} _min - minutes * @alias module:chrome/time.ChromeTime */ class ChromeTime { /** * Create a new Time * @param {?string} [timeString=null] - in '00:00' format, if null * use current Date */ constructor(timeString = null) { this._parse(timeString); } /** * Milliseconds in minute * @returns {int} value * @static */ static get MSEC_IN_MIN() { return 60 * 1000; } /** * Minutes in hour * @returns {int} value * @static */ static get MIN_IN_HOUR() { return 60; } /** * Milliseconds in hour * @returns {int} value * @static */ static get MSEC_IN_HOUR() { return ChromeTime.MIN_IN_HOUR * 60 * 1000; } /** * Minutes in day * @returns {int} value * @static */ static get MIN_IN_DAY() { return 60 * 24; } /** * Milliseconds in day * @returns {int} value * @static */ static get MSEC_IN_DAY() { return ChromeTime.MIN_IN_DAY * 60 * 1000; } /** * Determine if user wants 24 hr time * @param {?int} [frmt=null] - optional format, overrides storage value * @returns {boolean} true for 24 hour time * @private * @static */ static _is24Hr(frmt = null) { let ret = false; let format = ChromeStorage.getInt('showTime', 0); if (frmt !== null) { format = frmt; } const localeTime = ChromeLocale.localize('time_format'); if (format === 2) { // time display 24hr ret = true; } else if ((format === 0) &amp;&amp; (localeTime === '24')) { // time display off, locale time 24 ret = true; } return ret; } /** * Convert string to current time * @param {!string} timeString - in '00:00' format * @returns {int} time in milliSeconds from epoch * @static */ static getTime(timeString) { const date = new Date(); const time = new ChromeTime(timeString); date.setHours(time._hr); date.setMinutes(time._min); date.setSeconds(0); date.setMilliseconds(0); return date.getTime(); } /** * Calculate time delta from now on a 24hr basis * @param {string} timeString - in '00:00' format * @returns {int} time delta in minutes * @static */ static getTimeDelta(timeString) { const curTime = Date.now(); const time = ChromeTime.getTime(timeString); let delayMin = (time - curTime) / 1000 / 60; if (delayMin &lt; 0) { delayMin = ChromeTime.MIN_IN_DAY + delayMin; } return delayMin; } /** * Determine if current time is between start and stop, inclusive * @param {string} start - in '00:00' format * @param {string} stop - in '00:00' format * @returns {boolean} true if in the given range * @static */ static isInRange(start, stop) { const curTime = Date.now(); const startTime = ChromeTime.getTime(start); const stopTime = ChromeTime.getTime(stop); let ret = false; if (start === stop) { ret = true; } else if (stopTime &gt; startTime) { if ((curTime &gt;= startTime) &amp;&amp; (curTime &lt;= stopTime)) { ret = true; } } else { if ((curTime &gt;= startTime) || (curTime &lt;= stopTime)) { ret = true; } } return ret; } /** * Get time as string suitable for display, including AM/PM if 12hr * @param {!string} timeString - in '00:00' format * @param {?int} [frmt=null] - optional format, overrides storage value * @returns {!string} display string * @static */ static getStringFull(timeString, frmt = null) { const time = new ChromeTime(timeString); return time.toString(frmt); } /** * Get current time suitable for display w/o AM/PM if 12hr * @returns {!string} display string * @static */ static getStringShort() { const time = new ChromeTime(); let timeString = time.toString(); // strip off all non-digits but : timeString = timeString.replace(/[^\\d:]/g, ''); // strip off everything after 'xx:xx' timeString = timeString.replace(/(.*?:.*?):.*/g, '$1'); return timeString; } /** * Parse time string * @param {string} timeString - in '00:00' format * @private */ _parse(timeString) { if (timeString === null) { const date = new Date(); this._hr = date.getHours(); this._min = date.getMinutes(); } else { this._hr = parseInt(timeString.substr(0, 2), 10); this._min = parseInt(timeString.substr(3, 2), 10); } } /** * Get string representation of Time * @param {?int} [frmt=null] - optional format, overrides storage value * @returns {string} As string */ toString(frmt = null) { const date = new Date(); date.setHours(this._hr, this._min); date.setSeconds(0); date.setMilliseconds(0); // fallback in case toLocaleTimeString fails - it does sometimes let ret = date.toTimeString(); const languages = []; if (typeof (navigator.language) !== 'undefined') { languages.push(navigator.language); } languages.push('en-US'); const opts = { hour: 'numeric', minute: '2-digit', hour12: !ChromeTime._is24Hr(frmt), }; try { ret = date.toLocaleTimeString(languages, opts); } catch (err) { ChromeUtils.noop(); } return ret; } } export default ChromeTime; Ã— Search results Close "},"chrome-extension-utils_scripts_utils.js.html":{"id":"chrome-extension-utils_scripts_utils.js.html","title":"Source: chrome-extension-utils/scripts/utils.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: chrome-extension-utils/scripts/utils.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import './ex_handler.js'; /** * Utility methods * @module chrome/utils */ const chromep = new ChromePromise(); /** * Set to true if development build * @type {boolean} * @private */ const _DEBUG = false; /** * Determine if we are a given operating system * @private * @param {string} os - os short name * @returns {Promise.&lt;boolean&gt;} true if the given os */ function _isOS(os) { return chromep.runtime.getPlatformInfo().then((info) =&gt; { return Promise.resolve((info.os === os)); }).catch(() =&gt; { // something went wrong - linux seems to fail this call sometimes return Promise.resolve(false); }); } /** * True if development build * @type {boolean} */ export const DEBUG = _DEBUG; /** Get the extension's name * @returns {string} Extension name */ export function getExtensionName() { return `chrome-extension://${chrome.runtime.id}`; } /** * Get the Extension version * @returns {string} Extension version */ export function getVersion() { const manifest = chrome.runtime.getManifest(); return manifest.version; } /** * Get the Chrome version * @see http://stackoverflow.com/a/4900484/4468645 * @returns {int} Chrome major version */ export function getChromeVersion() { const raw = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./); return raw ? parseInt(raw[2], 10) : false; } /** * Get the full Chrome version * @see https://goo.gl/2ITMNO * @returns {string} Chrome version */ export function getFullChromeVersion() { const raw = navigator.userAgent; return raw ? raw : 'Unknown'; } /** * Get the OS as a human readable string * @returns {Promise.&lt;string&gt;} OS name */ export function getPlatformOS() { let output = 'Unknown'; return chromep.runtime.getPlatformInfo().then((info) =&gt; { const os = info.os; switch (os) { case 'win': output = 'MS Windows'; break; case 'mac': output = 'Mac'; break; case 'android': output = 'Android'; break; case 'cros': output = 'Chrome OS'; break; case 'linux': output = 'Linux'; break; case 'openbsd': output = 'OpenBSD'; break; default: break; } return Promise.resolve(output); }).catch(() =&gt; { // something went wrong - linux seems to fail this call sometimes return Promise.resolve(output); }); } /** * Determine if we are MS windows * @returns {Promise.&lt;boolean&gt;} true if MS Windows */ export function isWindows() { return _isOS('win'); } /** * Determine if we are Chrome OS * @returns {Promise.&lt;boolean&gt;} true if ChromeOS */ export function isChromeOS() { return _isOS('cros'); } /** * Determine if we are a Mac * @returns {Promise.&lt;boolean&gt;} true if Mac */ export function isMac() { return _isOS('mac'); } /** * No operation */ export function noop() {} /** * Determine if a String is null or whitespace only * @param {?string} str - string to check * @returns {boolean} true is str is whitespace or null */ export function isWhiteSpace(str) { return (!str || str.length === 0 || /^\\s*$/.test(str)); } /** * Get a random string of the given length * @param {int} [len=8] - length of generated string * @returns {string} a random string */ export function getRandomString(len = 8) { const POSS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz0123456789'; let text = ''; for (let i = 0; i &lt; len; i++) { text += POSS.charAt(Math.floor(Math.random() * POSS.length)); } return text; } /** * Returns a random integer between min and max inclusive * @param {int} min - min value * @param {int} max - max value * @returns {int} random int */ export function getRandomInt(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; } /** * Randomly sort an Array in place * Fisher-Yates shuffle algorithm. * @param {Array} array - Array to sort */ export function shuffleArray(array) { const len = array ? array.length : 0; for (let i = len - 1; i &gt; 0; i--) { const j = Math.floor(Math.random() * (i + 1)); const temp = array[i]; array[i] = array[j]; array[j] = temp; } } Ã— Search results Close "},"app-main_app-main.js.html":{"id":"app-main_app-main.js.html","title":"Source: app-main/app-main.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: app-main/app-main.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../node_modules/@polymer/font-roboto/roboto.js'; import '../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../node_modules/@polymer/iron-icon/iron-icon.js'; import '../../node_modules/@polymer/iron-image/iron-image.js'; import '../../node_modules/@polymer/paper-styles/typography.js'; import '../../node_modules/@polymer/paper-styles/color.js'; import '../../node_modules/@polymer/paper-dialog/paper-dialog.js'; import '../../node_modules/@polymer/paper-dialog-scrollable/paper-dialog-scrollable.js'; import '../../node_modules/@polymer/paper-icon-button/paper-icon-button.js'; import '../../node_modules/@polymer/paper-button/paper-button.js'; import '../../node_modules/@polymer/paper-item/paper-item.js'; import '../../node_modules/@polymer/paper-material/paper-material.js'; import '../../node_modules/@polymer/paper-listbox/paper-listbox.js'; import '../../node_modules/@polymer/neon-animation/neon-animated-pages.js'; import '../../node_modules/@polymer/neon-animation/neon-animations.js'; import '../../node_modules/@polymer/neon-animation/neon-animatable.js'; import '../../node_modules/@polymer/app-layout/app-drawer-layout/app-drawer-layout.js'; import '../../node_modules/@polymer/app-layout/app-drawer/app-drawer.js'; import '../../node_modules/@polymer/app-layout/app-scroll-effects/app-scroll-effects.js'; import '../../node_modules/@polymer/app-layout/app-header/app-header.js'; import '../../node_modules/@polymer/app-layout/app-header-layout/app-header-layout.js'; import '../../node_modules/@polymer/app-layout/app-toolbar/app-toolbar.js'; import '../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import '../../elements/pages/settings-page/settings-page.js'; import {LocalizeBehavior} from '../../elements/setting-elements/localize-behavior/localize-behavior.js'; import GooglePhotosPage from '../../elements/pages/google-photos-page/google-photos-page.js'; import ErrorPage from '../../elements/pages/error-page/error-page.js'; import HelpPage from '../../elements/pages/help-page/help-page.js'; import '../../elements/my_icons.js'; import '../../elements/error-dialog/error-dialog.js'; import '../../elements/confirm-dialog/confirm-dialog.js'; import * as MyGA from '../../scripts/my_analytics.js'; import * as MyMsg from '../../scripts/my_msg.js'; import * as Permissions from '../../scripts/permissions.js'; import * as ChromeGA from '../../scripts/chrome-extension-utils/scripts/analytics.js'; import ChromeLastError from '../../scripts/chrome-extension-utils/scripts/last_error.js'; import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeMsg from '../../scripts/chrome-extension-utils/scripts/msg.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import * as ChromeUtils from '../../scripts/chrome-extension-utils/scripts/utils.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the main UI * @module els/app_main */ /** * Function to show a confirm dialog * @type {Function} */ export let showConfirmDialog = null; /** * Function to show an error dialog * @type {Function} */ export let showErrorDialog = null; /** * Function to show an error dialog about failing to store data * @type {Function} */ export let showStorageErrorDialog = null; /** * Function to call on confirm dialog confirm button click * @type {Function} */ let confirmFn = null; /** * Manage an html page that is inserted on demand&lt;br /&gt; * May also be a url link to external site * @typedef {{}} module:els/app_main.Page * @property {string} label - label for Nav menu * @property {string} route - element name route to page * @property {string} icon - icon for Nav Menu * @property {?Object|Function} obj - something to be done when selected * @property {boolean} ready - true if html is inserted * @property {boolean} divider - true for divider before item */ /** * Path to the extension in the Web Store * @type {string} * @const * @private */ const EXT_URI = 'https://chrome.google.com/webstore/detail/screensaver/' + chrome.runtime.id + '/'; /** * Path to my Pushy Clipboard extension * @type {string} * @const * @default * @private */ const PUSHY_URI = 'https://chrome.google.com/webstore/detail/pushy-clipboard/' + 'jemdfhaheennfkehopbpkephjlednffd'; /** * Array of pages * @type {module:els/app_main.Page[]} */ const pages = [ { label: ChromeLocale.localize('menu_settings'), route: 'page-settings', icon: 'myicons:settings', obj: null, ready: true, divider: false, }, { label: ChromeLocale.localize('menu_preview'), route: 'page-preview', icon: 'myicons:pageview', obj: null, ready: true, divider: false, }, { label: ChromeLocale.localize('menu_google'), route: 'page-google-photos', icon: 'myicons:cloud', obj: null, ready: false, divider: true, }, { label: ChromeLocale.localize('menu_permission'), route: 'page-permission', icon: 'myicons:perm-data-setting', obj: null, ready: true, divider: false, }, { label: ChromeLocale.localize('menu_error'), route: 'page-error', icon: 'myicons:error', obj: null, ready: false, disabled: false, divider: true, }, { label: ChromeLocale.localize('menu_help'), route: 'page-help', icon: 'myicons:help', obj: null, ready: false, divider: false, }, { label: ChromeLocale.localize('help_faq'), route: 'page-faq', icon: 'myicons:help', obj: 'https://opus1269.github.io/screensaver/faq.html', ready: true, divider: false, }, { label: ChromeLocale.localize('menu_support'), route: 'page-support', icon: 'myicons:help', obj: `${EXT_URI}support`, ready: true, divider: false, }, { label: ChromeLocale.localize('menu_rate'), route: 'page-rate', icon: 'myicons:grade', obj: `${EXT_URI}reviews`, ready: true, divider: false, }, { label: ChromeLocale.localize('menu_pushy'), route: 'page-pushy', icon: 'myicons:extension', obj: PUSHY_URI, ready: true, divider: true, }, ]; /** * Google Photos Page * @type {module:els/pgs/google_photos.GooglePhotosPage} * @private */ let gPhotosPage; /** * Chrome sign in state * @type {boolean} * @private */ let signedInToChrome = ChromeStorage.getBool('signedInToChrome', true); /** * Polymer element for the main UI * @type {{}} * @alias module:els/app_main.AppMain * @PolymerElement */ Polymer({ // language=HTML format=false _template: html`&lt;!--suppress CssUnresolvedCustomProperty --&gt; &lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } /* General styles */ paper-listbox iron-icon { margin-right: 20px; opacity: 0.54; } paper-listbox paper-item { --paper-item: { color: var(--menu-link-color); text-rendering: optimizeLegibility; cursor: pointer; }; --paper-item-selected: { color: var(--dark-primary-color); background-color: var(--selected-color); text-rendering: optimizeLegibility; cursor: pointer; }; --paper-item-focused-before: { background-color: transparent; }; } app-drawer-layout:not([narrow]) [drawer-toggle] { display: none; } app-drawer { --app-drawer-content-container: { border-right: var(--drawer-toolbar-border-color); } } paper-dialog { min-width: 25vw; max-width: 50vw; } .main-toolbar { color: var(--text-primary-color); background-color: var(--dark-primary-color); /*noinspection CssUnresolvedCustomPropertySet*/ @apply --paper-font-headline; } .menu-name { /*noinspection CssUnresolvedCustomPropertySet*/ @apply --paper-font-title; color: var(--dark-primary-color); background-color: var(--drawer-menu-color); border-bottom: var(--drawer-toolbar-border-color); } #mainPages neon-animatable { padding: 0 0; } /* Height of the main scroll area */ #mainContainer { height: 100%; padding: 0 0; } .permText { padding-bottom: 16px; } .status { padding-top: 8px; /*noinspection CssUnresolvedCustomPropertySet*/ @apply --paper-font-title; } &lt;/style&gt; &lt;!-- Error dialog keep above app-drawer-layout because of overlay bug --&gt; &lt;error-dialog id=\"errorDialog\"&gt;&lt;/error-dialog&gt; &lt;!-- Confirm dialog keep above app-drawer-layout because of overlay bug --&gt; &lt;confirm-dialog id=\"confirmDialog\" confirm-label=\"[[localize('ok')]]\" on-confirm-tap=\"_onConfirmDialogTapped\"&gt;&lt;/confirm-dialog&gt; &lt;!-- permissions dialog keep above app-drawer-layout because of overlay bug --&gt; &lt;paper-dialog id=\"permissionsDialog\" entry-animation=\"scale-up-animation\" exit-animation=\"fade-out-animation\"&gt; &lt;h2&gt;[[localize('menu_permission')]]&lt;/h2&gt; &lt;paper-dialog-scrollable&gt; &lt;div&gt; &lt;paper-item class=\"permText\"&gt; [[localize('permission_message')]] &lt;/paper-item&gt; &lt;paper-item class=\"permText\"&gt; [[localize('permission_message1')]] &lt;/paper-item&gt; &lt;paper-item class=\"permText\"&gt; [[localize('permission_message2')]] &lt;/paper-item&gt; &lt;paper-item class=\"status\"&gt; [[_computePermissionsStatus(permission)]] &lt;/paper-item&gt; &lt;/div&gt; &lt;/paper-dialog-scrollable&gt; &lt;div class=\"buttons\"&gt; &lt;paper-button dialog-dismiss&gt;[[localize('cancel')]]&lt;/paper-button&gt; &lt;paper-button dialog-dismiss on-click=\"_onDenyPermissionsClicked\"&gt;[[localize('deny')]]&lt;/paper-button&gt; &lt;paper-button dialog-confirm autofocus on-click=\"_onAcceptPermissionsClicked\"&gt;[[localize('allow')]]&lt;/paper-button&gt; &lt;/div&gt; &lt;/paper-dialog&gt; &lt;app-drawer-layout id=\"appDrawerLayout\" responsive-width=\"800px\"&gt; &lt;!-- Drawer Content --&gt; &lt;app-drawer id=\"appDrawer\" slot=\"drawer\"&gt; &lt;!-- For scrolling --&gt; &lt;div style=\"height: 100%; overflow: auto;\"&gt; &lt;!-- Menu Title --&gt; &lt;app-toolbar class=\"menu-name\"&gt; &lt;div&gt;[[localize('menu')]]&lt;/div&gt; &lt;/app-toolbar&gt; &lt;!-- Menu Items --&gt; &lt;paper-listbox id=\"mainMenu\" attr-for-selected=\"id\" selected=\"[[route]]\"&gt; &lt;template is=\"dom-repeat\" id=\"menuTemplate\" items=\"[[pages]]\"&gt; &lt;hr hidden$=\"[[!item.divider]]\"/&gt; &lt;paper-item id=\"[[item.route]]\" class=\"center horizontal layout\" on-click=\"_onNavMenuItemTapped\" disabled$=\"[[item.disabled]]\"&gt; &lt;iron-icon icon=\"[[item.icon]]\"&gt;&lt;/iron-icon&gt; &lt;span&gt;[[item.label]]&lt;/span&gt; &lt;/paper-item&gt; &lt;/template&gt; &lt;/paper-listbox&gt; &lt;/div&gt; &lt;/app-drawer&gt; &lt;app-header-layout fullbleed]&gt; &lt;app-header fixed slot=\"header\"&gt; &lt;!-- App Toolbar --&gt; &lt;app-toolbar class=\"main-toolbar\"&gt; &lt;paper-icon-button icon=\"myicons:menu\" drawer-toggle&gt;&lt;/paper-icon-button&gt; &lt;div class=\"app-name center horizontal layout\"&gt; &lt;div&gt;[[localize('chrome_extension_name')]]&lt;/div&gt; &lt;/div&gt; &lt;/app-toolbar&gt; &lt;/app-header&gt; &lt;!--Main Contents--&gt; &lt;div id=\"mainContainer\"&gt; &lt;!-- Options Tabbed Pages --&gt; &lt;neon-animated-pages id=\"mainPages\" attr-for-selected=\"data-route\" selected=\"{{route}}\" entry-animation=\"fade-in-animation\" exit-animation=\"fade-out-animation\"&gt; &lt;neon-animatable data-route=\"page-settings\"&gt; &lt;section&gt; &lt;settings-page id=\"settingsPage\"&gt;&lt;/settings-page&gt; &lt;/section&gt; &lt;/neon-animatable&gt; &lt;neon-animatable data-route=\"page-google-photos\"&gt; &lt;section id=\"googlePhotosInsertion\"&gt;&lt;/section&gt; &lt;/neon-animatable&gt; &lt;neon-animatable data-route=\"page-error\"&gt; &lt;section id=\"errorInsertion\"&gt;&lt;/section&gt; &lt;/neon-animatable&gt; &lt;neon-animatable data-route=\"page-help\"&gt; &lt;section id=\"helpInsertion\"&gt;&lt;/section&gt; &lt;/neon-animatable&gt; &lt;/neon-animated-pages&gt; &lt;/div&gt; &lt;/app-header-layout&gt; &lt;app-localstorage-document key=\"permPicasa\" data=\"{{permission}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; &lt;/app-drawer-layout&gt; `, is: 'app-main', behaviors: [ LocalizeBehavior, ], properties: { /** Array of {@link module:els/app_main.Page} */ pages: { type: Array, value: pages, readOnly: true, }, /** Current {@link module:els/app_main.Page} */ route: { type: String, value: 'page-settings', notify: true, }, /** Google Photos permission status */ permission: { type: String, value: 'notSet', notify: true, }, }, /** * Element is ready */ ready: function() { MyGA.initialize(); ChromeGA.page('/options.html'); // Initialize dialog exports showConfirmDialog = this.showConfirmDialog.bind(this); showErrorDialog = this.showErrorDialog.bind(this); showStorageErrorDialog = this.showStorageErrorDialog.bind(this); // initialize page functions pages[1].obj = this._showScreensaverPreview.bind(this); pages[2].obj = this._showGooglePhotosPage.bind(this); pages[3].obj = this._showPermissionsDialog.bind(this); pages[4].obj = this._showErrorPage.bind(this); pages[5].obj = this._showHelpPage.bind(this); // listen for chrome messages ChromeMsg.listen(this._onMessage.bind(this)); // listen for changes to chrome.storage // noinspection JSUnresolvedVariable chrome.storage.onChanged.addListener((changes) =&gt; { for (const key of Object.keys(changes)) { if (key === 'lastError') { this._setErrorMenuState(); break; } } }); // listen for changes to localStorage window.addEventListener('storage', (ev) =&gt; { if (ev.key === 'permPicasa') { this._setGooglePhotosMenuState(); } else if (ev.key === 'signedInToChrome') { this.signedInToChrome = ChromeStorage.getBool('signedInToChrome', true); } }, false); setTimeout(() =&gt; { // initialize menu enabled states this._setErrorMenuState(); this._setGooglePhotosMenuState(); }, 0); }, /** * Display an error dialog * @param {string} title - dialog title * @param {string} text - dialog text * @param {?string} [method=null] - optional calling method */ showErrorDialog: function(title, text, method = null) { if (method) { ChromeLog.error(text, method, title); } this.$.errorDialog.open(title, text); }, /** * Display an error dialog about failing to save data * @param {string} method - calling method */ showStorageErrorDialog: function(method) { const title = ChromeLocale.localize('err_storage_title'); const text = ChromeLocale.localize('err_storage_desc'); ChromeLog.error(text, method, title); this.$.errorDialog.open(title, text); }, /** * Display a confirm dialog * @param {string} text - dialog text * @param {string} title - dialog title * @param {string} confirmLabel - confirm button text * @param {Function} fn - function to call on confirm button click */ showConfirmDialog: function(text, title, confirmLabel, fn) { confirmFn = fn; this.$.confirmDialog.open(text, title, confirmLabel); }, /** * Event: Clicked on confirm button of confirm dialog * @private */ _onConfirmDialogTapped: function() { if (confirmFn) { confirmFn(); } }, /** * Event: navigation menu selected * Route to proper page * @param {Event} event - ClickEvent * @private */ _onNavMenuItemTapped: function(event) { // Close drawer after menu item is selected if it is in narrow layout const appDrawerLayout = this.$$('#appDrawerLayout'); const appDrawer = this.$$('#appDrawer'); if (appDrawer &amp;&amp; appDrawerLayout &amp;&amp; appDrawerLayout.narrow) { appDrawer.close(); } const idx = this._getPageIdx(event.currentTarget.id); ChromeGA.event(ChromeGA.EVENT.MENU, pages[idx].route); const prevRoute = this.route; if (!pages[idx].obj) { // some pages are just pages this.set('route', pages[idx].route); } else if (typeof pages[idx].obj === 'string') { // some pages are url links this.$.mainMenu.select(prevRoute); chrome.tabs.create({url: pages[idx].obj}); } else { // some pages have functions to view them pages[idx].obj(idx, prevRoute); } }, /** * Event: Clicked on accept permissions dialog button * @private */ _onAcceptPermissionsClicked: function() { ChromeGA.event(ChromeGA.EVENT.BUTTON, 'Permission.Allow'); Permissions.request(Permissions.PICASA).then((granted) =&gt; { if (!granted) { return Permissions.removeGooglePhotos(); } else { return null; } }).catch((err) =&gt; { ChromeLog.error(err.message, 'AppMain._onAcceptPermissionsClicked'); }); }, /** * Event: Clicked on deny permission dialog button * @private */ _onDenyPermissionsClicked: function() { ChromeGA.event(ChromeGA.EVENT.BUTTON, 'Permission.Deny'); Permissions.removeGooglePhotos().catch((err) =&gt; { ChromeLog.error(err.message, 'AppMain._onDenyPermissionsClicked'); }); }, /** * Computed Binding: Determine content script permission status string * @param {string} permission - current setting * @returns {string} * @private */ _computePermissionsStatus: function(permission) { return `${ChromeLocale.localize( 'permission_status')} ${ChromeLocale.localize(permission)}`; }, /** * Get the index into the {@link module:els/app_main.pages} array * @param {string} name - {@link module:els/app_main.page} route * @returns {int} index into array * @private */ _getPageIdx: function(name) { return pages.map(function(e) { return e.route; }).indexOf(name); }, /** * Show the Google Photos page * @param {int} index - index into {@link module:els/app_main.pages} * @private */ _showGooglePhotosPage: function(index) { signedInToChrome = ChromeStorage.getBool('signedInToChrome', true); if (!signedInToChrome) { // Display Error Dialog if not signed in to Chrome const title = ChromeLocale.localize('err_chrome_signin_title'); const text = ChromeLocale.localize('err_chrome_signin'); this.$.errorDialog.open(title, text); return; } if (!pages[index].ready) { // create the page the first time pages[index].ready = true; gPhotosPage = new GooglePhotosPage(); this.$.googlePhotosInsertion.appendChild(gPhotosPage); } else if (ChromeStorage.getBool('isAlbumMode', true)) { gPhotosPage.loadAlbumList().catch(() =&gt; {}); } this.set('route', pages[index].route); }, /** * Show the error viewer page * @param {int} index - index into {@link module:els/app_main.pages} * @private */ _showErrorPage: function(index) { if (!pages[index].ready) { // insert the page the first time pages[index].ready = true; const el = new ErrorPage(); this.$.errorInsertion.appendChild(el); } this.set('route', pages[index].route); }, /** * Show the help page * @param {int} index - index into {@link module:els/app_main.pages} * @private */ _showHelpPage: function(index) { if (!pages[index].ready) { // insert the page the first time pages[index].ready = true; const el = new HelpPage(); this.$.helpInsertion.appendChild(el); } this.set('route', pages[index].route); }, /** * Display a preview of the screen saver * @param {int} index - index into {@link module:els/app_main.pages} * @param {string} prevRoute - last page selected * @private */ _showScreensaverPreview: function(index, prevRoute) { // reselect previous page - need to delay so tap event is done setTimeout(() =&gt; this.$.mainMenu.select(prevRoute), 500); ChromeMsg.send(MyMsg.SS_SHOW).catch(() =&gt; {}); }, /** * Show the permissions dialog * @private */ _showPermissionsDialog: function() { this.$.permissionsDialog.open(); }, /** * Set enabled state of Google Photos menu item * @private */ _setGooglePhotosMenuState: function() { // disable google-page if user hasn't allowed const idx = this._getPageIdx('page-google-photos'); const el = this.shadowRoot.querySelector(`#${pages[idx].route}`); if (!el) { ChromeGA.error('no element found', 'AppMain._setGooglePhotosMenuState'); } else if (this.permission !== 'allowed') { el.setAttribute('disabled', 'true'); } else { el.removeAttribute('disabled'); } }, /** * Set enabled state of Error Viewer menu item * @private */ _setErrorMenuState: function() { // disable error-page if no lastError ChromeLastError.load().then((lastError) =&gt; { const idx = this._getPageIdx('page-error'); const el = this.shadowRoot.querySelector(`#${pages[idx].route}`); if (el &amp;&amp; !ChromeUtils.isWhiteSpace(lastError.message)) { el.removeAttribute('disabled'); } else if (el) { el.setAttribute('disabled', 'true'); } return null; }).catch((err) =&gt; { ChromeGA.error(err.message, 'AppMain._setErrorMenuState'); }); }, // noinspection JSUnusedLocalSymbols /** * Event: Fired when a message is sent from either an extension process&lt;br&gt; * (by runtime.sendMessage) or a content script (by tabs.sendMessage). * @see https://developer.chrome.com/extensions/runtime#event-onMessage * @param {module:chrome/msg.Message} request - details for the message * @param {Object} [sender] - MessageSender object * @param {Function} [response] - function to call once after processing * @returns {boolean} true if asynchronous * @private */ _onMessage: function(request, sender, response) { if (request.message === ChromeMsg.HIGHLIGHT.message) { // highlight ourselves and let the sender know we are here const chromep = new ChromePromise(); chromep.tabs.getCurrent().then((tab) =&gt; { chrome.tabs.update(tab.id, {'highlighted': true}); return null; }).catch((err) =&gt; { ChromeLog.error(err.message, 'chromep.tabs.getCurrent'); }); response(JSON.stringify({message: 'OK'})); } else if (request.message === ChromeMsg.STORAGE_EXCEEDED.message) { // Display Error Dialog if a save action exceeded the // localStorage limit const title = ChromeLocale.localize('err_storage_title'); const text = ChromeLocale.localize('err_storage_desc'); this.$.errorDialog.open(title, text); } else if (request.message === MyMsg.PHOTO_SOURCE_FAILED.message) { // failed to load this.$.settingsPage.deselectPhotoSource(request.key); const title = ChromeLocale.localize('err_photo_source_title'); const text = request.error; this.$.errorDialog.open(title, text); } return false; }, }); Ã— Search results Close "},"my_icons.js.html":{"id":"my_icons.js.html","title":"Source: my_icons.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: my_icons.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../node_modules/@polymer/iron-icon/iron-icon.js'; import '../node_modules/@polymer/iron-iconset-svg/iron-iconset-svg.js'; /** * Module for the app's icons * @module els/icons */ // eslint-disable-next-line camelcase const $_documentContainer = document.createElement('template'); // language=HTML format=false $_documentContainer.innerHTML = `&lt;iron-iconset-svg size=\"24\" name=\"myicons\"&gt; &lt;svg&gt;&lt;defs&gt; &lt;g id=\"account-circle\"&gt;&lt;path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"check-box\"&gt;&lt;path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"check-box-outline-blank\"&gt;&lt;path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"cloud\"&gt;&lt;path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"delete\"&gt;&lt;path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"error\"&gt;&lt;path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"extension\"&gt;&lt;path d=\"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"github\"&gt;&lt;path d=\"M12,2C6.48,2 2,6.48 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12C22,6.48 17.52,2 12,2Z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"grade\"&gt;&lt;path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"help\"&gt;&lt;path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"info\"&gt;&lt;path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"mail\"&gt;&lt;path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"menu\"&gt;&lt;path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"pageview\"&gt;&lt;path d=\"M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"photo\"&gt;&lt;path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"photo-album\"&gt;&lt;path d=\"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4zm0 15l3-3.86 2.14 2.58 3-3.86L18 19H6z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"perm-data-setting\"&gt;&lt;path d=\"M18.99 11.5c.34 0 .67.03 1 .07L20 0 0 20h11.56c-.04-.33-.07-.66-.07-1 0-4.14 3.36-7.5 7.5-7.5zm3.71 7.99c.02-.16.04-.32.04-.49 0-.17-.01-.33-.04-.49l1.06-.83c.09-.08.12-.21.06-.32l-1-1.73c-.06-.11-.19-.15-.31-.11l-1.24.5c-.26-.2-.54-.37-.85-.49l-.19-1.32c-.01-.12-.12-.21-.24-.21h-2c-.12 0-.23.09-.25.21l-.19 1.32c-.3.13-.59.29-.85.49l-1.24-.5c-.11-.04-.24 0-.31.11l-1 1.73c-.06.11-.04.24.06.32l1.06.83c-.02.16-.03.32-.03.49 0 .17.01.33.03.49l-1.06.83c-.09.08-.12.21-.06.32l1 1.73c.06.11.19.15.31.11l1.24-.5c.26.2.54.37.85.49l.19 1.32c.02.12.12.21.25.21h2c.12 0 .23-.09.25-.21l.19-1.32c.3-.13.59-.29.84-.49l1.25.5c.11.04.24 0 .31-.11l1-1.73c.06-.11.03-.24-.06-.32l-1.07-.83zm-3.71 1.01c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"refresh\"&gt;&lt;path d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"settings\"&gt;&lt;path d=\"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;g id=\"settings-backup-restore\"&gt;&lt;path d=\"M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2zm-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9z\"&gt;&lt;/path&gt;&lt;/g&gt; &lt;/defs&gt;&lt;/svg&gt; &lt;/iron-iconset-svg&gt;`; document.head.appendChild($_documentContainer.content); Ã— Search results Close "},"pages_error-page_error-page.js.html":{"id":"pages_error-page_error-page.js.html","title":"Source: pages/error-page/error-page.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: pages/error-page/error-page.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/paper-material/paper-material.js'; import '../../../node_modules/@polymer/paper-toggle-button/paper-toggle-button.js'; import '../../../node_modules/@polymer/paper-tooltip/paper-tooltip.js'; import '../../../node_modules/@polymer/paper-button/paper-button.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-item/paper-item-body.js'; import '../../../node_modules/@polymer/paper-icon-button/paper-icon-button.js'; import '../../../node_modules/@polymer/paper-checkbox/paper-checkbox.js'; import '../../../node_modules/@polymer/app-layout/app-toolbar/app-toolbar.js'; import {LocalizeBehavior} from '../../../elements/setting-elements/localize-behavior/localize-behavior.js'; import '../../../elements/shared-styles.js'; import * as MyUtils from '../../../scripts/my_utils.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import ChromeLastError from '../../../scripts/chrome-extension-utils/scripts/last_error.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the Last Error page * @module els/pgs/error */ /** * Polymer element for the Last Error page * @type {{}} * @alias module:els/pgs/error.ErrorPage * @PolymerElement */ const ErrorPage = Polymer({ _template: html` &lt;!--suppress CssUnresolvedCustomPropertySet --&gt; &lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } .page-container { max-width: 1000px; height: 100%; margin-bottom: 16px; } #errorViewer { min-height: 75vh; white-space: pre-wrap; overflow: hidden; padding-left: 16px; padding-right: 16px; margin: 0; } .error-title { @apply --paper-font-title; padding: 0; margin: 0; } .error-text { @apply --paper-font-subhead; padding: 0; margin: 0; } &lt;/style&gt; &lt;paper-material elevation=\"1\" class=\"page-container\"&gt; &lt;!-- Tool bar --&gt; &lt;paper-material elevation=\"1\"&gt; &lt;app-toolbar class=\"page-toolbar\"&gt; &lt;span class=\"space\"&gt;&lt;/span&gt; &lt;div class=\"middle middle-container center horizontal layout flex\"&gt; &lt;div class=\"flex\"&gt;{{localize('last_error_viewer_title')}}&lt;/div&gt; &lt;paper-icon-button id=\"email\" icon=\"myicons:mail\" on-tap=\"_onEmailTapped\" disabled\\$=\"[[!lastError.message]]\"&gt; &lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"email\" position=\"left\" offset=\"0\"&gt; Send email to support &lt;/paper-tooltip&gt; &lt;paper-icon-button id=\"remove\" icon=\"myicons:delete\" on-tap=\"_onRemoveTapped\" disabled\\$=\"[[!lastError.message]]\"&gt; &lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"remove\" position=\"left\" offset=\"0\"&gt; Delete the error &lt;/paper-tooltip&gt; &lt;/div&gt; &lt;/app-toolbar&gt; &lt;/paper-material&gt; &lt;!-- Content --&gt; &lt;div class=\"page-content\"&gt; &lt;div id=\"errorViewer\"&gt; &lt;paper-item class=\"error-title\"&gt;[[_computeTitle(lastError)]]&lt;/paper-item&gt; &lt;paper-item class=\"error-text\"&gt;[[lastError.message]]&lt;/paper-item&gt; &lt;paper-item class=\"error-text\"&gt;[[_computeStack(lastError)]]&lt;/paper-item&gt; &lt;/div&gt; &lt;/div&gt; &lt;/paper-material&gt; `, is: 'error-page', behaviors: [ LocalizeBehavior, ], properties: { /** The LastError Object to display */ lastError: { type: Object, value: function() { return new ChromeLastError(); }, notify: true, }, }, /** * Element is ready */ ready: function() { ChromeLastError.load().then((lastError) =&gt; { this.set('lastError', lastError); return null; }).catch((err) =&gt; { ChromeGA.error(err.message, 'ErrorPage.ready'); }); // listen for changes to lastError // noinspection JSUnresolvedVariable chrome.storage.onChanged.addListener((changes) =&gt; { for (const key of Object.keys(changes)) { if (key === 'lastError') { const change = changes[key]; this.set('lastError', change.newValue); break; } } }); }, /** * Event: Email support * @private */ _onEmailTapped: function() { let body = MyUtils.getEmailBody(); body = body + `${this.lastError.title}\\n\\n${this.lastError.message}\\n\\n` + `${this.lastError.stack}`; body = body + '\\n\\nPlease provide any additional info. ' + 'on what led to the error.\\n\\n'; const url = MyUtils.getEmailUrl('Last Error', body); ChromeGA.event(ChromeGA.EVENT.ICON, 'LastError email'); // noinspection JSUnresolvedVariable chrome.tabs.create({url: url}); }, /** * Event: Remove the error * @private */ _onRemoveTapped: function() { ChromeLastError.reset().catch(() =&gt; {}); ChromeGA.event(ChromeGA.EVENT.ICON, 'LastError delete'); }, /** * Computed Binding * @param { ChromeLastError} lastError - the error * @param { ChromeLastError} lastError.message - message title * @param { ChromeLastError} lastError.stack - stack trace * @returns {string} stack trace * @private */ _computeStack: function(lastError) { return lastError.message ? lastError.stack : ''; }, /** * Computed Binding * @param { ChromeLastError} lastError - the error * @param { ChromeLastError} lastError.title - message title * @param { ChromeLastError} lastError.message - message title * @returns {string} page title * @private */ _computeTitle: function(lastError) { return lastError.message ? lastError.title : ''; }, }); export default ErrorPage; Ã— Search results Close "},"pages_google-photos-page_google-photos-page.js.html":{"id":"pages_google-photos-page_google-photos-page.js.html","title":"Source: pages/google-photos-page/google-photos-page.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: pages/google-photos-page/google-photos-page.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/paper-material/paper-material.js'; import '../../../node_modules/@polymer/paper-toggle-button/paper-toggle-button.js'; import '../../../node_modules/@polymer/paper-icon-button/paper-icon-button.js'; import '../../../node_modules/@polymer/paper-tooltip/paper-tooltip.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import '../../../node_modules/@polymer/app-layout/app-toolbar/app-toolbar.js'; import './albums-view.js'; import './photos-view.js'; import {showConfirmDialog} from '../../../elements/app-main/app-main.js'; import {LocalizeBehavior} from '../../../elements/setting-elements/localize-behavior/localize-behavior.js'; import '../../../elements/my_icons.js'; import '../../../elements/shared-styles.js'; import * as MyUtils from '../../../scripts/my_utils.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeLocale from '../../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeStorage from '../../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the Google Photos page * @module els/pgs/google_photos */ /** * Polymer element for the Google Photos page * @type {{loadAlbumList: Function}} * @alias module:els/pgs/google_photos.GooglePhotosPage * @PolymerElement */ const GooglePhotosPage = Polymer({ // language=HTML format=false _template: html`&lt;!--suppress CssUnresolvedCustomPropertySet --&gt; &lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } :host .page-toolbar { margin: 0; } :host .page-container { margin-bottom: 0; } :host .page-content { min-height: calc(100vh - 128px); margin: 0; } &lt;/style&gt; &lt;paper-material elevation=\"1\" class=\"page-container\"&gt; &lt;paper-material elevation=\"1\"&gt; &lt;app-toolbar class=\"page-toolbar\"&gt; &lt;div class=\"flex\"&gt;[[_computeTitle(isAlbumMode)]]&lt;/div&gt; &lt;paper-icon-button id=\"mode\" icon=\"[[_computeModeIcon(isAlbumMode)]]\" on-tap=\"_onModeTapped\" disabled$=\"[[!useGoogle]]\"&gt;&lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"mode\" position=\"left\" offset=\"0\"&gt; [[_computeModeTooltip(isAlbumMode)]] &lt;/paper-tooltip&gt; &lt;paper-icon-button id=\"select\" icon=\"myicons:check-box\" on-tap=\"_onSelectAllTapped\" disabled$=\"[[_computeAlbumIconDisabled(useGoogle, isAlbumMode)]]\"&gt;&lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"select\" position=\"left\" offset=\"0\"&gt; [[localize('tooltip_select')]] &lt;/paper-tooltip&gt; &lt;paper-icon-button id=\"deselect\" icon=\"myicons:check-box-outline-blank\" on-tap=\"_onDeselectAllTapped\" disabled$=\"[[_computeAlbumIconDisabled(useGoogle, isAlbumMode)]]\"&gt;&lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"deselect\" position=\"left\" offset=\"0\"&gt; [[localize('tooltip_deselect')]] &lt;/paper-tooltip&gt; &lt;paper-icon-button id=\"refresh\" icon=\"myicons:refresh\" on-tap=\"_onRefreshTapped\" disabled$=\"[[!useGoogle]]\"&gt;&lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"refresh\" position=\"left\" offset=\"0\"&gt; [[_computeRefreshTooltip(isAlbumMode)]] &lt;/paper-tooltip&gt; &lt;paper-icon-button id=\"help\" icon=\"myicons:help\" on-tap=\"_onHelpTapped\"&gt;&lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"help\" position=\"left\" offset=\"0\"&gt; [[localize('help')]] &lt;/paper-tooltip&gt; &lt;paper-toggle-button id=\"googlePhotosToggle\" on-change=\"_onUseGoogleChanged\" checked=\"{{useGoogle}}\"&gt;&lt;/paper-toggle-button&gt; &lt;paper-tooltip for=\"googlePhotosToggle\" position=\"left\" offset=\"0\"&gt; [[localize('tooltip_google_toggle')]] &lt;/paper-tooltip&gt; &lt;/app-toolbar&gt; &lt;/paper-material&gt; &lt;div class=\"page-content\"&gt; &lt;!-- Albums UI --&gt; &lt;template is=\"dom-if\" if=\"{{isAlbumMode}}\"&gt; &lt;div&gt; &lt;albums-view id=\"albumsView\" on-no-albums=\"_onNoAlbums\" disabled$=\"[[!useGoogle]]\"&gt;&lt;/albums-view&gt; &lt;/div&gt; &lt;/template&gt; &lt;!-- Photos UI --&gt; &lt;template id=\"photosTemplate\" is=\"dom-if\" if=\"{{!isAlbumMode}}\"&gt; &lt;div&gt; &lt;photos-view id=\"photosView\" disabled$=\"[[!useGoogle]]\"&gt;&lt;/photos-view&gt; &lt;/div&gt; &lt;/template&gt; &lt;/div&gt; &lt;app-localstorage-document key=\"isAlbumMode\" data=\"{{isAlbumMode}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; &lt;app-localstorage-document key=\"useGoogle\" data=\"{{useGoogle}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; &lt;app-localstorage-document key=\"useGoogleAlbums\" data=\"{{useGoogleAlbums}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; &lt;app-localstorage-document key=\"useGooglePhotos\" data=\"{{useGooglePhotos}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/paper-material&gt; `, is: 'google-photos-page', behaviors: [ LocalizeBehavior, ], properties: { /** Select by albums or photos */ isAlbumMode: { type: Boolean, value: true, notify: true, }, /** Should we use the Google Photos in the screensaver */ useGoogle: { type: Boolean, value: true, notify: true, }, /** Should we use album photos in the screensaver */ useGoogleAlbums: { type: Boolean, value: true, notify: true, }, /** Should we use google photos in the screensaver */ useGooglePhotos: { type: Boolean, value: false, notify: true, }, }, observers: [ '_stateChanged(isAlbumMode, useGoogle)', ], /** * Element is ready */ ready: function() { setTimeout(() =&gt; { if (this.isAlbumMode) { this.loadAlbumList().catch(() =&gt; {}); } }, 0); }, /** * Fetch Google Photos albums, optionally fetching the photos too * @param {boolean} [doPhotos=false] - if true, reload each album * @returns {Promise&lt;null&gt;} always resolves */ loadAlbumList: function(doPhotos = false) { if (this.isAlbumMode) { return this.$$('#albumsView').loadAlbumList(doPhotos).catch(() =&gt; {}); } }, /** * Fetch Google Photos for the array of user's photos * @returns {Promise&lt;null&gt;} always resolves * @private */ _loadPhotos: function() { if (!this.isAlbumMode &amp;&amp; this.useGoogle) { return this.$$('#photosView').loadPhotos().catch(() =&gt; {}); } }, /** * Toggle between album and photo mode * @private */ _changeMode: function() { this.set('isAlbumMode', !this.isAlbumMode); if (this.isAlbumMode) { // the dom-if may not have been loaded yet setTimeout(() =&gt; { ChromeStorage.asyncSet('googleImages', []).catch(() =&gt; {}); this.loadAlbumList().catch(() =&gt; {}); }, 0); } else { // the dom-if may not have been loaded yet setTimeout(() =&gt; { // remove album selections this.$$('#albumsView').removeSelectedAlbums(); this.$$('#photosView').setPhotoCount().catch(() =&gt; {}); }, 0); } }, /** * Event: Handle tap on mode icon * @private */ _onModeTapped: function() { // show a confirm dialog and pass in a callback that will be called // if the user confirms the action const text = ChromeLocale.localize('desc_mode_switch'); const title = ChromeLocale.localize('title_mode_switch'); const button = ChromeLocale.localize('button_mode_switch'); showConfirmDialog(text, title, button, this._changeMode.bind(this)); ChromeGA.event(ChromeGA.EVENT.ICON, 'changeGooglePhotosMode'); }, /** * Event: Handle event indicating the user has no albums * @private */ _onNoAlbums: function() { // force change to photos mode this._changeMode(); }, /** * Event: Handle tap on refresh album list icon * @private */ _onRefreshTapped: function() { if (this.isAlbumMode) { this.loadAlbumList().catch(() =&gt; {}); } else { this._loadPhotos().catch(() =&gt; {}); } let lbl = this.isAlbumMode ? 'refreshGoogleAlbums' : 'refreshGooglePhotos'; ChromeGA.event(ChromeGA.EVENT.ICON, lbl); }, /** * Event: Handle tap on help icon * @private */ _onHelpTapped: function() { ChromeGA.event(ChromeGA.EVENT.ICON, 'googlePhotosHelp'); const anchor = this.isAlbumMode ? 'albums' : 'photos'; const url = `${MyUtils.getGithubPagesPath()}help/google_photos.html#${anchor}`; // noinspection JSUnresolvedVariable chrome.tabs.create({url: url}); }, /** * Event: Handle tap on deselect all albums icon * @private */ _onDeselectAllTapped: function() { this.$$('#albumsView').removeSelectedAlbums(); ChromeGA.event(ChromeGA.EVENT.ICON, 'deselectAllGoogleAlbums'); }, /** * Event: Handle tap on select all albums icon * @private */ _onSelectAllTapped: async function() { this.$$('#albumsView').selectAllAlbums().catch(() =&gt; {}); ChromeGA.event(ChromeGA.EVENT.ICON, 'selectAllGoogleAlbums'); }, /** * Event: checked state changed on main toggle changed * @private */ _onUseGoogleChanged: function() { // noinspection JSUnresolvedVariable const useGoogle = this.$.googlePhotosToggle.checked; if (useGoogle) { // Switching to enabled, refresh photos from web if (this.isAlbumMode) { this.loadAlbumList(true).catch(() =&gt; {}); } else { this._loadPhotos().catch(() =&gt; {}); } } ChromeGA.event(ChromeGA.EVENT.TOGGLE, `useGoogle: ${useGoogle}`); }, /** * Computed binding: Calculate page title * @param {boolean} isAlbumMode - true if album mode * @returns {string} page title * @private */ _computeTitle: function(isAlbumMode) { let ret; if (isAlbumMode) { ret = ChromeLocale.localize('google_title'); } else { ret = ChromeLocale.localize('google_title_photos'); } return ret; }, /** * Observer: UI state * @param {boolean|undefined} isAlbumMode - true if album mode * @param {boolean|undefined} useGoogle - true if using Google Photos * @private */ _stateChanged: function(isAlbumMode, useGoogle) { if ((isAlbumMode === undefined) || (useGoogle === undefined)) { return; } const useAlbums = (useGoogle &amp;&amp; isAlbumMode); const usePhotos = (useGoogle &amp;&amp; !isAlbumMode); this.set('useGoogleAlbums', useAlbums); this.set('useGooglePhotos', usePhotos); }, /** * Computed binding: Calculate mode icon * @param {boolean} isAlbumMode - true if album mode * @returns {string} an icon * @private */ _computeModeIcon: function(isAlbumMode) { return isAlbumMode ? 'myicons:photo-album' : 'myicons:photo'; }, /** * Computed binding: Calculate mode tooltip * @param {boolean} isAlbumMode - true if album mode * @returns {string} page title * @private */ _computeModeTooltip: function(isAlbumMode) { let ret; if (isAlbumMode) { ret = ChromeLocale.localize('tooltip_google_mode_albums'); } else { ret = ChromeLocale.localize('tooltip_google_mode_photos'); } return ret; }, /** * Computed binding: Calculate disabled state of icons used by albums * @param {boolean} useGoogle - true if using Google Photos * @param {boolean} isAlbumMode - true if album mode * @returns {boolean} true if album icons should be disabled * @private */ _computeAlbumIconDisabled(useGoogle, isAlbumMode) { return !(useGoogle &amp;&amp; isAlbumMode); }, /** * Computed binding: Calculate refresh tooltip * @param {boolean} isAlbumMode - true if album mode * @returns {string} tooltip label * @private */ _computeRefreshTooltip(isAlbumMode) { let label = ChromeLocale.localize('tooltip_refresh'); if (!isAlbumMode) { label = ChromeLocale.localize('tooltip_refresh_photos'); } return label; }, }); export default GooglePhotosPage; Ã— Search results Close "},"pages_google-photos-page_photos-view.js.html":{"id":"pages_google-photos-page_photos-view.js.html","title":"Source: pages/google-photos-page/photos-view.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: pages/google-photos-page/photos-view.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/paper-ripple/paper-ripple.js'; import '../../../node_modules/@polymer/paper-button/paper-button.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-item/paper-item-body.js'; import '../../../node_modules/@polymer/paper-spinner/paper-spinner.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import './photo_cat.js'; import {LocalizeBehavior} from '../../../elements/setting-elements/localize-behavior/localize-behavior.js'; import {showErrorDialog, showStorageErrorDialog} from '../../../elements/app-main/app-main.js'; import '../../../elements/waiter-element/waiter-element.js'; import '../../../elements/setting-elements/setting-toggle/setting-toggle.js'; import '../../../elements/shared-styles.js'; import * as MyMsg from '../../../scripts/my_msg.js'; import * as Permissions from '../../../scripts/permissions.js'; import GoogleSource from '../../../scripts/sources/photo_source_google.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeLocale from '../../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeMsg from '../../../scripts/chrome-extension-utils/scripts/msg.js'; import * as ChromeStorage from '../../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for selecting Google Photos * @module els/pgs/google_photos/photos_view */ /** * A Google photos category for searches * @typedef {{}} module:els/pgs/google_photos/photos_view.PhotoCategory * @property {string} name * @property {string} label * @private */ /** * Photo categories * @type {module:els/pgs/google_photos/photos_view.PhotoCategory[]} * @private */ const _CATS = [ {name: 'LANDSCAPES', label: ChromeLocale.localize('photo_cat_landscapes')}, {name: 'CITYSCAPES', label: ChromeLocale.localize('photo_cat_cityscapes')}, {name: 'LANDMARKS', label: ChromeLocale.localize('photo_cat_landmarks')}, {name: 'PEOPLE', label: ChromeLocale.localize('photo_cat_people')}, {name: 'ANIMALS', label: ChromeLocale.localize('photo_cat_animals')}, {name: 'PETS', label: ChromeLocale.localize('photo_cat_pets')}, { name: 'PERFORMANCES', label: ChromeLocale.localize('photo_cat_performances'), }, {name: 'SPORT', label: ChromeLocale.localize('photo_cat_sport')}, {name: 'FOOD', label: ChromeLocale.localize('photo_cat_food')}, {name: 'SELFIES', label: ChromeLocale.localize('photo_cat_selfies')}, ]; /** * Polymer element for the Google Photos page * @PolymerElement * @constructor * @alias module:els/pgs/google_photos/photos_view.PhotosView */ Polymer({ // language=HTML format=false _template: html`&lt;!--suppress CssUnresolvedCustomPropertySet --&gt; &lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } :host .album-note { @apply --paper-font-title; border: 1px #CCCCCC; border-top-style: solid; padding: 8px 16px 8px 16px; margin-right: 0; white-space: normal; } :host .photo-count-container { border: 1px #CCCCCC; border-bottom-style: solid; padding: 16px 0 16px 0; white-space: normal; } :host .photo-count-container paper-button { margin: 0 8px 0 0; @apply --paper-font-title; } :host .photo-count-container #photoCount { @apply --paper-font-title; padding-right: 0; } &lt;/style&gt; &lt;waiter-element active=\"[[waitForLoad]]\" label=\"[[localize('google_loading')]]\" status-label=\"[[waiterStatus]]\"&gt;&lt;/waiter-element&gt; &lt;div class=\"photos-container\" hidden$=\"[[_computeHidden(waitForLoad, permPicasa)]]\"&gt; &lt;div class=\"photo-count-container horizontal layout\"&gt; &lt;paper-item class=\"flex\" id=\"photoCount\" disabled$=\"[[disabled]]\"&gt; &lt;span&gt;[[localize('photo_count')]]&lt;/span&gt;&amp;nbsp &lt;span&gt;[[photoCount]]&lt;/span&gt; &lt;/paper-item&gt; &lt;paper-button raised disabled$=\"[[_computeRefreshDisabled(disabled, needsPhotoRefresh)]]\" on-click=\"_onRefreshPhotosClicked\"&gt; [[localize('button_needs_refresh')]] &lt;/paper-button&gt; &lt;/div&gt; &lt;setting-toggle name=\"noFilter\" main-label=\"{{localize('photo_no_filter')}}\" secondary-label=\"{{localize('photo_no_filter_desc')}}\" checked=\"{{noFilter}}\" disabled$=\"[[disabled]]\"&gt;&lt;/setting-toggle&gt; &lt;div class=\"section-title\"&gt;[[localize('photo_cat_title')]]&lt;/div&gt; &lt;template is=\"dom-repeat\" items=\"[[cats]]\" as=\"cat\"&gt; &lt;photo-cat id=\"[[cat.name]]\" label=\"[[cat.label]]\" on-value-changed=\"_onPhotoCatChanged\" disabled$=\"[[_computeFilterDisabled(disabled, noFilter)]]\"&gt;&lt;/photo-cat&gt; &lt;/template&gt; &lt;paper-item class=\"album-note\"&gt; {{localize('note_albums')}} &lt;/paper-item&gt; &lt;app-localstorage-document key=\"permPicasa\" data=\"{{permPicasa}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; &lt;app-localstorage-document key=\"googlePhotosNoFilter\" data=\"{{noFilter}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; &lt;/div&gt; `, is: 'photos-view', behaviors: [ LocalizeBehavior, ], properties: { /** Array of photo categories */ cats: { type: Array, value: _CATS, readonly: true, }, /** Do we need to reload the photos */ needsPhotoRefresh: { type: Boolean, value: true, notify: true, }, /** Count for photo mode */ photoCount: { type: Number, value: 0, notify: true, }, /** Flag to indicate if we should not filter photos */ noFilter: { type: Boolean, value: true, notify: true, observer: '_noFilterChanged', }, /** Status of the option permission for the Google Photos API */ permPicasa: { type: String, value: 'notSet', notify: true, }, /** Flag to indicate if UI is disabled */ disabled: { type: Boolean, value: false, }, /** Flag to display the loading... UI */ waitForLoad: { type: Boolean, value: false, }, /** Status label for waiter */ waiterStatus: { type: String, value: '', }, /** Flag to determine if main view should be hidden */ isHidden: { type: Boolean, computed: '_computeHidden(waitForLoad, permPicasa)', }, }, /** * Element is ready */ ready: function() { // listen for chrome messages ChromeMsg.listen(this._onMessage.bind(this)); setTimeout(() =&gt; { this.setPhotoCount().catch(() =&gt; {}); // set state of photo categories this._setPhotoCats(); // listen for changes to chrome.storage // noinspection JSUnresolvedVariable chrome.storage.onChanged.addListener((changes) =&gt; { for (const key of Object.keys(changes)) { if (key === 'googleImages') { this.setPhotoCount().catch(() =&gt; {}); this.set('needsPhotoRefresh', true); break; } } }); }, 0); }, /** * Query Google Photos for the array of user's photos * @returns {Promise&lt;null&gt;} always resolves */ loadPhotos: async function() { const METHOD = 'PhotosView.loadPhotos'; let error = null; try { const granted = await Permissions.request(Permissions.PICASA); if (!granted) { // failed to get google photos permission await Permissions.removeGooglePhotos(); const title = ChromeLocale.localize('err_load_photos'); const text = ChromeLocale.localize('err_auth_picasa'); showErrorDialog(title, text, METHOD); return null; } this.set('waitForLoad', true); this.set('waiterStatus', ''); // send message to background page to do the work const json = await ChromeMsg.send(MyMsg.LOAD_FILTERED_PHOTOS); if (Array.isArray(json)) { // photos const set = await ChromeStorage.asyncSet('googleImages', json, 'useGooglePhotos'); if (!set) { showStorageErrorDialog(METHOD); this.set('needsPhotoRefresh', true); } else { this.set('needsPhotoRefresh', false); } await this.setPhotoCount(); } else { // error error = new Error(json.message); } } catch (err) { error = err; } finally { this.set('waitForLoad', false); this.set('waiterStatus', ''); } if (error) { const title = ChromeLocale.localize('err_load_photos'); const text = error.message; showErrorDialog(title, text, METHOD); } }, /** * Set the photo count that is currently saved * @async */ setPhotoCount: async function() { const photos = await ChromeStorage.asyncGet('googleImages', []); this.set('photoCount', photos.length); }, /** * Set the states of the photo-cat elements * @private */ _setPhotoCats: function() { const els = this.shadowRoot.querySelectorAll('photo-cat'); const filter = ChromeStorage.get('googlePhotosFilter', GoogleSource.DEF_FILTER); filter.contentFilter = filter.contentFilter || {}; const includes = filter.contentFilter.includedContentCategories || []; for (const el of els) { const cat = el.id; const idx = includes.findIndex((e) =&gt; { return e === cat; }); el.set('checked', (idx !== -1)); } }, /** * Event: Selection of photo-cat changed * @param {Event} ev * @private */ _onPhotoCatChanged: function(ev) { const cat = ev.srcElement.id; const checked = ev.detail.value; const filter = ChromeStorage.get('googlePhotosFilter', GoogleSource.DEF_FILTER); filter.contentFilter = filter.contentFilter || {}; const includes = filter.contentFilter.includedContentCategories || []; const idx = includes.findIndex((e) =&gt; { return e === cat; }); // add and remove as appropriate if (checked) { if (idx === -1) { includes.push(cat); } } else { if (idx !== -1) { includes.splice(idx, 1); } } filter.contentFilter.includedContentCategories = includes; this.set('needsPhotoRefresh', true); ChromeStorage.set('googlePhotosFilter', filter); }, // noinspection JSUnusedLocalSymbols /** * Event: Fired when a message is sent from either an extension process&lt;br&gt; * (by runtime.sendMessage) or a content script (by tabs.sendMessage). * @see https://developer.chrome.com/extensions/runtime#event-onMessage * @param {module:chrome/msg.Message} request - details for the message * @param {Object} [sender] - MessageSender object * @param {Function} [response] - function to call once after processing * @returns {boolean} true if asynchronous * @private */ _onMessage: function(request, sender, response) { if (request.message === MyMsg.FILTERED_PHOTOS_COUNT.message) { // show user status of photo loading // noinspection JSUnresolvedVariable const count = request.count || 0; let msg = `${ChromeLocale.localize('photo_count')} ${count.toString()}`; this.set('waiterStatus', msg); response(JSON.stringify({message: 'OK'})); } return false; }, /** * Event: Refresh photos button clicked * @private */ _onRefreshPhotosClicked: function() { this.loadPhotos().catch(() =&gt; {}); ChromeGA.event(ChromeGA.EVENT.BUTTON, 'refreshPhotos'); }, /** * Observer: noFilter changed * @param {number} newValue * @param {number} oldValue * @private */ _noFilterChanged: function(newValue, oldValue) { if ((newValue !== undefined) &amp;&amp; (oldValue !== undefined)) { if (newValue !== oldValue) { this.set('needsPhotoRefresh', true); } } }, /** * Computed property: Disabled state of filter ui elements * @param {boolean} disabled - true if whole UI is disabled * @param {boolean} noFilter - true if not filtering * @returns {boolean} true if hidden * @private */ _computeFilterDisabled: function(disabled, noFilter) { return disabled || noFilter; }, /** * Computed property: Disabled state of filter ui elements * @param {boolean} disabled - true if whole UI is disabled * @param {boolean} needsPhotoRefresh - true if photos need refresh * @returns {boolean} true if hidden * @private */ _computeRefreshDisabled: function(disabled, needsPhotoRefresh) { return disabled || !needsPhotoRefresh; }, /** * Computed property: Hidden state of main interface * @param {boolean} waitForLoad - true if loading * @param {string} permPicasa - permission state * @returns {boolean} true if hidden * @private */ _computeHidden: function(waitForLoad, permPicasa) { let ret = true; if (!waitForLoad &amp;&amp; (permPicasa === 'allowed')) { ret = false; } return ret; }, }); Ã— Search results Close "},"pages_help-page_help-page.js.html":{"id":"pages_help-page_help-page.js.html","title":"Source: pages/help-page/help-page.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: pages/help-page/help-page.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/paper-material/paper-material.js'; import '../../../node_modules/@polymer/app-layout/app-toolbar/app-toolbar.js'; import '../../../elements/setting-elements/setting-link/setting-link.js'; import {LocalizeBehavior} from '../../../elements/setting-elements/localize-behavior/localize-behavior.js'; import '../../../elements/shared-styles.js'; import * as MyUtils from '../../../scripts/my_utils.js'; import * as ChromeUtils from '../../../scripts/chrome-extension-utils/scripts/utils.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the Help page * @module els/pgs/help */ /** * Polymer element for the Help page * @type {{}} * @alias module:els/pgs/help.HelpPage * @PolymerElement */ const HelpPage = Polymer({ _template: html` &lt;!--suppress CssUnresolvedCustomPropertySet --&gt; &lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } :host hr { margin-left: 0; margin-right: 0; } &lt;/style&gt; &lt;paper-material elevation=\"1\" class=\"page-container\"&gt; &lt;paper-material elevation=\"1\"&gt; &lt;app-toolbar class=\"page-toolbar\"&gt; &lt;div&gt;{{localize('help_title')}}&lt;/div&gt; &lt;/app-toolbar&gt; &lt;/paper-material&gt; &lt;div class=\"page-content\"&gt; &lt;setting-link section-title=\"{{localize('help_section_feedback')}}\" name=\"questionMail\" label=\"{{localize('help_question')}}\" icon=\"myicons:mail\" url=\"[[_computeMailToUrl('Question')]]\"&gt;&lt;/setting-link&gt; &lt;setting-link label=\"{{localize('help_bug')}}\" name=\"bugMail\" icon=\"myicons:mail\" url=\"[[_computeMailToUrl('Bug report')]]\"&gt;&lt;/setting-link&gt; &lt;setting-link label=\"{{localize('help_feature')}}\" name=\"featureMail\" icon=\"myicons:mail\" url=\"[[_computeMailToUrl('Feature request')]]\"&gt;&lt;/setting-link&gt; &lt;setting-link label=\"{{localize('help_feedback')}}\" name=\"feedbackMail\" icon=\"myicons:mail\" url=\"[[_computeMailToUrl('General feedback')]]\"&gt;&lt;/setting-link&gt; &lt;setting-link label=\"{{localize('help_issue')}}\" name=\"submitGitHubIssue\" noseparator=\"\" icon=\"myicons:github\" url=\"[[githubPath]]issues/new\"&gt;&lt;/setting-link&gt; &lt;hr&gt; &lt;setting-link section-title=\"{{localize('help')}}\" name=\"documentation\" label=\"{{localize('help_documentation')}}\" icon=\"myicons:info\" url=\"[[githubPagesPath]]documentation.html\"&gt;&lt;/setting-link&gt; &lt;setting-link label=\"{{localize('help_faq')}}\" name=\"faq\" icon=\"myicons:help\" url=\"[[githubPagesPath]]faq.html\"&gt;&lt;/setting-link&gt; &lt;setting-link label=\"{{localize('help_translations')}}\" name=\"translations\" icon=\"myicons:info\" url=\"[[githubPagesPath]]translate.html\"&gt;&lt;/setting-link&gt; &lt;setting-link label=\"{{localize('help_release_notes')}}\" name=\"releaseNotes\" icon=\"myicons:github\" url=\"[[githubPath]]releases/tag/v[[_computeVersion()]]\"&gt;&lt;/setting-link&gt; &lt;setting-link label=\"{{localize('help_contributors')}}\" name=\"contributors\" icon=\"myicons:github\" url=\"[[githubPath]]blob/master/CONTRIBUTORS.md\"&gt;&lt;/setting-link&gt; &lt;setting-link label=\"{{localize('help_licenses')}}\" name=\"licenses\" icon=\"myicons:github\" url=\"[[githubPath]]blob/master/LICENSES.md\"&gt;&lt;/setting-link&gt; &lt;setting-link label=\"{{localize('help_source_code')}}\" name=\"sourceCode\" noseparator=\"\" icon=\"myicons:github\" url=\"[[githubPath]]\"&gt;&lt;/setting-link&gt; &lt;/div&gt; &lt;/paper-material&gt; `, is: 'help-page', behaviors: [ LocalizeBehavior, ], properties: { /** Path to our Github repo */ githubPath: { type: String, value: function() { return MyUtils.getGithubPath(); }, readOnly: true, }, /** Path to our Web Site */ githubPagesPath: { type: String, value: function() { return MyUtils.getGithubPagesPath(); }, readOnly: true, }, }, /** * computed binding: Get a mailto url * @param {string} subject - email subject * @returns {string} url * @private */ _computeMailToUrl: function(subject) { return MyUtils.getEmailUrl(subject, MyUtils.getEmailBody()); }, /** * computed binding: Get the extension version * @returns {string} Version of the extension * @private */ _computeVersion: function() { const text = ChromeUtils.getVersion(); return encodeURIComponent(text); }, }); export default HelpPage; Ã— Search results Close "},"pages_settings-page_settings-page.js.html":{"id":"pages_settings-page_settings-page.js.html","title":"Source: pages/settings-page/settings-page.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: pages/settings-page/settings-page.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/iron-pages/iron-pages.js'; import '../../../node_modules/@polymer/iron-label/iron-label.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/paper-material/paper-material.js'; import '../../../node_modules/@polymer/paper-tabs/paper-tab.js'; import '../../../node_modules/@polymer/paper-tabs/paper-tabs.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-icon-button/paper-icon-button.js'; import '../../../node_modules/@polymer/paper-toggle-button/paper-toggle-button.js'; import '../../../node_modules/@polymer/paper-tooltip/paper-tooltip.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import '../../../node_modules/@polymer/app-layout/app-toolbar/app-toolbar.js'; import '../../../elements/setting-elements/setting-toggle/setting-toggle.js'; import '../../../elements/setting-elements/setting-slider/setting-slider.js'; import '../../../elements/setting-elements/setting-dropdown/setting-dropdown.js'; import '../../../elements/setting-elements/setting-background/setting-background.js'; import '../../../elements/setting-elements/setting-time/setting-time.js'; import {LocalizeBehavior} from '../../../elements/setting-elements/localize-behavior/localize-behavior.js'; import '../../../elements/my_icons.js'; import '../../../elements/shared-styles.js'; import * as MyUtils from '../../../scripts/my_utils.js'; import * as Permissions from '../../../scripts/permissions.js'; import * as PhotoSources from '../../../scripts/sources/photo_sources.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeLocale from '../../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeMsg from '../../../scripts/chrome-extension-utils/scripts/msg.js'; import * as ChromeStorage from '../../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the Settings Page * @module els/pgs/settings */ /** * Polymer element for the Settings Page * @type {{deselectPhotoSource: Function}} * @alias module:els/pgs/settings.SettingsPage * @PolymerElement */ Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment shared-styles\"&gt; :host { display: block; position: relative; } #topToolbar { padding: 10px 10px 10px 24px; } :host app-toolbar { height: 100px; } &lt;/style&gt; &lt;paper-material elevation=\"1\" class=\"page-container\"&gt; &lt;paper-material elevation=\"1\"&gt; &lt;app-toolbar class=\"page-toolbar\"&gt; &lt;div id=\"topToolbar\" top-item=\"\" class=\"horizontal layout flex\"&gt; &lt;iron-label for=\"settingsToggle\" class=\"center horizontal layout flex\"&gt; &lt;div class=\"flex\"&gt;[[localize('screensaver')]] &lt;span hidden$=\"[[!enabled]]\"&gt;[[localize('on')]]&lt;/span&gt; &lt;span hidden$=\"[[enabled]]\"&gt;[[localize('off')]]&lt;/span&gt; &lt;/div&gt; &lt;/iron-label&gt; &lt;paper-icon-button id=\"select\" icon=\"myicons:check-box\" on-tap=\"_selectAllTapped\" hidden$=\"[[menuHidden]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"select\" position=\"left\" offset=\"0\"&gt; [[localize('tooltip_select')]] &lt;/paper-tooltip&gt; &lt;paper-icon-button id=\"deselect\" icon=\"myicons:check-box-outline-blank\" on-tap=\"_deselectAllTapped\" hidden$=\"[[menuHidden]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"deselect\" position=\"left\" offset=\"0\"&gt; [[localize('tooltip_deselect')]] &lt;/paper-tooltip&gt; &lt;paper-icon-button id=\"restore\" icon=\"myicons:settings-backup-restore\" on-tap=\"_restoreDefaultsTapped\" disabled$=\"[[!enabled]]\"&gt;&lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"restore\" position=\"left\" offset=\"0\"&gt; [[localize('tooltip_restore')]] &lt;/paper-tooltip&gt; &lt;paper-icon-button id=\"help\" icon=\"myicons:help\" on-tap=\"_onHelpTapped\"&gt;&lt;/paper-icon-button&gt; &lt;paper-tooltip for=\"help\" position=\"left\" offset=\"0\"&gt; [[localize('help')]] &lt;/paper-tooltip&gt; &lt;paper-toggle-button id=\"settingsToggle\" on-change=\"_onEnabledChanged\" checked=\"{{enabled}}\"&gt;&lt;/paper-toggle-button&gt; &lt;paper-tooltip for=\"settingsToggle\" position=\"left\" offset=\"0\"&gt; [[localize('tooltip_settings_toggle')]] &lt;/paper-tooltip&gt; &lt;/div&gt; &lt;paper-tabs selected=\"{{selectedTab}}\" bottom-item=\"\" class=\"fit\"&gt; &lt;paper-tab&gt;[[localize('tab_slideshow')]]&lt;/paper-tab&gt; &lt;paper-tab&gt;[[localize('tab_display')]]&lt;/paper-tab&gt; &lt;paper-tab&gt;[[localize('tab_sources')]]&lt;/paper-tab&gt; &lt;/paper-tabs&gt; &lt;/app-toolbar&gt; &lt;app-localstorage-document key=\"enabled\" data=\"{{enabled}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; &lt;/paper-material&gt; &lt;div class=\"page-content\"&gt; &lt;iron-pages selected=\"{{selectedTab}}\"&gt; &lt;div&gt; &lt;setting-slider name=\"idleTime\" label=\"[[localize('setting_idle_time')]]\" units=\"[[_computeWaitTimeUnits()]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-slider&gt; &lt;setting-slider name=\"transitionTime\" label=\"[[localize('setting_transition_time')]]\" units=\"[[_computeTransitionTimeUnits()]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-slider&gt; &lt;setting-dropdown name=\"photoSizing\" label=\"[[localize('setting_photo_sizing')]]\" items=\"[[_computePhotoSizingMenu()]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-dropdown&gt; &lt;setting-dropdown name=\"photoTransition\" label=\"[[localize('setting_photo_transition')]]\" items=\"[[_computePhotoTransitionMenu()]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-dropdown&gt; &lt;setting-toggle name=\"allowBackground\" main-label=\"[[localize('setting_background')]]\" secondary-label=\"[[localize('setting_background_desc')]]\" on-tap=\"_chromeBackgroundTapped\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"interactive\" main-label=\"[[localize('setting_interactive')]]\" secondary-label=\"[[localize('setting_interactive_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"shuffle\" main-label=\"[[localize('setting_shuffle')]]\" secondary-label=\"[[localize('setting_shuffle_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"skip\" main-label=\"[[localize('setting_skip')]]\" secondary-label=\"[[localize('setting_skip_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"fullResGoogle\" main-label=\"[[localize('setting_full_res')]]\" secondary-label=\"[[localize('setting_full_res_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"showPhotog\" main-label=\"[[localize('setting_photog')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"showLocation\" main-label=\"[[localize('setting_location')]]\" secondary-label=\"[[localize('setting_location_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"allowPhotoClicks\" main-label=\"[[localize('setting_photo_clicks')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-dropdown name=\"showTime\" label=\"[[localize('setting_show_time')]]\" items=\"[[_computeTimeFormatMenu()]]\" value=\"[[showTimeValue]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-dropdown&gt; &lt;setting-toggle name=\"largeTime\" main-label=\"[[localize('setting_large_time')]]\" indent=\"\" disabled$=\"[[_computeLargeTimeDisabled(enabled, showTimeValue)]]\"&gt; &lt;/setting-toggle&gt; &lt;setting-background name=\"background\" main-label=\"[[localize('setting_bg')]]\" secondary-label=\"[[localize('setting_bg_desc')]]\" noseparator=\"\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-background&gt; &lt;/div&gt; &lt;div&gt; &lt;setting-toggle name=\"allDisplays\" main-label=\"[[localize('setting_all_displays')]]\" secondary-label=\"[[localize('setting_all_displays_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"chromeFullscreen\" main-label=\"[[localize('setting_full_screen')]]\" secondary-label=\"[[localize('setting_full_screen_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle id=\"keepAwake\" name=\"keepAwake\" main-label=\"[[localize('setting_keep_awake')]]\" secondary-label=\"[[localize('setting_keep_awake_desc')]]\" checked=\"[[keepEnabled]]\"&gt;&lt;/setting-toggle&gt; &lt;paper-tooltip for=\"keepAwake\" position=\"top\" offset=\"0\"&gt; [[localize('tooltip_keep_awake')]] &lt;/paper-tooltip&gt; &lt;setting-time name=\"activeStart\" main-label=\"[[localize('setting_start_time')]]\" secondary-label=\"[[localize('setting_start_time_desc')]]\" format=\"[[showTimeValue]]\" indent=\"\" disabled$=\"[[!keepEnabled]]\"&gt;&lt;/setting-time&gt; &lt;setting-time name=\"activeStop\" main-label=\"[[localize('setting_stop_time')]]\" secondary-label=\"[[localize('setting_stop_time_desc')]]\" format=\"[[showTimeValue]]\" indent=\"\" disabled$=\"[[!keepEnabled]]\"&gt;&lt;/setting-time&gt; &lt;setting-toggle id=\"allowSuspend\" name=\"allowSuspend\" main-label=\"[[localize('setting_suspend')]]\" secondary-label=\"[[localize('setting_suspend_desc')]]\" indent=\"\" noseparator=\"\" disabled$=\"[[!keepEnabled]]\"&gt;&lt;/setting-toggle&gt; &lt;/div&gt; &lt;div&gt; &lt;setting-toggle name=\"useChromecast\" main-label=\"[[localize('setting_chromecast')]]\" secondary-label=\"[[localize('setting_chromecast_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"useInterestingFlickr\" main-label=\"[[localize('setting_flickr_int')]]\" secondary-label=\"[[localize('setting_flickr_int_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"useSpaceReddit\" main-label=\"[[localize('setting_reddit_space')]]\" secondary-label=\"[[localize('setting_reddit_space_desc')]]\" noseparator=\"\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"useEarthReddit\" main-label=\"[[localize('setting_reddit_earth')]]\" secondary-label=\"[[localize('setting_reddit_earth_desc')]]\" noseparator=\"\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"useAnimalReddit\" main-label=\"[[localize('setting_reddit_animal')]]\" secondary-label=\"[[localize('setting_reddit_animal_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;setting-toggle name=\"useAuthors\" main-label=\"[[localize('setting_mine')]]\" secondary-label=\"[[localize('setting_mine_desc')]]\" disabled$=\"[[!enabled]]\"&gt;&lt;/setting-toggle&gt; &lt;paper-item tabindex=\"-1\"&gt; [[localize('setting_click_to_view')]] &lt;/paper-item&gt; &lt;paper-item tabindex=\"-1\"&gt; [[localize('setting_flickr_api')]] &lt;/paper-item&gt; &lt;/div&gt; &lt;/iron-pages&gt; &lt;/div&gt; &lt;/paper-material&gt; `, is: 'settings-page', behaviors: [ LocalizeBehavior, ], properties: { /** Index of current tab */ selectedTab: { type: Number, value: 0, notify: true, }, /** Flag for enabled state of screensaver */ enabled: { type: Boolean, value: true, notify: true, }, /** Index of time value to show on screensaver */ showTimeValue: { type: Number, value: 1, notify: true, }, /** Flag to indicate visibility of toolbar icons */ menuHidden: { type: Boolean, computed: '_computeMenuHidden(selectedTab)', }, }, /** * Element is ready */ ready: function() { this.set('selectedTab', 0); }, /** * Deselect the given {@link module:sources/photo_source} * @param {string} useName - Name of &lt;setting-toggle&gt; */ deselectPhotoSource: function(useName) { this._setPhotoSourceChecked(useName, false); }, /** * Return a Unit object * @param {string} name * @param {int} min - min value * @param {int} max - max value * @param {int} step - increment * @param {int} mult - multiplier between base and display * @returns {{name: *, min: *, mult: *, max: *, name: *, step: *}} * @private */ _getUnit: function(name, min, max, step, mult) { return { 'name': ChromeLocale.localize(name), 'min': min, 'max': max, 'step': step, 'mult': mult, }; }, /** * Set checked state of a {@link module:sources/photo_source} * @param {string} useName - source name * @param {boolean} state - checked state * @private */ _setPhotoSourceChecked: function(useName, state) { const query = `[name=${useName}]`; const el = this.shadowRoot.querySelector(query); if (el &amp;&amp; !useName.includes('useGoogle')) { el.setChecked(state); } }, /** * Set checked state of all {@link module:sources/photo_source} objects * @param {boolean} state - checked state * @private */ _setPhotoSourcesChecked: function(state) { const useNames = PhotoSources.getUseKeys(); useNames.forEach((useName) =&gt; { this._setPhotoSourceChecked(useName, state); }); }, /** * Event: Change enabled state of screensaver * @private */ _onEnabledChanged: function() { // noinspection JSUnresolvedVariable const enabled = this.$.settingsToggle.checked; ChromeGA.event(ChromeGA.EVENT.TOGGLE, `screensaverEnabled: ${enabled}`); }, /** * Event: Handle tap on help icon * @private */ _onHelpTapped: function() { ChromeGA.event(ChromeGA.EVENT.ICON, 'settingsHelp'); let anchor = 'ss_controls'; switch (this.selectedTab) { case 0: anchor = 'ss_controls'; break; case 1: anchor = 'display_controls'; break; case 2: anchor = 'photo_sources'; break; default: break; } const url = `${MyUtils.getGithubPagesPath()}help/settings.html#${anchor}`; // noinspection JSUnresolvedVariable chrome.tabs.create({url: url}); }, /** * Event: select all {@link module:sources/photo_source} objects tapped * @private */ _selectAllTapped: function() { this._setPhotoSourcesChecked(true); }, /** * Event: deselect all {@link module:sources/photo_source} objects tapped * @private */ _deselectAllTapped: function() { this._setPhotoSourcesChecked(false); }, /** * Event: restore default settings tapped * @private */ _restoreDefaultsTapped: function() { ChromeMsg.send(ChromeMsg.RESTORE_DEFAULTS).catch(() =&gt; {}); }, /** * Event: Process the background permission * @private */ _chromeBackgroundTapped() { // this used to not be updated yet in Polymer 1 const isSet = ChromeStorage.getBool('allowBackground'); const perm = Permissions.BACKGROUND; const isAllowed = Permissions.isAllowed(perm); const errTitle = ChromeLocale.localize('err_optional_permissions'); if (isSet &amp;&amp; !isAllowed) { Permissions.request(perm).catch((err) =&gt; { ChromeLog.error(err.message, 'settings-page._chromeBackgroundTapped', errTitle); }); } else if (!isSet &amp;&amp; isAllowed) { Permissions.remove(perm).catch((err) =&gt; { ChromeLog.error(err.message, 'settings-page._chromeBackgroundTapped', errTitle); }); } }, /** * Computed property: Set menu icons visibility * @param {int} selectedTab - the current tab * @returns {boolean} true if menu should be visible * @private */ _computeMenuHidden: function(selectedTab) { return (selectedTab !== 2); }, /** * Computed binding: Set disabled state of largeTime toggle * @param {boolean} enabled - enabled state of screensaver * @param {number} showTimeValue - showTime value * @returns {boolean} true if disabled * @private */ _computeLargeTimeDisabled: function(enabled, showTimeValue) { let ret = false; if (!enabled || (showTimeValue === 0)) { ret = true; } return ret; }, /** * Computed binding: idle time values * @returns {Array} Array of menu items * @private */ _computeWaitTimeUnits: function() { return [ this._getUnit('minutes', 1, 60, 1, 1), this._getUnit('hours', 1, 24, 1, 60), this._getUnit('days', 1, 365, 1, 1440), ]; }, /** * Computed binding: transition time values * @returns {Array} Array of menu items * @private */ _computeTransitionTimeUnits: function() { return [ this._getUnit('seconds', 10, 60, 1, 1), this._getUnit('minutes', 1, 60, 1, 60), this._getUnit('hours', 1, 24, 1, 3600), this._getUnit('days', 1, 365, 1, 86400), ]; }, /** * Computed binding: photo sizing values * @returns {Array} Array of menu items * @private */ _computePhotoSizingMenu: function() { return [ ChromeLocale.localize('menu_letterbox'), ChromeLocale.localize('menu_zoom'), ChromeLocale.localize('menu_frame'), ChromeLocale.localize('menu_full'), ChromeLocale.localize('menu_random'), ]; }, /** * Computed binding: photo transition values * @returns {Array} Array of menu items * @private */ _computePhotoTransitionMenu: function() { return [ ChromeLocale.localize('menu_scale_up'), ChromeLocale.localize('menu_fade'), ChromeLocale.localize('menu_slide_from_right'), ChromeLocale.localize('menu_slide_down'), ChromeLocale.localize('menu_spin_up'), ChromeLocale.localize('menu_slide_up'), ChromeLocale.localize('menu_slide_from_bottom'), ChromeLocale.localize('menu_slide_right'), ChromeLocale.localize('menu_random'), ]; }, /** * Computed binding: time format values * @returns {Array} Array of menu items * @private */ _computeTimeFormatMenu: function() { return [ ChromeLocale.localize('no'), ChromeLocale.localize('menu_12_hour'), ChromeLocale.localize('menu_24_hour'), ]; }, }); Ã— Search results Close "},"screensaver-element_screensaver-element.js.html":{"id":"screensaver-element_screensaver-element.js.html","title":"Source: screensaver-element/screensaver-element.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver-element/screensaver-element.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../node_modules/@polymer/font-roboto/roboto.js'; import '../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../node_modules/@polymer/iron-image/iron-image.js'; import '../../node_modules/@polymer/neon-animation/neon-animated-pages.js'; import '../../node_modules/@polymer/neon-animation/neon-animations.js'; import '../../node_modules/@polymer/neon-animation/neon-animatable.js'; import '../../elements/animations/spin-up-animation/spin-up-animation.js'; import '../../elements/animations/spin-down-animation/spin-down-animation.js'; import '../../elements/slide-animatable/slide-animatable.js'; import '../../elements/pages/settings-page/settings-page.js'; import '../../elements/pages/error-page/error-page.js'; import '../../elements/pages/help-page/help-page.js'; import '../../elements/pages/google-photos-page/google-photos-page.js'; import {LocalizeBehavior} from '../../elements/setting-elements/localize-behavior/localize-behavior.js'; import '../../elements/setting-elements/setting-dropdown/setting-dropdown.js'; import '../../elements/setting-elements/setting-toggle/setting-toggle.js'; import '../../elements/setting-elements/setting-slider/setting-slider.js'; import '../../elements/setting-elements/setting-link/setting-link.js'; import '../../elements/setting-elements/setting-background/setting-background.js'; import '../../elements/setting-elements/setting-time/setting-time.js'; import '../../elements/setting-elements/setting-text/setting-text.js'; import * as MyGA from '../../scripts/my_analytics.js'; import '../../scripts/screensaver/ss_events.js'; import '../../scripts/screensaver/ss_events.js'; import '../../scripts/screensaver/ss_history.js'; import '../../scripts/screensaver/ss_photo.js'; import '../../scripts/screensaver/ss_photo_finder.js'; import '../../scripts/screensaver/views/ss_view.js'; import '../../scripts/screensaver/views/ss_view_factory.js'; import '../../scripts/screensaver/views/ss_view_frame.js'; import '../../scripts/screensaver/views/ss_view_letterbox.js'; import '../../scripts/screensaver/views/ss_view_zoom.js'; import * as SSBuilder from '../../scripts/screensaver/ss_builder.js'; import * as SSRunner from '../../scripts/screensaver/ss_runner.js'; import * as SSTime from '../../scripts/screensaver/ss_time.js'; import * as SSPhotos from '../../scripts/screensaver/ss_photos.js'; import * as SSViews from '../../scripts/screensaver/ss_views.js'; import GoogleSource from '../../scripts/sources/photo_source_google.js'; import * as ChromeGA from '../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeLog from '../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import ChromeTime from '../../scripts/chrome-extension-utils/scripts/time.js'; import * as ChromeUtils from '../../scripts/chrome-extension-utils/scripts/utils.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for a screensaver * @module els/screensaver */ /** * Object to handle Google Photos load errors * @type {Object} * @typedef {Object} module:els/screensaver.Screensaver.ErrHandler * @property {int} MAX_COUNT - max times to call * @property {int} count - count of calls * @property {boolean} isUpdating - true if an event is handling an error * @property {int} TIME_LIMIT - throttle calls to this fast in case something * weird happens * @property {int} lastTime - last time called * @private */ let _errHandler = { MAX_COUNT: 168, // about a weeks worth, if all goes well count: 0, isUpdating: false, TIME_LIMIT: (5 * 60000), // five minutes in milli sec lastTime: 0, }; /** @type {Function} */ export let createPages = null; /** @type {Function} */ export let setSizingType = null; /** @type {Function} */ export let isNoPhotos = null; /** @type {Function} */ export let setNoPhotos = null; /** @type {Function} */ export let setTimeLabel = null; /** @type {Function} */ export let setPaused = null; /** * Polymer element to display a screensaver * @type {{}} * @alias module:els/screensaver.Screensaver * @PolymerElement */ const Screensaver = Polymer({ // language=HTML format=false _template: html`&lt;!--suppress CssUnresolvedCustomProperty --&gt; &lt;style include=\"iron-flex iron-flex-alignment iron-positioning\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; /* Added programmatically */ .fadeOut { animation: fadeOut 1s 2s; animation-fill-mode: both; } @keyframes fadeOut { from { opacity: 1.0; } to { opacity: 0.0; } } .vcr { position: fixed; width: 15vh; height: 15vh; left: 50%; top: 50%; transform: translate(-50%, -50%); opacity: 0.0; } .time { font-size: 5.25vh; font-weight: 200; position: fixed; right: 1vw; bottom: 3.5vh; padding: 0; margin: 0; color: white; opacity: 1.0; } .author { font-size: 2.5vh; font-weight: 300; position: fixed; overflow: hidden; right: 1vw; bottom: 1vh; padding: 0; margin: 0; color: white; opacity: 1.0; } .location { font-size: 2.5vh; font-weight: 300; position: fixed; overflow: hidden; left: 1vw; bottom: 1vh; padding: 0; margin: 0; color: white; opacity: 1.0; } .noPhotos { font-size: 5vh; font-weight: 600; position: fixed; left: 50%; top: 50%; transform: translate(-50%, -50%); color: rgba(48, 63, 159, 1); opacity: .8; } &lt;/style&gt; &lt;div id=\"mainContainer\" class=\"flex\" hidden$=\"[[noPhotos]]\"&gt; &lt;neon-animated-pages id=\"pages\" class=\"fit\" animate-initial-selection&gt; &lt;template is=\"dom-repeat\" id=\"repeatTemplate\" as=\"view\" items=\"[[_views]]\"&gt; &lt;slide-animatable ani-type=\"[[aniType]]\" class=\"fit\"&gt; &lt;section id=\"view[[index]]\"&gt; &lt;iron-image class=\"image\" src=\"[[view.url]]\" width=\"[[screenWidth]]\" height=\"[[screenHeight]]\" sizing=\"[[sizingType]]\" on-error-changed=\"_onErrorChanged\" preload&gt; &lt;/iron-image&gt; &lt;div class=\"time\"&gt;[[timeLabel]]&lt;/div&gt; &lt;div class=\"author\"&gt;[[view.authorLabel]]&lt;/div&gt; &lt;div class=\"location\"&gt;[[view.locationLabel]]&lt;/div&gt; &lt;/section&gt; &lt;/slide-animatable&gt; &lt;/template&gt; &lt;/neon-animated-pages&gt; &lt;/div&gt; &lt;div class=\"noPhotos\" hidden$=\"[[!noPhotos]]\"&gt;[[localize('no_photos')]]&lt;/div&gt; &lt;iron-image id=\"pauseImage\" class=\"vcr\" src=\"../images/pause.png\" sizing=\"contain\" preload hidden$=\"[[!paused]]\"&gt;&lt;/iron-image&gt; &lt;iron-image id=\"playImage\" class=\"vcr\" src=\"../images/play.png\" sizing=\"contain\" preload hidden$=\"[[paused]]\"&gt;&lt;/iron-image&gt; `, is: 'screensaver-element', behaviors: [ LocalizeBehavior, ], properties: { /** * Array of {@link module:ss/views/view.SSView} objects */ _views: { type: Array, value: [], }, /** * The way an image is rendered */ sizingType: { type: String, value: null, }, /** * Type for between photo animation */ aniType: { type: Number, value: 0, }, /** * Screen width in pixels * @const */ screenWidth: { type: Number, value: screen.width, readOnly: true, }, /** * Screen height in pixels * @const */ screenHeight: { type: Number, value: screen.height, readOnly: true, }, /** * Flag to indicate if slideshow is paused */ paused: { type: Boolean, value: false, observer: '_pausedChanged', }, /** * Flag to indicate if we have no valid photos */ noPhotos: { type: Boolean, value: false, }, /** * Label for current time */ timeLabel: { type: String, value: '', }, }, /** * Element is ready */ ready: function() { // set selected background image document.body.style.background = ChromeStorage.get('background', 'background:linear-gradient(to bottom, #3a3a3a, #b5bdc8)'). substring(11); // Initialize exports createPages = this.createPages.bind(this); setSizingType = this.setSizingType.bind(this); isNoPhotos = this.isNoPhotos.bind(this); setNoPhotos = this.setNoPhotos.bind(this); setTimeLabel = this.setTimeLabel.bind(this); setPaused = this.setPaused.bind(this); setTimeout(() =&gt; { MyGA.initialize(); ChromeGA.page('/screensaver.html'); this._setZoom(); this._setupPhotoTransitions(); // start screensaver this._launch(); }, 0); }, /** * Create the {@link module:ss/views.Views} that will be animated */ createPages: function() { SSViews.create(this); }, /** * Set the sizing type for the paper-image elements * @param {string} type The sizing type */ setSizingType: function(type) { this.set('sizingType', type); }, /** * Do we have usable photos * @returns {boolean} true if all photos are bad */ isNoPhotos: function() { return this.noPhotos; }, /** * Set the state when no photos are available */ setNoPhotos: function() { this.set('noPhotos', true); }, /** * Set the time label * @param {string} label - current time */ setTimeLabel: function(label) { this.set('timeLabel', label); }, /** * Set the state when slideshow is paused * @param {boolean} paused - paused state */ setPaused: function(paused) { this.set('paused', paused); }, /** * Process settings related to between photo transitions * @private */ _setupPhotoTransitions: function() { let type = ChromeStorage.getInt('photoTransition', 0); if (type === 8) { // pick random transition type = ChromeUtils.getRandomInt(0, 7); } this.set('aniType', type); SSTime.initialize(); }, /** * Set the window zoom factor to 1.0 * @private */ _setZoom: function() { if (ChromeUtils.getChromeVersion() &gt;= 42) { // override zoom factor to 1.0 - chrome 42 and later // noinspection JSUnresolvedFunction const chromep = new ChromePromise(); // noinspection JSUnresolvedFunction chromep.tabs.getZoom().then((zoomFactor) =&gt; { if ((zoomFactor &lt;= 0.99) || (zoomFactor &gt;= 1.01)) { // noinspection JSUnresolvedFunction chrome.tabs.setZoom(1.0); } return null; }).catch((err) =&gt; { ChromeLog.error(err.message, 'chromep.tabs.getZoom'); }); } }, /** * Launch the slide show * @param {int} [delay=1000] - delay in milli sec before start * @private */ _launch: async function(delay = 1000) { const hasPhotos = await SSBuilder.build(); if (hasPhotos) { // kick off the slide show if there are photos selected SSRunner.start(delay); } }, /** * Event: Error state changed for a photo view * @param {Event} ev - the event object * @param {Object} ev.model - template model */ _onErrorChanged: async function(ev) { const isError = ev.detail.value; if (_errHandler.isUpdating) { // another error event is already handling this return; } if (isError) { // url failed to load _errHandler.isUpdating = true; const model = ev.model; const index = model.index; const view = this._views[index]; const photo = view.photo; const type = photo.getType(); if ('Google User' === type) { // Google baseUrl may have expired, try to update some photos // TODO have to use cors to get status code // TODO so have to have permission from site // first, fetch again and check status - only handle 403 errors // const url = photo.getUrl(); // try { // const response = await fetch(url, { // method: 'get', // }); // const status = response.status; // console.log(status); // if (status !== 403) { // // some other problem, don't know how to fix it // _isUpdating = false; // return; // } // } catch (err) { // // some other problem, don't know how to fix it // console.log(err); // _isUpdating = false; // return; // } // throttle call rate to Google API per screensaver session // in case something weird happens if ((Date.now() - _errHandler.lastTime) &lt; _errHandler.TIME_LIMIT) { _errHandler.isUpdating = false; return; } // limit max number of calls to Google API per screensaver session // in case something weird happens _errHandler.count++; if (_errHandler.count &gt;= _errHandler.MAX_COUNT) { _errHandler.isUpdating = false; return; } // update last call time _errHandler.lastTime = Date.now(); // Calculate an hours worth of photos max const transTime = SSRunner.getWaitTime(); let nPhotos = Math.round(ChromeTime.MSEC_IN_HOUR / transTime); // do at least 50, still one rpc. will help when displaying // a lot for short times nPhotos = Math.max(nPhotos, 50); if (_errHandler.count === 1) { // limit to 50 on first call for quicker starts nPhotos = Math.min(nPhotos, 50); } else { // limit to 300 on subsequent calls nPhotos = Math.min(nPhotos, 300); } // get max of nPhotos Google Photo ids starting at this one const photos = SSPhotos.getNextGooglePhotos(nPhotos, photo.getId()); const ids = []; for (const photo of photos) { // unique ids only - required for batchGet call const id = photo.getEx().id; if (ids.indexOf(id) === -1) { ids.push(id); } } let newPhotos = []; try { // load the new photos from Google Photos newPhotos = await GoogleSource.loadPhotos(ids); } catch (err) { // major problem, give up for this session _errHandler.count = _errHandler.MAX_COUNT + 1; _errHandler.isUpdating = true; return; } // update the Google Photos baseUrls for this screensaver session SSPhotos.updateGooglePhotoUrls(newPhotos); // update any views with the new google photos for (let i = 0; i &lt; this._views.length; i++) { const view = this._views[i]; const photo = view.photo; const type = photo.getType(); if (type === 'Google User') { const index = newPhotos.findIndex((e) =&gt; { return e.ex.id === photo.getEx().id; }); if (index &gt;= 0) { view.setUrl(newPhotos[index].url); } } } // persist new baseUrls to albumSelections const updated = await GoogleSource.updateBaseUrls(newPhotos); if (!updated) { // major problem, give up for this session _errHandler.count = _errHandler.MAX_COUNT + 1; _errHandler.isUpdating = true; return; } _errHandler.isUpdating = false; } } }, /** * Observer: Paused state changed * @param {boolean} newValue - new value * @param {boolean} oldValue - old value * @private * @memberOf SlideAnimatable */ _pausedChanged: function(newValue, oldValue) { if (typeof oldValue === 'undefined') { return; } if (newValue) { this.$.pauseImage.classList.add('fadeOut'); this.$.playImage.classList.remove('fadeOut'); } else { this.$.playImage.classList.add('fadeOut'); this.$.pauseImage.classList.remove('fadeOut'); } }, }); export default Screensaver; Ã— Search results Close "},"setting-elements_setting-background_setting-background.js.html":{"id":"setting-elements_setting-background_setting-background.js.html","title":"Source: setting-elements/setting-background/setting-background.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: setting-elements/setting-background/setting-background.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/iron-selector/iron-selector.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-item/paper-item-body.js'; import '../../../node_modules/@polymer/paper-ripple/paper-ripple.js'; import '../../../node_modules/@polymer/paper-dialog/paper-dialog.js'; import '../../../node_modules/@polymer/paper-button/paper-button.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import { LocalizeBehavior } from '../localize-behavior/localize-behavior.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the SettingBackground * @module els/setting/background */ /** * Polymer element to select a background style * @type {{}} * @alias module:els/setting/background.SettingBackground * @PolymerElement */ const SettingBackground = Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } :host([disabled]) { pointer-events: none; } :host paper-item { display: block; position: relative; cursor: pointer; } :host([indent]) paper-item { padding-left: 24px; } :host .container { width: 440px; } :host .background { width: 200px; height: 112px; border: 2px solid white; } :host .iron-selected { border: 2px solid red; } :host .selected-background { width: 100px; height: 56px; } .selected-background[disabled] { opacity: .2; } &lt;/style&gt; &lt;paper-dialog id=\"dialog\" entry-animation=\"scale-up-animation\" exit-animation=\"fade-out-animation\"&gt; &lt;h2&gt;[[localize('setting_bg_dialog_title')]]&lt;/h2&gt; &lt;iron-selector class=\"container horizontal layout wrap\" attr-for-selected=\"id\" selected=\"{{selected}}\"&gt; &lt;div id=\"b1\" class=\"background\" style=\"background:linear-gradient(to bottom, #3A3A3A, #B5BDC8);\"&gt;&lt;/div&gt; &lt;div id=\"b2\" class=\"background\" style=\"background:linear-gradient(to bottom, #003973 10%, #E5E5BE 90%);\"&gt;&lt;/div&gt; &lt;div id=\"b3\" class=\"background\" style=\"background:linear-gradient(to top, #649173 10%, #DBD5A4 90%);\"&gt;&lt;/div&gt; &lt;div id=\"b4\" class=\"background\" style=\"background:radial-gradient(ellipse at center, #EBE9F9 0%, #EBE9F9 23%, #D8D0EF 50%, #CEC7EC 51%, #EBE9F9 77%, #C1BFEA 100%);\"&gt;&lt;/div&gt; &lt;div id=\"b5\" class=\"background\" style=\"background:radial-gradient(ellipse farthest-corner at 0px 0px , #FD5C6E 0%, rgba(0, 0, 255, 0) 50%, #0CE4E1 95%);\"&gt;&lt;/div&gt; &lt;div id=\"b6\" class=\"background\" style=\"background:black;\"&gt;&lt;/div&gt; &lt;/iron-selector&gt; &lt;div class=\"buttons\"&gt; &lt;paper-button dialog-dismiss=\"\"&gt;[[localize('cancel')]]&lt;/paper-button&gt; &lt;paper-button dialog-confirm=\"\" autofocus=\"\" on-tap=\"_onOK\"&gt; [[localize('ok')]] &lt;/paper-button&gt; &lt;/div&gt; &lt;/paper-dialog&gt; &lt;div class=\"section-title setting-label\" tabindex=\"-1\" hidden$=\"[[!sectionTitle]]\"&gt; [[sectionTitle]] &lt;/div&gt; &lt;paper-item class=\"center horizontal layout\" tabindex=\"-1\" on-tap=\"_onTap\"&gt; &lt;paper-item-body class=\"flex\" two-line=\"\"&gt; &lt;div class=\"setting-label\" hidden$=\"[[!mainLabel]]\"&gt; [[mainLabel]] &lt;/div&gt; &lt;div class=\"setting-label\" secondary=\"\" hidden$=\"[[!secondaryLabel]]\"&gt; [[secondaryLabel]] &lt;/div&gt; &lt;/paper-item-body&gt; &lt;div class=\"selected-background\" style$=\"[[value]]\" tabindex=\"0\" disabled$=\"[[disabled]]\"&gt;&lt;/div&gt; &lt;paper-ripple center=\"\"&gt;&lt;/paper-ripple&gt; &lt;/paper-item&gt; &lt;hr hidden$=\"[[noseparator]]\"&gt; &lt;app-localstorage-document key=\"[[name]]\" data=\"{{value}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; `, is: 'setting-background', behaviors: [ LocalizeBehavior, ], properties: { /** Local storage key */ name: { type: String, value: 'store', }, /** Optional group title */ sectionTitle: { type: String, value: '', }, /** Disabled state of element */ disabled: { type: Boolean, value: false, }, /** Visibility state of optional divider */ noseparator: { type: Boolean, value: false, }, /** Element id of currently selected background style */ selected: { type: String, value: 'b1', notify: true, }, /** Local storage value of currently selected background style */ value: { type: String, value: 'background:linear-gradient(to bottom, #3a3a3a, #b5bdc8)', notify: true, }, /** Item description */ mainLabel: { type: String, value: '', }, /** Item secondary description */ secondaryLabel: { type: String, value: '', }, }, /** * Event: Show dialog on tap * @private */ _onTap: function() { this.$.dialog.open(); }, /** * Event: Set selected background on tap of OK button * @private */ _onOK: function() { const el = this.shadowRoot.getElementById(this.selected); this.set('value', 'background:' + el.style.background); ChromeGA.event(ChromeGA.EVENT.BUTTON, `SettingBackground.OK: ${this.selected}`); }, }); export default SettingBackground; Ã— Search results Close "},"setting-elements_setting-dropdown_setting-dropdown.js.html":{"id":"setting-elements_setting-dropdown_setting-dropdown.js.html","title":"Source: setting-elements/setting-dropdown/setting-dropdown.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: setting-elements/setting-dropdown/setting-dropdown.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-listbox/paper-listbox.js'; import '../../../node_modules/@polymer/paper-dropdown-menu/paper-dropdown-menu.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the SettingDropdown * @module els/setting/dropdown */ /** * Polymer element to select an item from a list * @type {{}} * @alias module:els/setting/dropdown.SettingDropdown * @PolymerElement */ const SettingDropdown = Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; } :host([disabled]) { pointer-events: none; } :host &gt; paper-item { padding-top: 10px; padding-bottom: 10px; } :host paper-dropdown-menu { width: 175px; --paper-input-container-input: { text-align: right; }; } &lt;/style&gt; &lt;div class=\"section-title setting-label\" tabindex=\"-1\" hidden$=\"[[!sectionTitle]]\"&gt; [[sectionTitle]] &lt;/div&gt; &lt;paper-item class=\"center horizontal layout\" tabindex=\"-1\"&gt; &lt;div class=\"setting-label flex\"&gt;[[label]]&lt;/div&gt; &lt;paper-dropdown-menu disabled$=\"[[disabled]]\" noink=\"\" no-label-float=\"\"&gt; &lt;paper-listbox slot=\"dropdown-content\" on-tap=\"_onItemSelected\" selected=\"{{value}}\"&gt; &lt;template id=\"t\" is=\"dom-repeat\" items=\"[[items]]\"&gt; &lt;paper-item&gt;[[item]]&lt;/paper-item&gt; &lt;/template&gt; &lt;/paper-listbox&gt; &lt;/paper-dropdown-menu&gt; &lt;/paper-item&gt; &lt;hr hidden$=\"[[noseparator]]\"&gt; &lt;app-localstorage-document key=\"[[name]]\" data=\"{{value}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; `, is: 'setting-dropdown', properties: { /** Local storage key */ name: { type: String, value: 'store', }, /** Menu description */ label: { type: String, value: '', }, /** Selected menu item index */ value: { type: Number, value: 0, notify: true, }, /** Array of Menu item labels */ items: { type: Array, value: function() { return []; }, }, /** Optional group title */ sectionTitle: { type: String, value: '', }, /** Disabled state of element */ disabled: { type: Boolean, value: false, }, /** Visibility state of optional divider */ noseparator: { type: Boolean, value: false, }, }, /** * Event: menu item tapped * @param {Event} ev - tap event * @private */ _onItemSelected: function(ev) { const model = this.$.t.modelForElement(ev.target); if (model) { ChromeGA.event(ChromeGA.EVENT.MENU, `${this.name}: ${model.index}`); } }, }); export default SettingDropdown; Ã— Search results Close "},"setting-elements_setting-link_setting-link.js.html":{"id":"setting-elements_setting-link_setting-link.js.html","title":"Source: setting-elements/setting-link/setting-link.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: setting-elements/setting-link/setting-link.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/iron-icon/iron-icon.js'; import '../../../node_modules/@polymer/paper-ripple/paper-ripple.js'; import '../../../node_modules/@polymer/paper-item/paper-icon-item.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the SettingLink * @module els/setting/link */ /** * Polymer element for a url link * @type {{}} * @alias module:els/setting/link.SettingLink * @PolymerElement */ const SettingLink = Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } :host([disabled]) { pointer-events: none; } :host paper-icon-item { --paper-item-focused-before: { background: transparent; }; --paper-item-selected: { background: transparent; }; --paper-item-icon-width: 32px; padding-left: 48px; padding-top: 4px; padding-bottom: 4px; cursor: pointer; } .divider { margin-left: 48px; margin-right: 0; } &lt;/style&gt; &lt;div class=\"section-title setting-label\" tabindex=\"-1\" hidden$=\"[[!sectionTitle]]\"&gt; [[sectionTitle]] &lt;/div&gt; &lt;paper-icon-item on-tap=\"_onLinkTapped\" class=\"flex\"&gt; &lt;paper-ripple center=\"\"&gt;&lt;/paper-ripple&gt; &lt;iron-icon class=\"setting-link-icon\" icon=\"[[icon]]\" slot=\"item-icon\"&gt;&lt;/iron-icon&gt; &lt;span class=\"setting-label\"&gt;[[label]]&lt;/span&gt; &lt;/paper-icon-item&gt; &lt;hr class=\"divider\" hidden$=\"[[noseparator]]\"&gt; `, is: 'setting-link', properties: { /** Element name */ name: { type: String, value: 'unknown', }, /** Description */ label: { type: String, value: '', }, /** Icon */ icon: { type: String, value: '', }, /** Link url @memberOf SettingLink */ url: { type: String, value: '', }, /** Optional group title */ sectionTitle: { type: String, value: '', }, /** Disabled state of element */ disabled: { type: Boolean, value: false, }, /** Visibility state of optional divider */ noseparator: { type: Boolean, value: false, }, }, /** * Event: Item tapped - show url in new tab * @private */ _onLinkTapped: function() { ChromeGA.event(ChromeGA.EVENT.LINK, this.name); // noinspection JSUnresolvedVariable chrome.tabs.create({ url: this.url }); }, }); export default SettingLink; Ã— Search results Close "},"setting-elements_localize-behavior_localize-behavior.js.html":{"id":"setting-elements_localize-behavior_localize-behavior.js.html","title":"Source: setting-elements/localize-behavior/localize-behavior.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: setting-elements/localize-behavior/localize-behavior.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import * as ChromeLocale from '../../../scripts/chrome-extension-utils/scripts/locales.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the LocalizeBehavior * @module els/setting/localize_behavior */ /** * Polymer behavior for internationalizing strings * @type {{}} * @alias module:els/setting/localize_behavior.LocalizeBehavior * @polymerBehavior LocalizeBehavior */ export const LocalizeBehavior = { properties: { /** Get an internationalized string */ localize: { type: Function, value: function() { return function() { const messageName = arguments[0]; const def = arguments[1]; return ChromeLocale.localize(messageName, def); }; }, }, }, }; Ã— Search results Close "},"setting-elements_setting-slider_setting-slider.js.html":{"id":"setting-elements_setting-slider_setting-slider.js.html","title":"Source: setting-elements/setting-slider/setting-slider.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: setting-elements/setting-slider/setting-slider.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/paper-slider/paper-slider.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-listbox/paper-listbox.js'; import '../../../node_modules/@polymer/paper-dropdown-menu/paper-dropdown-menu.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for a SettingSlider * @module els/setting/slider */ /** * A unit type * @typedef {{}} module:els/setting/slider.UnitType * @property {string} name - descriptive name * @property {int} min - min value * @property {int} max - max value * @property {int} step - increment of changes * @property {number} mult - multiplier of a base */ /** * A number and associated units * @typedef {{}} module:els/setting/slider.UnitValue * @property {number} base - value in base unit * @property {number} display - value in display unit * @property {int} unit - display unit */ /** * Polymer element for a url link * @type {{}} * @alias module:els/setting/slider.SettingSlider * @PolymerElement */ const SettingSlider = Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; } :host([disabled]) { pointer-events: none; } #label { margin: 20px 0 0 0; --paper-item-min-height: { min-height: 0; }; } :host paper-slider { position: relative; margin: 0; padding-right: 16px; padding-left: 5px; cursor: pointer; } :host &gt; paper-item { padding-top: 10px; padding-bottom: 10px; } :host paper-dropdown-menu { width: 175px; padding-right: 16px; --paper-input-container-input: { text-align: right; }; } &lt;/style&gt; &lt;div class=\"section-title setting-label\" tabindex=\"-1\" hidden$=\"[[!sectionTitle]]\"&gt; [[sectionTitle]] &lt;/div&gt; &lt;div&gt; &lt;paper-item id=\"label\" class=\"setting-label\" tabindex=\"-1\"&gt; [[label]] &lt;/paper-item&gt; &lt;div class=\"horizontal layout\"&gt; &lt;paper-slider class=\"flex\" editable=\"\" value=\"{{value.display}}\" min=\"{{unit.min}}\" max=\"{{unit.max}}\" step=\"{{unit.step}}\" disabled$=\"[[disabled]]\" on-change=\"_onSliderValueChanged\"&gt;&lt;/paper-slider&gt; &lt;paper-dropdown-menu disabled$=\"[[disabled]]\" noink=\"\" no-label-float=\"\"&gt; &lt;paper-listbox id=\"list\" slot=\"dropdown-content\" selected=\"{{unitIdx}}\" on-tap=\"_onUnitMenuSelected\"&gt; &lt;template id=\"t\" is=\"dom-repeat\" as=\"unit\" items=\"[[units]]\"&gt; &lt;paper-item&gt;[[unit.name]]&lt;/paper-item&gt; &lt;/template&gt; &lt;/paper-listbox&gt; &lt;/paper-dropdown-menu&gt; &lt;/div&gt; &lt;/div&gt; &lt;hr hidden$=\"[[noseparator]]\"&gt; &lt;app-localstorage-document key=\"[[name]]\" data=\"{{value}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; `, is: 'setting-slider', properties: { /** Element name */ name: { type: String, value: 'unknown', }, /** * Description */ label: { type: String, value: '', }, /** @link {module:els/setting/slider.SettingSlider.UnitValue} */ value: { type: Object, notify: true, value: function() { return {'base': 10, 'display': 10, 'unit': 0}; }, observer: '_valueChanged', }, /** @link {module:els/setting/slider.SettingSlider.UnitType} */ unit: { type: Object, notify: true, value: function() { return {'name': 'unknown', 'min': 1, 'max': 10, 'step': 1, 'mult': 1}; }, }, /** Current unit array index */ unitIdx: { type: Number, notify: true, value: 0, observer: '_unitIdxChanged', }, /** Array of {@link module:els/setting/slider.SettingSlider.UnitType} */ units: { type: Array, value: function() { return []; }, }, /** Optional group title */ sectionTitle: { type: String, value: '', }, /** Disabled state of element */ disabled: { type: Boolean, value: false, }, /** Visibility state of optional divider */ noseparator: { type: Boolean, value: false, }, }, /** * Element is ready */ ready: function() { setTimeout(() =&gt; { this.$.list.selected = this.value.unit; }, 0); }, /** * Observer: Unit changed * @param {number} newValue * @private */ _unitIdxChanged: function(newValue) { if (newValue !== undefined) { this.set('value.unit', newValue); this._setBase(); if (this.units !== undefined) { this.set('unit', this.units[newValue]); } } }, /** * Observer: Value changed * @param {number} newValue * @param {number} oldValue * @param {number} newValue.unit * @param {number} oldValue.unit * @private */ _valueChanged: function(newValue, oldValue) { if (newValue !== undefined) { if (oldValue !== undefined) { if (newValue.unit !== oldValue.unit) { this.$.list.selected = newValue.unit; } } } }, /** * Event: User changed slider value * @private */ _onSliderValueChanged: function() { this._setBase(); const label = `${this.name}: ${JSON.stringify(this.value)}`; ChromeGA.event(ChromeGA.EVENT.SLIDER_VALUE, label); }, /** * Event: unit menu item tapped * @param {Event} ev - tap event * @private */ _onUnitMenuSelected: function(ev) { const model = this.$.t.modelForElement(ev.target); if (model) { const label = `${this.name}: ${JSON.stringify(model.unit)}`; ChromeGA.event(ChromeGA.EVENT.SLIDER_UNITS, label); } }, /** * Set the base value * @private */ _setBase: function() { this.set('value.base', this.units[this.unitIdx].mult * this.value.display); }, }); export default SettingSlider; Ã— Search results Close "},"setting-elements_setting-text_setting-text.js.html":{"id":"setting-elements_setting-text_setting-text.js.html","title":"Source: setting-elements/setting-text/setting-text.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: setting-elements/setting-text/setting-text.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-item/paper-item-body.js'; import '../../../node_modules/@polymer/paper-input/paper-input.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the SettingText * @module els/setting/text */ /** * Polymer element for text entry * @type {{}} * @alias module:els/setting/text.SettingText * @PolymerElement */ const SettingText = Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } :host([disabled]) { pointer-events: none; } :host([indent]) paper-item { padding-left: 24px; } :host paper-input { width: 175px; --paper-input-container-input: { text-align: right; }; } &lt;/style&gt; &lt;div class=\"section-title setting-label\" tabindex=\"-1\" hidden$=\"[[!sectionTitle]]\"&gt; [[sectionTitle]] &lt;/div&gt; &lt;paper-item class=\"center horizontal layout\" tabindex=\"-1\"&gt; &lt;paper-item-body class=\"flex\" two-line=\"\"&gt; &lt;div class=\"setting-label\" hidden$=\"[[!mainLabel]]\"&gt; [[mainLabel]] &lt;/div&gt; &lt;div class=\"setting-label\" secondary=\"\" hidden$=\"[[!secondaryLabel]]\"&gt; [[secondaryLabel]] &lt;/div&gt; &lt;/paper-item-body&gt; &lt;paper-input id=\"text\" value=\"{{value}}\" minlength=\"1\" maxlength=\"[[maxLength]]\" placeholder=\"[[placeholder]]\" tabindex=\"0\" disabled$=\"[[disabled]]\" on-blur=\"_onBlur\" on-keyup=\"_onKeyUp\"&gt;&lt;/paper-input&gt; &lt;/paper-item&gt; &lt;hr hidden$=\"[[noseparator]]\"&gt; &lt;app-localstorage-document key=\"[[name]]\" data=\"{{value}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; `, is: 'setting-text', hostAttributes: { role: 'group', tabIndex: -1, }, properties: { /** Local storage key */ name: { type: String, value: 'store', }, /** Text value */ value: { type: String, value: '', notify: true, }, /** Placeholder text when empty */ placeholder: { type: String, value: 'e.g. Text', notify: true, }, /** Max length of text entry */ maxLength: { type: Number, value: '16', notify: true, }, /** Descriptive label */ mainLabel: { type: String, value: '', }, /** Secondary descriptive label */ secondaryLabel: { type: String, value: '', }, /** Optional group title */ sectionTitle: { type: String, value: '', }, /** Disabled state of element */ disabled: { type: Boolean, value: false, }, /** Visibility state of optional divider */ noseparator: { type: Boolean, value: false, }, }, /** * Event: Lost focus - fire setting-text-changed event * @private */ _onBlur: function() { ChromeGA.event(ChromeGA.EVENT.TEXT, this.name); this.fire('setting-text-changed', {value: this.value}); }, /** * Event: keyup - fire setting-text-changed event on 'Enter' * @param {Event} event - key event * @param {int} event.keyCode - key code * @private */ _onKeyUp: function(event) { // check if 'Enter' was pressed if (event.keyCode === 13) { ChromeGA.event(ChromeGA.EVENT.TEXT, this.name); this.fire('setting-text-changed', {value: this.value}); } }, }); export default SettingText; Ã— Search results Close "},"setting-elements_setting-time_setting-time.js.html":{"id":"setting-elements_setting-time_setting-time.js.html","title":"Source: setting-elements/setting-time/setting-time.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: setting-elements/setting-time/setting-time.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/paper-input/paper-input.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-item/paper-item-body.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import {LocalizeBehavior} from '../../../elements/setting-elements/localize-behavior/localize-behavior.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the SettingTime * @module els/setting/time */ /** * Polymer element for time entry * @type {{}} * @alias module:els/setting/time.SettingTime * @PolymerElement */ const SettingTime = Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } :host([disabled]) { pointer-events: none; } :host paper-item { display: block; position: relative; cursor: pointer; } :host([indent]) paper-item { padding-left: 24px; } &lt;/style&gt; &lt;div class=\"section-title setting-label\" tabindex=\"-1\" hidden$=\"[[!sectionTitle]]\"&gt; [[sectionTitle]] &lt;/div&gt; &lt;paper-item class=\"center horizontal layout\" tabindex=\"-1\"&gt; &lt;paper-item-body class=\"flex\" two-line=\"\"&gt; &lt;div class=\"setting-label\" hidden$=\"[[!mainLabel]]\"&gt; [[mainLabel]] &lt;/div&gt; &lt;div class=\"setting-label\" secondary=\"\" hidden$=\"[[!secondaryLabel]]\"&gt; [[secondaryLabel]] &lt;/div&gt; &lt;/paper-item-body&gt; &lt;paper-input type=\"time\" min=\"0:00\" max=\"24:00\" required class=\"setting-label\" tabindex=\"-1\" value={{value}} disabled$=\"[[disabled]]\"&gt;&lt;/paper-input&gt; &lt;/paper-item&gt; &lt;hr hidden$=\"[[noseparator]]\"&gt; &lt;app-localstorage-document key=\"[[name]]\" data=\"{{value}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; `, is: 'setting-time', behaviors: [ LocalizeBehavior, ], properties: { /** Local storage key */ name: { type: String, value: 'store', }, /** Time value '00:00' 24 hr format */ value: { type: String, value: '00:00', }, /** Descriptive label */ mainLabel: { type: String, value: '', }, /** Secondary descriptive label */ secondaryLabel: { type: String, value: '', }, /** Optional group title */ sectionTitle: { type: String, value: '', }, /** Disabled state of element */ disabled: { type: Boolean, value: false, }, /** Visibility state of optional divider */ noseparator: { type: Boolean, value: false, }, }, }); export default SettingTime; Ã— Search results Close "},"setting-elements_setting-toggle_setting-toggle.js.html":{"id":"setting-elements_setting-toggle_setting-toggle.js.html","title":"Source: setting-elements/setting-toggle/setting-toggle.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: setting-elements/setting-toggle/setting-toggle.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../../node_modules/@polymer/paper-styles/typography.js'; import '../../../node_modules/@polymer/paper-styles/color.js'; import '../../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../../node_modules/@polymer/iron-label/iron-label.js'; import '../../../node_modules/@polymer/paper-item/paper-item.js'; import '../../../node_modules/@polymer/paper-item/paper-item-body.js'; import '../../../node_modules/@polymer/paper-ripple/paper-ripple.js'; import '../../../node_modules/@polymer/paper-toggle-button/paper-toggle-button.js'; import '../../../node_modules/@polymer/app-storage/app-localstorage/app-localstorage-document.js'; import * as ChromeGA from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the SettingToggle * @module els/setting/toggle */ /** * Polymer element for a toggle button * @type {{}} * @alias module:els/setting/toggle.SettingToggle * @PolymerElement */ const SettingToggle = Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } :host([disabled]) { pointer-events: none; } :host iron-label { display: block; position: relative; cursor: pointer; } :host([indent]) paper-item { padding-left: 24px; } &lt;/style&gt; &lt;div class=\"section-title setting-label\" tabindex=\"-1\" hidden$=\"[[!sectionTitle]]\"&gt; [[sectionTitle]] &lt;/div&gt; &lt;iron-label for=\"toggle\"&gt; &lt;paper-item class=\"center horizontal layout\" tabindex=\"-1\"&gt; &lt;paper-item-body class=\"flex\" two-line=\"\"&gt; &lt;div class=\"setting-label\" hidden$=\"[[!mainLabel]]\"&gt; [[mainLabel]] &lt;/div&gt; &lt;div class=\"setting-label\" secondary=\"\" hidden$=\"[[!secondaryLabel]]\"&gt; [[secondaryLabel]] &lt;/div&gt; &lt;paper-ripple center=\"\"&gt;&lt;/paper-ripple&gt; &lt;/paper-item-body&gt; &lt;paper-toggle-button id=\"toggle\" class=\"setting-toggle-button\" checked=\"{{checked}}\" on-change=\"_onChange\" disabled$=\"[[disabled]]\"&gt; &lt;/paper-toggle-button&gt; &lt;/paper-item&gt; &lt;/iron-label&gt; &lt;hr hidden$=\"[[noseparator]]\"&gt; &lt;app-localstorage-document key=\"[[name]]\" data=\"{{checked}}\" storage=\"window.localStorage\"&gt; &lt;/app-localstorage-document&gt; `, is: 'setting-toggle', properties: { /** Local storage key */ name: { type: String, value: 'store', }, /** Toggle checked state */ checked: { type: Boolean, value: false, notify: true, }, /** Descriptive label */ mainLabel: { type: String, value: '', }, /** Secondary descriptive label */ secondaryLabel: { type: String, value: '', }, /** Optional group title */ sectionTitle: { type: String, value: '', }, /** Disabled state of element */ disabled: { type: Boolean, value: false, }, /** Visibility state of optional divider */ noseparator: { type: Boolean, value: false, }, }, /** * Set the checked state of the toggle * @param {boolean} checked - checked state */ setChecked: function(checked) { this.set('checked', checked); ChromeGA.event(ChromeGA.EVENT.TOGGLE, `${this.name}: ${this.checked}`); }, /** * Event: checked state changed * @private */ _onChange: function() { ChromeGA.event(ChromeGA.EVENT.TOGGLE, `${this.name}: ${this.checked}`); }, }); export default SettingToggle; Ã— Search results Close "},"shared-styles.js.html":{"id":"shared-styles.js.html","title":"Source: shared-styles.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: shared-styles.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../node_modules/@polymer/polymer/polymer-element.js'; /** * Module for the shared styles * @module els/shared_styles */ // eslint-disable-next-line camelcase const $_documentContainer = document.createElement('template'); // language=HTML format=false $_documentContainer.innerHTML = `&lt;!--suppress CssUnresolvedCustomPropertySet --&gt; &lt;dom-module id=\"shared-styles\"&gt; &lt;template&gt; &lt;style&gt; .page-title { @apply --paper-font-display2; } @media (max-width: 600px) { .page-title { font-size: 24px !important; } } /* see https://github.com/Polymer/polymer/issues/3711#issuecomment-226361758*/ [hidden] { display: none !important; } /* Scrollbars */ ::-webkit-scrollbar { background: transparent; width: 8px; } ::-webkit-scrollbar-button { background: transparent; height: 0; } ::-webkit-scrollbar-thumb { background: rgba(48, 63, 159, 1); -webkit-border-radius: 8px; border-radius: 4px; cursor: pointer; } .page-toolbar { /*@apply --paper-font-title;*/ background-color: var(--primary-color); margin-bottom: 8px; } .page-container { max-width: 700px; height: 100%; margin-bottom: 16px; } .page-content { margin-top: 16px; margin-bottom: 16px; } app-toolbar { color: var(--text-primary-color); background-color: var(--primary-color); } paper-material { border-radius: 2px; background: white; padding: 0; } paper-dialog { min-width: 25vw; max-width: 50vw; } paper-toggle-button { cursor: pointer; } paper-button { margin-top: 8px; margin-bottom: 16px; @apply --layout-center; @apply --layout-horizontal; } paper-button[raised] { background: #FAFAFA; } paper-button iron-icon { margin-right: 8px; } app-toolbar paper-toggle-button { padding-left: 8px; --paper-toggle-button-checked-button-color: white; --paper-toggle-button-checked-bar-color: white; } paper-dropdown-menu { --paper-dropdown-menu: { cursor: pointer; }; } .setting-toggle-button { --paper-toggle-button-checked-button-color: var(--setting-item-color); --paper-toggle-button-checked-bar-color: var(--setting-item-color); } .button-a { text-decoration: none; color: var(--menu-link-color); display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-direction: row; flex-direction: row; -webkit-align-items: center; align-items: center; -webkit-font-smoothing: antialiased; text-rendering: optimizeLegibility; margin-right: 8px; } .setting-label { white-space: normal; word-wrap: break-word; overflow: hidden; } :host([disabled]) .setting-label { color: var(--disabled-text-color); } .section-title { color: var(--setting-item-color); font-size: 14px; font-weight: 500; margin: 16px 0 8px 16px; } .setting-link-icon { color: var(--setting-item-color); } hr { margin: 0 8px; border: none; border-top: 1px #CCCCCC solid; } &lt;/style&gt; &lt;/template&gt; &lt;/dom-module&gt;`; document.head.appendChild($_documentContainer.content); Ã— Search results Close "},"slide-animatable_slide-animatable.js.html":{"id":"slide-animatable_slide-animatable.js.html","title":"Source: slide-animatable/slide-animatable.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: slide-animatable/slide-animatable.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import {NeonAnimatableBehavior} from '../../node_modules/@polymer/neon-animation/neon-animatable-behavior.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the SlideAnimatable * @module els/slide_animatable */ /** * Polymer element to provide an animatable slide * @type {{}} * @alias module:els/slide_animatable.SlideAnimatable * @PolymerElement */ const SlideAnimatable = Polymer({ // language=HTML format=false _template: html`&lt;style&gt; :host { display: block; } &lt;/style&gt; &lt;slot&gt;&lt;/slot&gt; `, is: 'slide-animatable', behaviors: [ NeonAnimatableBehavior, ], properties: { /** Configuration of the current animation */ animationConfig: { type: Object, value: function() { return { 'entry': { name: 'fade-in-animation', node: this, timing: { duration: 2000, easing: 'cubic-bezier(0.455, 0.03, 0.515, 0.955)', }, }, 'exit': { name: 'fade-out-animation', node: this, timing: { duration: 2000, easing: 'cubic-bezier(0.455, 0.03, 0.515, 0.955)', }, }, }; }, }, /** Index of animation to use */ aniType: { type: Number, observer: '_aniChanged', }, }, /** * Observer: Animation type changed * @param {int} newValue - new animation type * @private */ _aniChanged: function(newValue) { let entry; let exit; let dur = 2000; switch (newValue) { case 0: entry = 'scale-up-animation'; exit = 'scale-down-animation'; break; case 1: entry = 'fade-in-animation'; exit = 'fade-out-animation'; break; case 2: entry = 'slide-from-right-animation'; exit = 'slide-left-animation'; break; case 3: entry = 'slide-from-top-animation'; exit = 'slide-up-animation'; break; case 4: entry = 'spin-up-animation'; exit = 'spin-down-animation'; dur = 3000; break; case 5: entry = 'slide-from-bottom-animation'; exit = 'slide-down-animation'; break; case 6: entry = 'slide-from-bottom-animation'; exit = 'slide-up-animation'; break; case 7: entry = 'slide-from-left-animation'; exit = 'slide-left-animation'; break; default: entry = 'fade-in-animation'; exit = 'fade-out-animation'; break; } this.animationConfig.entry.name = entry; this.animationConfig.entry.timing.duration = dur; this.animationConfig.exit.name = exit; this.animationConfig.exit.timing.duration = dur; }, }); export default SlideAnimatable; Ã— Search results Close "},"animations_spin-down-animation_spin-down-animation.js.html":{"id":"animations_spin-down-animation_spin-down-animation.js.html","title":"Source: animations/spin-down-animation/spin-down-animation.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: animations/spin-down-animation/spin-down-animation.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {NeonAnimationBehavior} from '../../../node_modules/@polymer/neon-animation/neon-animation-behavior.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /* &lt;spin-down-animation&gt; animates the scale transform of an element from 1 to 0 and the rotate from 1 turn to 0 Configuration: { name: 'spin-down-animation', node: &lt;node&gt;, transformOrigin: &lt;transform-origin&gt;, timing: &lt;animation-timing&gt; } */ /** * Module for the SpinDownAnimation * @module els/spin_down_animation */ /** * Polymer element to provide a spin down animation * @type {{}} * @alias module:els/spin_down_animation.SpinDownAnimation * @PolymerElement */ const SpinDownAnimation = Polymer({ is: 'spin-down-animation', behaviors: [ NeonAnimationBehavior, ], /** * Configure the animation * @param {Object} config - configuration object * @returns {KeyframeEffect} new key frame effect */ configure: function(config) { const node = config.node; if (config.transformOrigin) { this.setPrefixedProperty(node, 'transformOrigin', config.transformOrigin); } this._effect = new KeyframeEffect(node, [ {'transform': 'scale(1) rotate(1.0turn)'}, {'transform': 'scale(0) rotate(0)'}, ], this.timingFromConfig(config)); return this._effect; }, }); export default SpinDownAnimation; Ã— Search results Close "},"animations_spin-up-animation_spin-up-animation.js.html":{"id":"animations_spin-up-animation_spin-up-animation.js.html","title":"Source: animations/spin-up-animation/spin-up-animation.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: animations/spin-up-animation/spin-up-animation.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {NeonAnimationBehavior} from '../../../node_modules/@polymer/neon-animation/neon-animation-behavior.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /* `&lt;spin-up-animation&gt;` animates the scale transform of an element from 0 to 1 and the rotate from 0 to 1 turn Configuration: ``` { name: 'spin-up-animation', node: &lt;node&gt;, transformOrigin: &lt;transform-origin&gt;, timing: &lt;animation-timing&gt; } ``` */ /** * Module for the SpinUpAnimation * @module els/spin_up_animation */ /** * Polymer element to provide a spin up animation * @type {{}} * @alias module:els/spin_up_animation.SpinUpAnimation * @PolymerElement */ const SpinUpAnimation = Polymer({ is: 'spin-up-animation', behaviors: [ NeonAnimationBehavior, ], /** * Configure the animation * @param {Object} config - configuration object * @returns {KeyframeEffect} new key frame effect */ configure: function(config) { const node = config.node; if (config.transformOrigin) { this.setPrefixedProperty(node, 'transformOrigin', config.transformOrigin); } this._effect = new KeyframeEffect(node, [ {'transform': 'scale(0) rotate(0)'}, {'transform': 'scale(1) rotate(1.0turn)'}, ], this.timingFromConfig(config)); return this._effect; }, }); export default SpinUpAnimation; Ã— Search results Close "},"waiter-element_waiter-element.js.html":{"id":"waiter-element_waiter-element.js.html","title":"Source: waiter-element/waiter-element.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: waiter-element/waiter-element.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../node_modules/@polymer/polymer/polymer-legacy.js'; import {Polymer} from '../../node_modules/@polymer/polymer/lib/legacy/polymer-fn.js'; import {html} from '../../node_modules/@polymer/polymer/lib/utils/html-tag.js'; import '../../node_modules/@polymer/iron-flex-layout/iron-flex-layout-classes.js'; import '../../node_modules/@polymer/paper-styles/typography.js'; import '../../node_modules/@polymer/paper-styles/color.js'; import '../../node_modules/@polymer/paper-item/paper-item.js'; import '../../node_modules/@polymer/paper-spinner/paper-spinner.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Module for the Waiter Element * @module els/waiter_element */ /** * Polymer element to display waiter for lengthy operations * @type {{}} * @alias module:els/waiter_element.WaiterElement * @PolymerElement */ const WaiterElement = Polymer({ // language=HTML format=false _template: html`&lt;style include=\"iron-flex iron-flex-alignment\"&gt;&lt;/style&gt; &lt;style include=\"shared-styles\"&gt;&lt;/style&gt; &lt;style&gt; :host { display: block; position: relative; } :host .waiter { margin: 40px auto; } /*noinspection CssUnresolvedCustomPropertySet*/ :host .waiter paper-item { @apply --paper-font-title; } :host #statusLabel { text-align: center; } &lt;/style&gt; &lt;div class=\"waiter vertical layout center\" hidden$=\"[[!active]]\"&gt; &lt;div class=\"horizontal center-justified layout\"&gt; &lt;paper-spinner active=\"[[active]]\" tabindex=\"-1\"&gt;&lt;/paper-spinner&gt; &lt;/div&gt; &lt;paper-item&gt;[[label]]&lt;/paper-item&gt; &lt;paper-item id=\"statusLabel\"&gt;&lt;/paper-item&gt; &lt;/div&gt; `, is: 'waiter-element', properties: { /** Visible and active state */ active: { type: Boolean, value: false, notify: true, }, /** Label to display */ label: { type: String, value: 'Working...', notify: true, }, /** Status Label to display */ statusLabel: { type: String, value: '', observer: '_statusLabelChanged', }, }, /** * Observer: Set status label * @param {string} label - label * @private */ _statusLabelChanged: function(label) { if (label !== undefined) { this.$.statusLabel.innerHTML = label.replace(/\\n/g, '&lt;br/&gt;'); } }, }); export default WaiterElement; Ã— Search results Close "},"my_msg.js.html":{"id":"my_msg.js.html","title":"Source: my_msg.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: my_msg.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Wrapper for chrome messages specific to this app * @see https://developer.chrome.com/extensions/messaging * @module msg */ /** * Chrome Messages for this app * @type {{}} * @property {module:chrome/msg.Message} SS_SHOW - show screensaver * @property {module:chrome/msg.Message} SS_CLOSE - close screensaver * @property {module:chrome/msg.Message} SS_IS_SHOWING - is a screensaver showing * @property {module:chrome/msg.Message} PHOTO_SOURCE_FAILED - failed to web load * @property {module:chrome/msg.Message} LOAD_FILTERED_PHOTOS - request to load * the filtered google photos * @property {module:chrome/msg.Message} FILTERED_PHOTOS_COUNT - number of photos * @property {module:chrome/msg.Message} LOAD_ALBUMS - request to load contents * of the saved albums * @property {module:chrome/msg.Message} LOAD_ALBUM - request to load * the contents of a google photos album * @property {module:chrome/msg.Message} ALBUM_PHOTOS_COUNT - number of photos * loaded so far * @const */ const _MSG = { SS_SHOW: { message: 'showScreensaver', }, SS_CLOSE: { message: 'closeScreensaver', }, SS_IS_SHOWING: { message: 'isScreensaverShowing', }, PHOTO_SOURCE_FAILED: { message: 'photoSourceFailed', key: '', error: '', }, LOAD_FILTERED_PHOTOS: { message: 'loadFilteredPhotos', }, FILTERED_PHOTOS_COUNT: { message: 'filteredPhotosCount', count: 0, }, LOAD_ALBUMS: { message: 'loadAlbums', }, LOAD_ALBUM: { message: 'loadAlbum', }, ALBUM_COUNT: { message: 'albumCount', count: 0, }, }; export const SS_SHOW = _MSG.SS_SHOW; export const SS_CLOSE = _MSG.SS_CLOSE; export const SS_IS_SHOWING = _MSG.SS_IS_SHOWING; export const PHOTO_SOURCE_FAILED = _MSG.PHOTO_SOURCE_FAILED; export const LOAD_FILTERED_PHOTOS = _MSG.LOAD_FILTERED_PHOTOS; export const FILTERED_PHOTOS_COUNT = _MSG.FILTERED_PHOTOS_COUNT; export const LOAD_ALBUMS = _MSG.LOAD_ALBUMS; export const LOAD_ALBUM = _MSG.LOAD_ALBUM; export const ALBUM_COUNT = _MSG.ALBUM_COUNT; Ã— Search results Close "},"permissions.js.html":{"id":"permissions.js.html","title":"Source: permissions.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: permissions.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeAuth from '../scripts/chrome-extension-utils/scripts/auth.js'; import * as ChromeJSON from '../scripts/chrome-extension-utils/scripts/json.js'; import * as ChromeMsg from '../scripts/chrome-extension-utils/scripts/msg.js'; import * as ChromeStorage from '../scripts/chrome-extension-utils/scripts/storage.js'; import '../scripts/chrome-extension-utils/scripts/ex_handler.js'; // noinspection JSUnresolvedFunction /** * Handle optional permissions * @module permissions */ const chromep = new ChromePromise(); /** * A permission state enum * @typedef {{}} module:permissions.State * @property {string} notSet - never been allowed or denied * @property {string} allowed - user allowed * @property {string} denied - user denied */ /** * A permission type * @typedef {{}} module:permissions.Type * @property {string} name - name in localStorage * @property {string[]} permissions - array of permissions * @property {string[]} origins - array of origins */ /** * Possible states of an {@link module:permissions.Type} * @type {module:permissions.State} * @const * @private */ const _STATE = { notSet: 'notSet', allowed: 'allowed', denied: 'denied', }; /** * Permission for access to users' Google Photos * @const * @type {module:permissions.Type} */ export const PICASA = { name: 'permPicasa', permissions: [], origins: ['https://photoslibrary.googleapis.com/'], }; /** * Permission for running in background * @const * @type {module:permissions.Type} */ export const BACKGROUND = { name: 'permBackground', permissions: ['background'], origins: [], }; /** * Has user mot made a choice on permission * @param {module:permissions.Type} type - permission type * @returns {boolean} true if notSet */ export function notSet(type) { return ChromeStorage.get(type.name) === _STATE.notSet; } /** * Has the user allowed the optional permissions * @param {module:permissions.Type} type - permission type * @returns {boolean} true if allowed */ export function isAllowed(type) { return ChromeStorage.get(type.name) === _STATE.allowed; } /** * Has the user explicitly denied the permission * @param {module:permissions.Type} type - permission type * @returns {boolean} true if allowed */ export function isDenied(type) { return ChromeStorage.get(type.name) === _STATE.denied; } /** * Request optional permission - may block * @param {module:permissions.Type} type - permission type * @returns {Promise&lt;boolean&gt;} true if permission granted */ export async function request(type) { const granted = await chromep.permissions.request({ permissions: type.permissions, origins: type.origins, }); if (granted) { _setState(type, _STATE.allowed); } else { _setState(type, _STATE.denied); try { // try to remove if it has been previously granted await remove(type); } catch (err) { // not critical } } return Promise.resolve(granted); } /** * Remove the optional permissions * @param {module:permissions.Type} type - permission type * @returns {Promise&lt;boolean&gt;} true if removed */ export async function remove(type) { let removed = false; const contains = await _contains(type); if (contains) { removed = await chromep.permissions.remove({ permissions: type.permissions, origins: type.origins, }); } if (removed) { _setState(type, _STATE.notSet); } return Promise.resolve(removed); } /** * Remove and deny the optional permissions * @param {module:permissions.Type} type - permission type * @returns {Promise&lt;boolean&gt;} true if removed */ export async function deny(type) { const removed = await remove(type); // set to denied regardless of whether it was removed _setState(type, _STATE.denied); return Promise.resolve(removed); } /** * Remove, deny, and clear photo selections for Google Photos * @returns {Promise&lt;void&gt;} */ export async function removeGooglePhotos() { await deny(PICASA); try { // remove selected albums and photos await ChromeStorage.asyncSet('albumSelections', []); await ChromeStorage.asyncSet('googleImages', []); // remove cached Auth token await ChromeAuth.removeCachedToken(false, null, null); } catch (err) { // nice to remove but not critical } return null; } /** * Persist the state of an {@link module:permissions.Type} * @param {module:permissions.Type} type - permission type * @param {string} value - permission state * @private */ function _setState(type, value) { // send message to store value so items that are bound // to it will get storage event const msg = ChromeJSON.shallowCopy(ChromeMsg.STORE); msg.key = type.name; msg.value = value; ChromeMsg.send(msg).catch(() =&gt; {}); } /** * Determine if we have the optional permissions * @param {module:permissions.Type} type - permission type * @returns {Promise&lt;boolean&gt;} true if we have permissions */ function _contains(type) { return chromep.permissions.contains({ permissions: type.permissions, origins: type.origins, }); } Ã— Search results Close "},"sources_photo_source.js.html":{"id":"sources_photo_source.js.html","title":"Source: sources/photo_source.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: sources/photo_source.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import * as ChromeUtils from '../../scripts/chrome-extension-utils/scripts/utils.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * A source of photos for the screen saver * @module sources/photo_source */ /** * A photo from a {@link module:sources/photo_source.PhotoSource} * This is the photo information that is persisted. * * @typedef {{}} module:sources/photo_source.Photo * @property {string} url - The url to the photo * @property {string} author - The photographer * @property {number} asp - The aspect ratio of the photo * @property {Object} [ex] - Additional information about the photo * @property {string} [point] - geolocation 'lat lon' */ /** * The photos for a {@link module:sources/photo_source.PhotoSource} * * @typedef {{}} module:sources/photo_source.Photos * @property {string} type - type of {@link module:sources/photo_source.PhotoSource} * @property {module:sources/photo_source.Photo[]} photos - The photos */ /** * A source of photos for the screen saver * @alias module:sources/photo_source.PhotoSource */ class PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { this._useKey = useKey; this._photosKey = photosKey; this._type = type; this._desc = desc; this._isDaily = isDaily; this._isArray = isArray; this._loadArg = loadArg; } /** * Add a {@link module:sources/photo_source.Photo} to an existing Array * @param {Array} photos - {@link module:sources/photo_source.Photo} Array * @param {string} url - The url to the photo * @param {string} author - The photographer * @param {number} asp - The aspect ratio of the photo * @param {Object} [ex] - Additional information about the photo * @param {string} [point=''] - 'lat lon' */ static addPhoto(photos, url, author, asp, ex, point = '') { const photo = { url: url, author: author, asp: asp.toPrecision(3), }; if (ex) { photo.ex = ex; } if (point &amp;&amp; !ChromeUtils.isWhiteSpace(point)) { photo.point = point; } photos.push(photo); } /** * Create a geo point string from a latitude and longitude * @param {number} lat - latitude * @param {number} lon - longitude * @returns {string} 'lat lon' */ static createPoint(lat, lon) { if ((typeof lat === 'number') &amp;&amp; (typeof lon === 'number')) { return `${lat.toFixed(6)} ${lon.toFixed(6)}`; } else { return `${lat} ${lon}`; } } /** * Fetch the photos for this source - override * @abstract * @returns {Promise&lt;Object&gt;} could be array of photos or albums */ fetchPhotos() { } /** * Get the source type * @returns {string} the source type */ getType() { return this._type; } /** * Get if the photos key that is persisted * @returns {string} the photos key */ getPhotosKey() { return this._photosKey; } /** * Get a human readable description * @returns {string} the photos key */ getDesc() { return this._desc; } /** * Get use key name * @returns {string} the source type */ getUseKey() { return this._useKey; } /** * Get if we should update daily * @returns {boolean} if true, update daily */ isDaily() { return this._isDaily; } /** * Get the photos from local storage * @returns {Promise&lt;module:sources/photo_source.Photos&gt;} the photos */ async getPhotos() { let ret = { type: this._type, photos: [], }; if (this.use()) { let photos = []; if (this._isArray) { let items = await ChromeStorage.asyncGet(this._photosKey); // could be that items have not been retrieved yet items = items || []; for (const item of items) { photos = photos.concat(item.photos); } } else { photos = await ChromeStorage.asyncGet(this._photosKey); // could be that items have not been retrieved yet photos = photos || []; } ret.photos = photos; } return Promise.resolve(ret); } /** * Determine if this source has been selected for display * @returns {boolean} true if selected */ use() { return ChromeStorage.getBool(this._useKey); } /** * Process the photo source. * @returns {Promise&lt;void&gt;} void */ process() { if (this.use()) { return this.fetchPhotos().then((photos) =&gt; { return this._savePhotos(photos); }).then((errMess) =&gt; { if (!ChromeUtils.isWhiteSpace(errMess)) { return Promise.reject(new Error(errMess)); } return null; }).catch((err) =&gt; { let title = ChromeLocale.localize('err_photo_source_title'); title += `: ${this._desc}`; ChromeLog.error(err.message, 'PhotoSource.process', title, `source: ${this._useKey}`); return Promise.reject(err); }); } else { // HACK so we don't delete album or photos when Google Photos // page is disabled const useGoogle = ChromeStorage.getBool('useGoogle'); let isGoogleKey = false; if ((this._photosKey === 'albumSelections') || (this._photosKey === 'googleImages')) { isGoogleKey = true; } if (!(isGoogleKey &amp;&amp; !useGoogle)) { // noinspection JSUnresolvedFunction const chromep = new ChromePromise(); chromep.storage.local.remove(this._photosKey).catch(() =&gt; {}); } return null; } } /** * Save the photos to chrome.storage.local in a safe manner * @param {Object} photos - could be array of {@link module:sources/photo_source.Photo} or albums * @returns {Promise&lt;?string&gt;} non-null on error * @private */ async _savePhotos(photos) { let ret = null; const keyBool = this._useKey; if (photos &amp;&amp; photos.length) { const set = await ChromeStorage.asyncSet(this._photosKey, photos, keyBool); if (!set) { ret = 'Exceeded storage capacity.'; } } return ret; } } export default PhotoSource; Ã— Search results Close "},"sources_photo_source_chromecast.js.html":{"id":"sources_photo_source_chromecast.js.html","title":"Source: sources/photo_source_chromecast.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: sources/photo_source_chromecast.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeHttp from '../../scripts/chrome-extension-utils/scripts/http.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import PhotoSource from './photo_source.js'; /** * A source of photos from Chromecast * @module sources/photo_source_chromecast */ /** * A source of photos from Chromecast * @extends module:sources/photo_source.PhotoSource * @alias module:sources/photo_source_chromecast.CCSource */ class CCSource extends PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { super(useKey, photosKey, type, desc, isDaily, isArray, loadArg); } /** * Fetch the photos for this source * @returns {Promise&lt;PhotoSource.Photo[]&gt;} Array of photos */ fetchPhotos() { const url = '/assets/chromecast.json'; return ChromeHttp.doGet(url).then((photos) =&gt; { photos = photos || []; for (const photo of photos) { photo.asp = 1.78; } return Promise.resolve(photos); }); } } export default CCSource; Ã— Search results Close "},"sources_photo_source_factory.js.html":{"id":"sources_photo_source_factory.js.html","title":"Source: sources/photo_source_factory.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: sources/photo_source_factory.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../scripts/chrome-extension-utils/scripts/log.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import CCSource from './photo_source_chromecast.js'; import FlickrSource from './photo_source_flickr.js'; import GoogleSource from './photo_source_google.js'; import RedditSource from './photo_source_reddit.js'; import * as PhotoSources from './photo_sources.js'; /** * Factory to create {@link module:sources/photo_source.PhotoSource} instances * @module sources/photo_source_factory */ /** * Factory Method to create a new {@link module:sources/photo_source.PhotoSource} * @param {string} useKey {@link module:sources/photo_sources.UseKey} * @returns {?module:sources/photo_source.PhotoSource} a new PhotoSource or subclass */ export function create(useKey) { switch (useKey) { case PhotoSources.UseKey.ALBUMS_GOOGLE: return new GoogleSource(useKey, 'albumSelections', 'Google User', ChromeLocale.localize('google_title'), true, true, null); case PhotoSources.UseKey.PHOTOS_GOOGLE: // not implemented yet return new GoogleSource(useKey, 'googleImages', 'Google User', ChromeLocale.localize('google_title_photos'), true, false, null); case PhotoSources.UseKey.CHROMECAST: return new CCSource(useKey, 'ccImages', 'Google', ChromeLocale.localize('setting_chromecast'), false, false, null); case PhotoSources.UseKey.INT_FLICKR: return new FlickrSource(useKey, 'flickrInterestingImages', 'flickr', ChromeLocale.localize('setting_flickr_int'), true, false, false); case PhotoSources.UseKey.AUTHOR: // noinspection JSCheckFunctionSignatures return new FlickrSource(useKey, 'authorImages', 'flickr', ChromeLocale.localize('setting_mine'), false, false, true); case PhotoSources.UseKey.SPACE_RED: return new RedditSource(useKey, 'spaceRedditImages', 'reddit', ChromeLocale.localize('setting_reddit_space'), true, false, 'r/spaceporn/'); case PhotoSources.UseKey.EARTH_RED: return new RedditSource(useKey, 'earthRedditImages', 'reddit', ChromeLocale.localize('setting_reddit_earth'), true, false, 'r/EarthPorn/'); case PhotoSources.UseKey.ANIMAL_RED: return new RedditSource(useKey, 'animalRedditImages', 'reddit', ChromeLocale.localize('setting_reddit_animal'), true, false, 'r/animalporn/'); default: ChromeLog.error(`Bad PhotoSource type: ${useKey}`, 'PhotoSourceFactory.create'); return null; } } Ã— Search results Close "},"sources_photo_source_flickr.js.html":{"id":"sources_photo_source_flickr.js.html","title":"Source: sources/photo_source_flickr.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: sources/photo_source_flickr.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeHttp from '../../scripts/chrome-extension-utils/scripts/http.js'; import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import PhotoSource from './photo_source.js'; /** * A source of photos from Flickr * @module sources/photo_source_flickr */ /** * Flickr rest API * @type {string} * @const * @private */ const _URL_BASE = 'https://api.flickr.com/services/rest/'; /** * Flickr rest API authorization key * @type {string} * @const * @private */ const _KEY = '1edd9926740f0e0d01d4ecd42de60ac6'; /** * Max photos to return * @type {int} * @const * @private */ const _MAX_PHOTOS = 250; /** * A source of photos from Flickr * @extends module:sources/photo_source.PhotoSource * @alias module:sources/photo_source_flickr.FlickrSource */ class FlickrSource extends PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function * @constructor */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { super(useKey, photosKey, type, desc, isDaily, isArray, loadArg); } /** * Extract the photos into an Array * @param {JSON} response - server response * @returns {Promise&lt;module:sources/photo_source.Photo[]&gt;} Array of photos * @private */ static _processPhotos(response) { if (!response.photos || !response.photos.photo) { const err = new Error(ChromeLocale.localize('err_photo_source_title')); return Promise.reject(err); } /** @type {module:sources/photo_source.Photo[]} */ const photos = []; for (const photo of response.photos.photo) { let url = null; let width; let height; if (photo &amp;&amp; (photo.media === 'photo') &amp;&amp; (photo.isfriend !== '0') &amp;&amp; (photo.isfamily !== '0')) { url = photo.url_k || url; url = photo.url_o || url; if (url) { if (photo.url_o) { width = parseInt(photo.width_o, 10); height = parseInt(photo.height_o, 10); } else { width = parseInt(photo.width_k, 10); height = parseInt(photo.height_k, 10); } const asp = width / height; let pt = null; if (photo.latitude &amp;&amp; photo.longitude) { pt = PhotoSource.createPoint(photo.latitude, photo.longitude); } PhotoSource.addPhoto(photos, url, photo.ownername, asp, photo.owner, pt); } } } return Promise.resolve(photos); } /** * Fetch the photos for this source * @returns {Promise&lt;module:sources/photo_source.Photo[]&gt;} Array of photos */ fetchPhotos() { let url; if (this._loadArg) { // my photos const userId = '86149994@N06'; url = `${_URL_BASE}?method=flickr.people.getPublicPhotos` + `&amp;api_key=${_KEY}&amp;user_id=${userId}` + `&amp;extras=owner_name,url_o,media,geo&amp;per_page=${_MAX_PHOTOS}` + '&amp;format=json&amp;nojsoncallback=1'; } else { // public photos url = `${_URL_BASE}?method=flickr.interestingness.getList` + `&amp;api_key=${_KEY}&amp;extras=owner_name,url_k,media,geo` + `&amp;per_page=${_MAX_PHOTOS}` + '&amp;format=json&amp;nojsoncallback=1'; } return ChromeHttp.doGet(url).then((response) =&gt; { if (response.stat !== 'ok') { return Promise.reject(new Error(response.message)); } return FlickrSource._processPhotos(response); }); } } export default FlickrSource; Ã— Search results Close "},"sources_photo_source_google.js.html":{"id":"sources_photo_source_google.js.html","title":"Source: sources/photo_source_google.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: sources/photo_source_google.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeGA from '../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeHttp from '../../scripts/chrome-extension-utils/scripts/http.js'; import * as ChromeJSON from '../../scripts/chrome-extension-utils/scripts/json.js'; import * as ChromeLocale from '../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeLog from '../../scripts/chrome-extension-utils/scripts/log.js'; import * as ChromeMsg from '../../scripts/chrome-extension-utils/scripts/msg.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import * as MyGA from '../../scripts/my_analytics.js'; import * as MyMsg from '../../scripts/my_msg.js'; import PhotoSource from './photo_source.js'; import * as PhotoSources from './photo_sources.js'; /** * A source of photos from Google Photos * @module sources/photo_source_google */ /** * A Google Photo Album * @typedef {Object} module:sources/photo_source_google.Album * @property {int} index - Array index * @property {string} uid - unique identifier * @property {string} name - album name * @property {string} id - Google album Id * @property {string} thumb - thumbnail url * @property {boolean} checked - is album selected * @property {int} ct - number of photos * @property {module:sources/photo_source.Photo[]} photos - Array of photos */ /** * A Selected Google Photo Album, this is persisted * @typedef {Object} module:sources/photo_source_google.SelectedAlbum * @property {string} id - Google album Id * @property {string} name - Google album name * @property {module:sources/photo_source.Photo[]} photos - Array of photos */ /** * Google Photos API representation of a photo * @typedef {{}} module:sources/photo_source_google.mediaItem * @property {{}} id * @property {{}} mimeType * @property {{}} baseUrl * @property {{}} productUrl * @property {{}} mediaMetadata * @property {{}} mediaMetadata.width * @property {{}} mediaMetadata.height */ /** * Path to Google Photos API * @type {string} * @const * @default * @private */ const _URL_BASE = 'https://photoslibrary.googleapis.com/v1/'; /** * Query for list of albums * @type {string} * @const * @default * @private */ const _ALBUMS_QUERY = '?pageSize=50&amp;fields=nextPageToken,albums(id,title,mediaItemsCount,' + 'coverPhotoBaseUrl)'; /** * Only return stuff we use * @type {string} * @const * @default * @private */ const _MEDIA_ITEMS_FIELDS = 'fields=nextPageToken,mediaItems(id,productUrl,baseUrl,mimeType,' + 'mediaMetadata/width,mediaMetadata/height)'; /** * Only return stuff we use * @type {string} * @const * @default * @private */ const _MEDIA_ITEMS_RESULTS_FIELDS = 'fields=mediaItemResults(status/code,mediaItem/id,mediaItem/productUrl,' + 'mediaItem/baseUrl,mediaItem/mimeType,mediaItem/mediaMetadata/width,' + 'mediaItem/mediaMetadata/height)'; /** * A source of photos from Google Photos * @extends module:sources/photo_source.PhotoSource * @alias module:sources/photo_source_google.GoogleSource */ class GoogleSource extends PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function * @constructor */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { super(useKey, photosKey, type, desc, isDaily, isArray, loadArg); } /** * Default photo filter * @returns {{}} value * @static */ static get DEF_FILTER() { return { 'mediaTypeFilter': { 'mediaTypes': [ 'PHOTO', ], }, 'contentFilter': { 'includedContentCategories': [ 'LANDSCAPES', 'CITYSCAPES', 'LANDMARKS', ], }, }; } /** * No filtering * @returns {{}} value * @static */ static get NO_FILTER() { return { 'mediaTypeFilter': { 'mediaTypes': [ 'PHOTO', ], }, }; } /** * Max albums to use * @returns {int} value * @static */ static get MAX_ALBUMS() { return 100; } /** * Max photos per album to use * @returns {int} value * @static */ static get MAX_ALBUM_PHOTOS() { return 2000; } /** * Max photos total to use for album mode * @returns {int} value * @static */ static get MAX_PHOTOS() { return 20000; } /** * Max photos google images mode * @returns {int} value * @static */ static get MAX_FILTERED_PHOTOS() { return 3000; } // /** // * Is the error due to the Google Photos API quota? Also logs it if true // * @param {Error} err - info on image // * @param {string} caller - calling method // * @returns {boolean} true if 429 error // * @static // */ // static isQuotaError(err, caller) { // let ret = false; // const statusMsg = `${ChromeLocale.localize('err_status')}: 429`; // if (err.message.includes(statusMsg)) { // // Hit Google photos quota // ChromeLog.error(err.message, caller, // ChromeLocale.localize('err_google_quota')); // ret = true; // } // return ret; // } /** * Is the error due to a revoked auth token * @param {Error} err - info on image * @param {string} name - calling method * @returns {boolean} true if OAuth2 not granted or revoked * @static */ static isAuthRevokedError(err, name) { let ret = false; const errMsg = 'OAuth2 not granted or revoked'; if (err.message.includes(errMsg)) { // We have lost authorization to Google Photos // eslint-disable-next-line promise/no-promise-in-callback ChromeStorage.asyncSet('albumSelections', []).catch(() =&gt; {}); // eslint-disable-next-line promise/no-promise-in-callback ChromeStorage.asyncSet('googleImages', []).catch(() =&gt; {}); ChromeLog.error(err.message, name, ChromeLocale.localize('err_auth_revoked')); ret = true; } return ret; } /** * Retrieve the user's list of albums * @throws An error if the album list failed to load. * @returns {Promise&lt;Array&lt;module:sources/photo_source_google.Album&gt;&gt;} Array of albums * @static * @async */ static async loadAlbumList() { let nextPageToken; /** @type {Array&lt;{mediaItemsCount, coverPhotoBaseUrl}&gt;} */ let gAlbums = []; let albums = []; let ct = 0; const baseUrl = `${_URL_BASE}albums/${_ALBUMS_QUERY}`; let url = baseUrl; // get list of albums const conf = ChromeJSON.shallowCopy(ChromeHttp.CONFIG); conf.isAuth = true; conf.retryToken = true; conf.interactive = true; // Loop while there is a nextPageToken to load more items. do { /** @type {{nextPageToken, albums}} */ let response = await ChromeHttp.doGet(url, conf); response = response || {}; response.albums = response.albums || []; if (response.albums.length) { gAlbums = gAlbums.concat(response.albums); } nextPageToken = response.nextPageToken; url = `${baseUrl}&amp;pageToken=${nextPageToken}`; } while (nextPageToken); // Create the array of module:sources/photo_source_google.Album for (const gAlbum of gAlbums) { if (gAlbum &amp;&amp; gAlbum.mediaItemsCount &amp;&amp; (gAlbum.mediaItemsCount &gt; 0)) { /** @type {module:sources/photo_source_google.Album} */ const album = {}; album.index = ct; album.uid = 'album' + ct; album.name = gAlbum.title; album.id = gAlbum.id; album.ct = gAlbum.mediaItemsCount; album.thumb = `${gAlbum.coverPhotoBaseUrl}=w76-h76`; album.checked = false; album.photos = []; albums.push(album); ct++; } } ChromeGA.event(MyGA.EVENT.LOAD_ALBUM_LIST, `nAlbums: ${albums.length}`); return albums; } /** * Retrieve a Google Photos album * @param {string} id - Unique Album ID * @param {string} name - Album name * @param {boolean} interactive=true - interactive mode for permissions * @param {boolean} notify=false - notify listeners of status * @throws An error if the album failed to load. * @returns {module:sources/photo_source_google.Album} Album * @static * @async */ static async loadAlbum(id, name, interactive = true, notify = false) { // max items in search call const MAX_QUERIES = 100; const url = `${_URL_BASE}mediaItems:search?${_MEDIA_ITEMS_FIELDS}`; const body = { 'pageSize': MAX_QUERIES, }; body.albumId = id; const conf = ChromeJSON.shallowCopy(ChromeHttp.CONFIG); conf.isAuth = true; conf.retryToken = true; conf.interactive = interactive; conf.body = body; let nextPageToken; let photos = []; // Loop while there is a nextPageToken to load more items and we // haven't loaded greater than MAX_ALBUM_PHOTOS. do { if (notify) { // notify listeners of our current progress const msg = ChromeJSON.shallowCopy(MyMsg.ALBUM_COUNT); msg.name = name; msg.count = photos.length; ChromeMsg.send(msg).catch(() =&gt; {}); } /** @type {{nextPageToken, mediaItems}} */ const response = await ChromeHttp.doPost(url, conf); nextPageToken = response.nextPageToken; conf.body.pageToken = nextPageToken; const mediaItems = response.mediaItems; if (mediaItems) { const newPhotos = this._processPhotos(mediaItems, name); photos = photos.concat(newPhotos); } // don't go over MAX_ALBUM_PHOTOS if (photos.length &gt; this.MAX_ALBUM_PHOTOS) { ChromeGA.event(MyGA.EVENT.PHOTOS_LIMITED, `nPhotos: ${this.MAX_ALBUM_PHOTOS}`); const delCt = photos.length - this.MAX_ALBUM_PHOTOS; photos.splice(this.MAX_ALBUM_PHOTOS, delCt); } } while (nextPageToken &amp;&amp; (photos.length &lt; this.MAX_ALBUM_PHOTOS)); /** @type {module:sources/photo_source_google.Album} */ const album = {}; album.index = 0; album.uid = 'album' + 0; album.name = name; album.id = id; album.thumb = ''; album.checked = true; album.photos = photos; album.ct = photos.length; ChromeGA.event(MyGA.EVENT.LOAD_ALBUM, `nPhotos: ${album.ct}`); return album; } /** * Load the saved albums from the Web * @param {boolean} interactive=true - interactive mode for permissions * @param {boolean} notify=false - notify listeners of status * @throws An error if the albums could not be updated * @returns {Promise&lt;module:sources/photo_source_google.Album[]&gt;} */ static async loadAlbums(interactive = false, notify = false) { const METHOD = 'GoogleSource.loadAlbums'; /** @type {module:sources/photo_source_google.SelectedAlbum[]} */ const albums = await ChromeStorage.asyncGet('albumSelections', []); if ((albums.length === 0)) { return Promise.resolve(albums); } let ct = 0; // loop on each album and reload from Web for (let i = albums.length - 1; i &gt;= 0; i--) { const album = albums[i] || []; let newAlbum = null; try { newAlbum = await GoogleSource. loadAlbum(album.id, album.name, interactive, notify); } catch (err) { if (err.message.match(/404/)) { // album likely deleted in Google Photos let msg = ChromeLocale.localize('removed_album'); msg+= `: ${album.name}`; ChromeLog.error(msg, METHOD); // delete it albums.splice(i, 1); continue; } else { // failed to load album throw err; } } const photos = newAlbum.photos || []; // replace albums.splice(i, 1, { id: album.id, name: newAlbum.name, photos: photos, }); ct += photos.length; if (ct &gt; GoogleSource.MAX_PHOTOS) { // exceeded total photo limit, stop processing ChromeGA.event(MyGA.EVENT.PHOTO_SELECTIONS_LIMITED, `limit: ${ct}`); // let user know ChromeLog.error(ChromeLocale.localize('err_max_photos'), METHOD); break; } } return Promise.resolve(albums); } /** * Load photos based on a filter * @param {boolean} [force=false] if true, force rpc * @param {boolean} [notify=false] if true, notify listeners of progress * @throws An error if we could not load the photos * @returns {Promise&lt;module:sources/photo_source.Photo[]&gt;} Array of photos * @async * @static */ static async loadFilteredPhotos(force = false, notify = false) { const photos = await ChromeStorage.asyncGet('googleImages', []); if (!force &amp;&amp; !this._isFetch()) { // no need to change - save on api calls return Promise.resolve(photos); } const MAX_PHOTOS = GoogleSource.MAX_FILTERED_PHOTOS; // max queries per request const MAX_QUERIES = 100; // filter for photo selections let filters; if (ChromeStorage.get('googlePhotosNoFilter', false)) { filters = this.NO_FILTER; } else { filters = ChromeStorage.get('googlePhotosFilter', this.DEF_FILTER); } const body = { 'pageSize': MAX_QUERIES, 'filters': filters, }; const url = `${_URL_BASE}mediaItems:search?${_MEDIA_ITEMS_FIELDS}`; // get list of photos based on filter const conf = ChromeJSON.shallowCopy(ChromeHttp.CONFIG); conf.isAuth = true; conf.retryToken = true; conf.interactive = force; conf.body = body; let nextPageToken; /** @type {module:sources/photo_source.Photo[]} */ let newPhotos = []; try { // Loop while there is a nextPageToken and MAX_PHOTOS has not been hit do { if (notify) { // notify listeners of our current progress const msg = ChromeJSON.shallowCopy(MyMsg.FILTERED_PHOTOS_COUNT); msg.count = newPhotos.length; ChromeMsg.send(msg).catch(() =&gt; {}); } /** @type {{nextPageToken, mediaItems}} */ let response = await ChromeHttp.doPost(url, conf); response = response || {}; // convert to module:sources/photo_source.Photo[] const photos = this._processPhotos(response.mediaItems); if (photos.length &gt; 0) { newPhotos = newPhotos.concat(photos); } // don't go over MAX_PHOTOS if (newPhotos.length &gt; MAX_PHOTOS) { newPhotos.splice(MAX_PHOTOS, newPhotos.length - MAX_PHOTOS); } nextPageToken = response.nextPageToken; conf.body.pageToken = nextPageToken; } while (nextPageToken &amp;&amp; (newPhotos.length &lt; MAX_PHOTOS)); } catch (err) { throw err; } ChromeGA.event(MyGA.EVENT.LOAD_FILTERED_PHOTOS, `nPhotos: ${newPhotos.length}`); return Promise.resolve(newPhotos); } /** * Load the given array of unique photo id's from Google Photos * @param {string[]} ids array of ids * @throws An error if the photos failed to load * @returns {Promise&lt;module:sources/photo_source.Photo[]&gt;} array of photos * @static * @async */ static async loadPhotos(ids) { ids = ids || []; let photos = []; // max items in getBatch call const MAX_QUERIES = 50; if (ids.length === 0) { return photos; } const conf = ChromeJSON.shallowCopy(ChromeHttp.CONFIG); conf.isAuth = true; conf.retryToken = true; conf.interactive = false; // get all the photos with the given ids let done = false; let start = 0; let stop = Math.min(MAX_QUERIES, ids.length); let nCalls = 0; // get the photos in batches of MAX_QUERIES do { let url = `${_URL_BASE}mediaItems:batchGet?${_MEDIA_ITEMS_RESULTS_FIELDS}`; let query = ''; for (let i = start; i &lt; stop; i++) { query = query.concat(`&amp;mediaItemIds=${ids[i]}`); } url = url.concat(query); // get the new mediaItemResults /** @type {{mediaItemResults}} */ const response = await ChromeHttp.doGet(url, conf); nCalls++; const mediaItems = []; // convert to array of media items for (const mediaItemResult of response.mediaItemResults) { // some may have failed to updated if (!mediaItemResult.status &amp;&amp; mediaItemResult.mediaItem) { mediaItems.push(mediaItemResult.mediaItem); } } const newPhotos = this._processPhotos(mediaItems, ''); photos = photos.concat(newPhotos); if (stop === ids.length) { done = true; } else { start = stop; stop = Math.min(stop + MAX_QUERIES, ids.length); } } while (!done); ChromeGA.event(MyGA.EVENT.LOAD_PHOTOS, `nPhotos: ${photos.length}, nCalls: ${nCalls}`); return photos; } /** * Update the baseUrls of the given photos * @param {module:sources/photo_source.Photo[]} photos * @throws An error on failure * @returns {boolean} false if couldn't persist albumSelections * @static */ static async updateBaseUrls(photos) { let ret = true; photos = photos || []; if (photos.length === 0) { return ret; } const useAlbums = ChromeStorage.get('useGoogleAlbums', false); if (useAlbums) { ret = await GoogleSource._updateAlbumsBaseUrls(photos); } const usePhotos = ChromeStorage.get('useGooglePhotos', false); if (usePhotos) { ret = await GoogleSource._updatePhotosBaseUrls(photos); } return ret; } /** * Update the baseUrls of the given photos in the saved albums * @param {module:sources/photo_source.Photo[]} photos * @throws An error on failure * @returns {boolean} false if couldn't persist albumSelections * @private * @static */ static async _updateAlbumsBaseUrls(photos) { let ret = true; photos = photos || []; if (photos.length === 0) { return ret; } const albums = await ChromeStorage.asyncGet('albumSelections', []); if (albums.length === 0) { return ret; } // loop on all the photos for (const photo of photos) { // loop on all the albums for (const album of albums) { const albumPhotos = album.photos; const index = albumPhotos.findIndex((e) =&gt; { return e.ex.id === photo.ex.id; }); if (index &gt;= 0) { // found it, update baseUrl albumPhotos[index].url = photo.url; } } } // Try to save the updated albums const set = await ChromeStorage.asyncSet('albumSelections', albums, null); if (!set) { ret = false; ChromeLog.error(ChromeLocale.localize('err_storage_title'), 'GoogleSource._updateAlbumsBaseUrls'); } return ret; } /** * Update the baseUrls of the given photos in the saved photos * @param {module:sources/photo_source.Photo[]} photos * @throws An error on failure * @returns {boolean} false if couldn't persist googleImages * @private * @static */ static async _updatePhotosBaseUrls(photos) { let ret = true; photos = photos || []; if (photos.length === 0) { return ret; } const savedPhotos = await ChromeStorage.asyncGet('googleImages', []); if (savedPhotos.length === 0) { return ret; } // loop on all the photos for (const photo of photos) { const index = savedPhotos.findIndex((e) =&gt; { return e.ex.id === photo.ex.id; }); if (index &gt;= 0) { // found it, update baseUrl savedPhotos[index].url = photo.url; } } // Try to save the updated photos const set = await ChromeStorage.asyncSet('googleImages', savedPhotos, null); if (!set) { ret = false; ChromeLog.error(ChromeLocale.localize('err_storage_title'), 'GoogleSource._updatePhotosBaseUrls'); } return ret; } /** * Return true if we should be fetching from Google * trying to minimize Google Photos API usage * @returns {boolean} true if we should fetch * @static */ static _isFetch() { /* only fetch new photos if all are true: api is authorized screensaver is enabled using google photos */ const auth = ChromeStorage.get('permPicasa', 'notSet') === 'allowed'; const enabled = ChromeStorage.getBool('enabled', true); const useGoogle = ChromeStorage.getBool('useGoogle', true); return auth &amp;&amp; enabled &amp;&amp; useGoogle; } /** * Fetch the most recent state for the selected albums * @throws An error if we could not load an album * @returns {Promise&lt;module:sources/photo_source_google.SelectedAlbum[]&gt;} Array of albums * @static * @async */ static async _fetchAlbums() { if (!this._isFetch()) { // no need to change - save on api calls const albums = await ChromeStorage.asyncGet('albumSelections', []); return Promise.resolve(albums); } let ct = 0; const albums = await this.loadAlbums(false, false); for (const album of albums) { ct += album.photos.length; } if ((albums.length &gt; 0)) { ChromeGA.event(MyGA.EVENT.FETCH_ALBUMS, `nAlbums: ${albums.length} nPhotos: ${ct}`); } return Promise.resolve(albums); } /** Determine if a mediaEntry is an image * @param {module:sources/photo_source_google.mediaItem} mediaItem - Google Photos media * object * @returns {boolean} true if entry is a photo * @static * @private */ static _isImage(mediaItem) { return mediaItem &amp;&amp; mediaItem.mimeType &amp;&amp; mediaItem.mimeType.startsWith('image/') &amp;&amp; mediaItem.mediaMetadata &amp;&amp; mediaItem.mediaMetadata.width &amp;&amp; mediaItem.mediaMetadata.height; } /** Get the image size to retrieve * @param {{}} mediaMetadata - info on image * @returns {{width: int, height: int}} image size * @static * @private */ static _getImageSize(mediaMetadata) { const MAX_SIZE = 1920; const ret = {}; ret.width = parseInt(mediaMetadata.width); ret.height = parseInt(mediaMetadata.height); if (!ChromeStorage.getBool('fullResGoogle')) { // limit size of image to download const max = Math.max(MAX_SIZE, ret.width, ret.height); if (max &gt; MAX_SIZE) { if (ret.width === max) { ret.width = MAX_SIZE; ret.height = Math.round(ret.height * (MAX_SIZE / max)); } else { ret.height = MAX_SIZE; ret.width = Math.round(ret.width * (MAX_SIZE / max)); } } } return ret; } /** * Get a photo from a mediaItem * @param {module:sources/photo_source_google.mediaItem} mediaItem - object from Google * Photos API call * @param {string} albumName - Album name * @returns {module:sources/photo_source.Photo} Photo, null if error * @static * @private */ static _processPhoto(mediaItem, albumName) { let photo = null; if (mediaItem &amp;&amp; mediaItem.mediaMetadata) { if (this._isImage(mediaItem)) { const mediaMetadata = mediaItem.mediaMetadata; const size = this._getImageSize(mediaMetadata); const width = size.width; const height = size.height; photo = {}; photo.url = `${mediaItem.baseUrl}=w${width}-h${height}`; photo.asp = width / height; // use album name instead photo.author = albumName; // unique photo id and url to photo in Google Photos photo.ex = { 'id': mediaItem.id, 'url': mediaItem.productUrl, }; photo.point = null; } } return photo; } /** * Extract the photos into an Array * @param {{}} mediaItems - objects from Google Photos API call * @param {string} [albumName=''] - optional Album name * @returns {module:sources/photo_source.Photo[]} Array of photos * @static * @private */ static _processPhotos(mediaItems, albumName = '') { const photos = []; if (!mediaItems) { return photos; } for (const mediaItem of mediaItems) { const photo = this._processPhoto(mediaItem, albumName); if (photo) { this.addPhoto(photos, photo.url, photo.author, photo.asp, photo.ex, photo.point); } } return photos; } /** * Fetch the albums or photos for this source * @throws An error if we couldn't update * @returns {Promise&lt;module:sources/photo_source_google.SelectedAlbum[]|module:sources/photo_source.Photo[]&gt;} * - array of albums or array of photos */ async fetchPhotos() { const METHOD = 'GoogleSource.fetchPhotos'; // this will at least ensure the LAN is connected // may get false positives for other failures if (!navigator.onLine) { return Promise.reject(new Error(ChromeLocale.localize('err_network'))); } try { const key = this.getUseKey(); if (key === PhotoSources.UseKey.ALBUMS_GOOGLE) { // album mode return await GoogleSource._fetchAlbums(); } else { // photo mode return await GoogleSource.loadFilteredPhotos(false); } } catch (err) { if (GoogleSource.isAuthRevokedError(err, METHOD)) { // Oauth2 Access was revoked - handled error ourselves return Promise.resolve([]); } return Promise.reject(err); } } } export default GoogleSource; Ã— Search results Close "},"sources_photo_source_reddit.js.html":{"id":"sources_photo_source_reddit.js.html","title":"Source: sources/photo_source_reddit.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: sources/photo_source_reddit.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import PhotoSource from './photo_source.js'; /** * A source of photos from reddit * @module sources/photo_source_reddit */ /** * Extension's redirect uri * @type {string} * @const * @private */ const _REDIRECT_URI = `https://${chrome.runtime.id}.chromiumapp.org/reddit`; // noinspection SpellCheckingInspection /** * Reddit rest API authorization key * @type {string} * @const * @private */ const _KEY = 'bATkDOUNW_tOlg'; /** * Max photos to return * @type {int} * @const * @default * @private */ const _MAX_PHOTOS = 100; /** * Min size of photo to use * @type {int} * @const * @default * @private */ const _MIN_SIZE = 750; /** * Max size of photo to use * @type {int} * @const * @default * @private */ const _MAX_SIZE = 3500; /** * Expose reddit API * @type {Function} * @private */ let _snoocore; /** * A source of photos from reddit * @extends module:sources/photo_source.PhotoSource * @alias module:sources/photo_source_reddit.RedditSource */ class RedditSource extends PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { super(useKey, photosKey, type, desc, isDaily, isArray, loadArg); } /** * Wait for snoocore library * @see https://stackoverflow.com/a/30506051/4468645 * @returns {Promise} resolves when snoocore library loads */ static _waitForLib() { const WAIT_MILLIS = 100; const MAX_WAIT_COUNT = 100; // 10 secs max let ct = 0; return new Promise(function(resolve, reject) { (function waiter() { if (ct === MAX_WAIT_COUNT) { reject(new Error('snoocore library timed out')); } else if (_snoocore) { // already have our instance return resolve(); } else if (window.Snoocore) { // library loaded, get our instance const Snoocore = window.Snoocore; _snoocore = new Snoocore({ userAgent: 'photo-screen-saver', throttle: 0, oauth: { type: 'implicit', key: _KEY, redirectUri: _REDIRECT_URI, scope: ['read'], }, }); return resolve(); } else { // wait then check again ct++; } setTimeout(waiter, WAIT_MILLIS); })(); }); } /** * Parse the size from the submission title. * this is the old way reddit did it * @param {string} title - submission title * @returns {{width: int, height: int}} Photo size * @private */ static _getSize(title) { const ret = {width: -1, height: -1}; const regex = /\\[(\\d*)\\D*(\\d*)\\]/; const res = title.match(regex); if (res) { ret.width = parseInt(res[1], 10); ret.height = parseInt(res[2], 10); } return ret; } /** * Build the list of photos for one page of items * @param {Array} children - Array of objects from reddit * @returns {module:sources/photo_source.Photo[]} Array of photos * @private */ static _processChildren(children) { const photos = []; let url; let width = 1; let height = 1; for (const child of children) { const data = child.data; if (!data.over_18) { // skip NSFW if (data.preview &amp;&amp; data.preview.images) { // new way. has full size image and array of reduced // resolutions let item = data.preview.images[0]; url = item.source.url.replace(/&amp;amp;/g, '&amp;'); width = parseInt(item.source.width, 10); height = parseInt(item.source.height, 10); if (Math.max(width, height) &gt; _MAX_SIZE) { // too big. get the largest reduced resolution image item = item.resolutions[item.resolutions.length - 1]; url = item.url.replace(/&amp;amp;/g, '&amp;'); // noinspection JSCheckFunctionSignatures width = parseInt(item.width, 10); // noinspection JSCheckFunctionSignatures height = parseInt(item.height, 10); } } else if (data.title) { // old way of specifying images - parse size from title const size = RedditSource._getSize(data.title); url = data.url; width = size.width; height = size.height; } } const asp = width / height; const author = data.author; if (asp &amp;&amp; !isNaN(asp) &amp;&amp; (Math.max(width, height) &gt;= _MIN_SIZE) &amp;&amp; (Math.max(width, height) &lt;= _MAX_SIZE)) { PhotoSource.addPhoto(photos, url, author, asp, data.url); } } return photos; } /** * Fetch the photos for this source * @returns {Promise&lt;module:sources/photo_source.Photo[]&gt;} Array of photos */ fetchPhotos() { let photos = []; // wait for library to initialize return RedditSource._waitForLib().then(() =&gt; { // web request to get photos return _snoocore(`${this._loadArg}hot`).listing({ limit: _MAX_PHOTOS, }); }).then((slice) =&gt; { photos = photos.concat(RedditSource._processChildren(slice.children)); return slice.next(); }).then((slice) =&gt; { photos = photos.concat(RedditSource._processChildren(slice.children)); return Promise.resolve(photos); }).catch((err) =&gt; { let msg = err.message; if (msg) { // extract first sentence const idx = msg.indexOf('.'); if (idx !== -1) { msg = msg.substring(0, idx + 1); } } else { msg = 'Unknown Error'; } return Promise.reject(new Error(msg)); }); } } export default RedditSource; Ã— Search results Close "},"sources_photo_sources.js.html":{"id":"sources_photo_sources.js.html","title":"Source: sources/photo_sources.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: sources/photo_sources.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeGA from '../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import * as PhotoSourceFactory from './photo_source_factory.js'; window.app = window.app || {}; /** * Manage the {@link module:sources/photo_source.PhotoSource} objects * @module sources/photo_sources */ /** * Enum for {@link module:sources/photo_source.PhotoSource} useKey * @typedef {enum} module:sources/photo_sources.UseKey * @readonly * @enum {string} */ export const UseKey = { ALBUMS_GOOGLE: 'useGoogleAlbums', PHOTOS_GOOGLE: 'useGooglePhotos', CHROMECAST: 'useChromecast', SPACE_RED: 'useSpaceReddit', EARTH_RED: 'useEarthReddit', ANIMAL_RED: 'useAnimalReddit', INT_FLICKR: 'useInterestingFlickr', AUTHOR: 'useAuthors', }; /** * Get the sources that are marked true in local storage * @returns {Array&lt;module:sources/photo_source.PhotoSource&gt;} Array of sources */ export function getSelectedSources() { let ret = []; for (const useKey of Object.values(UseKey)) { if (ChromeStorage.getBool(useKey, false)) { try { const source = PhotoSourceFactory.create(useKey); if (source) { ret.push(source); } } catch (ex) { ChromeGA.exception(ex, `${useKey} failed to load`, false); } } } return ret; } /** * Get all the usage keys * @returns {string[]} Array of usage keys */ export function getUseKeys() { let ret = []; for (const useKey of Object.values(UseKey)) { ret.push(useKey); } return ret; } /** * Determine if a given key is a photo source * @param {string} keyName - key to check * @returns {boolean} true if photo source */ export function isUseKey(keyName) { let ret = false; for (const useKey of Object.values(UseKey)) { if (useKey === keyName) { ret = true; break; } } return ret; } /** * Process the given photo source and save to localStorage. * @param {string} useKey - The photo source to retrieve * @returns {Promise&lt;void&gt;} void */ export function process(useKey) { try { const source = PhotoSourceFactory.create(useKey); if (source) { return source.process(); } } catch (ex) { ChromeGA.exception(ex, `${useKey} failed to load`, false); return Promise.reject(ex); } } /** * Get all the photos from all selected sources. These will be * used by the screensaver. * @returns {Promise&lt;module:sources/photo_source.Photos[]&gt;} Array of sources photos */ export async function getSelectedPhotos() { const sources = getSelectedSources(); let ret = []; for (const source of sources) { const photos = await source.getPhotos(); ret.push(photos); } return Promise.resolve(ret); } /** * Process all the selected photo sources. * This normally requires a https call and may fail for various reasons * @param {boolean} doGoogle=false - update user's Google Photos too */ export function processAll(doGoogle = false) { const sources = getSelectedSources(); for (const source of sources) { let skip = false; const type = source.getType(); if ('Google User' === type) { skip = !doGoogle; } if (!skip) { source.process().catch(() =&gt; {}); } } } /** * Process all the selected photo sources that are to be * updated every day. * This normally requires a https call and may fail for various reasons */ export function processDaily() { const sources = getSelectedSources(); for (const source of sources) { if (source.isDaily()) { source.process().catch(() =&gt; {}); } } } Ã— Search results Close "},"screensaver_ss_builder.js.html":{"id":"screensaver_ss_builder.js.html","title":"Source: screensaver/ss_builder.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/ss_builder.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import * as Screensaver from '../../elements/screensaver-element/screensaver-element.js'; import * as SSFinder from './ss_photo_finder.js'; import * as SSPhotos from './ss_photos.js'; import * as PhotoSources from '../../scripts/sources/photo_sources.js'; /** * Builder for a {@link module:els/screensaver.Screensaver} * @module ss/builder */ /** * Build everything related to a {@link module:els/screensaver.Screensaver} * @returns {Promise&lt;boolean&gt;} true if there are photos for the show */ export async function build() { // load the photos for the slide show const hasPhotos = await _loadPhotos(); if (hasPhotos) { // create the animated pages Screensaver.createPages(); // initialize the photo finder SSFinder.initialize(); } return hasPhotos; } /** * Build the {@link module:ss/photos.Photos} that will be displayed * @returns {Promise&lt;boolean&gt;} true if there is at least one photo * @private */ async function _loadPhotos() { try { let sources = await PhotoSources.getSelectedPhotos(); sources = sources || []; for (const source of sources) { SSPhotos.addFromSource(source); } if (!SSPhotos.getCount()) { // No usable photos Screensaver.setNoPhotos(); return Promise.resolve(false); } } catch (err) { // TODO log error return Promise.resolve(false); } if (ChromeStorage.getBool('shuffle')) { // randomize the order SSPhotos.shuffle(); } return Promise.resolve(true); } Ã— Search results Close "},"screensaver_ss_events.js.html":{"id":"screensaver_ss_events.js.html","title":"Source: screensaver/ss_events.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/ss_events.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as MyMsg from '../../scripts/my_msg.js'; import * as SSViews from './ss_views.js'; import * as SSRunner from './ss_runner.js'; import * as ChromeGA from '../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeMsg from '../../scripts/chrome-extension-utils/scripts/msg.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Event handling for a {@link module:els/screensaver.Screensaver} * @module ss/events */ /** * Starting mouse position * @type {{x: ?int, y: ?int}} * @const * @private */ const _MOUSE_START = {x: null, y: null}; /** * Close ourselves * @private */ function _close() { // send message to other screen savers to close themselves ChromeMsg.send(MyMsg.SS_CLOSE).catch(() =&gt; {}); setTimeout(() =&gt; { // delay a little to process events window.close(); }, 750); } /** * Event: Fired when a registered command is activated using * a keyboard shortcut. * @see https://developer.chrome.com/extensions/commands#event-onCommand * @param {string} cmd - keyboard command * @private */ function _onKeyCommand(cmd) { if (SSRunner.isInteractive()) { if (cmd === 'ss-toggle-paused') { ChromeGA.event(ChromeGA.EVENT.KEY_COMMAND, `${cmd}`); SSRunner.togglePaused(); } else if (cmd === 'ss-forward') { ChromeGA.event(ChromeGA.EVENT.KEY_COMMAND, `${cmd}`); SSRunner.forward(); } else if (cmd === 'ss-back') { ChromeGA.event(ChromeGA.EVENT.KEY_COMMAND, `${cmd}`); SSRunner.back(); } } } // noinspection JSUnusedLocalSymbols /** * Event: Fired when a message is sent from either an extension&lt;br&gt; * (by runtime.sendMessage) or a content script (by tabs.sendMessage). * @see https://developer.chrome.com/extensions/runtime#event-onMessage * @param {module:chrome/msg.Message} request - details for the message * @param {Object} [sender] - MessageSender object * @param {Function} [response] - function to call once after processing * @returns {boolean} true if asynchronous * @private */ function _onMessage(request, sender, response) { if (request.message === MyMsg.SS_CLOSE.message) { _close(); } else if (request.message === MyMsg.SS_IS_SHOWING.message) { // let people know we are here response({message: 'OK'}); } return false; } /** * Event: KeyboardEvent * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent * @param {KeyboardEvent} ev - KeyboardEvent * @private */ function _onKey(ev) { const keyName = ev.key; if (!SSRunner.isStarted()) { _close(); return; } switch (keyName) { case 'Alt': case 'Shift': case ' ': case 'ArrowLeft': case 'ArrowRight': // fallthrough if (!SSRunner.isInteractive()) { _close(); } break; default: _close(); break; } } /** * Event: mousemove * @param {MouseEvent} ev - mousemove event * @private */ function _onMouseMove(ev) { if (_MOUSE_START.x &amp;&amp; _MOUSE_START.y) { const deltaX = Math.abs(ev.clientX - _MOUSE_START.x); const deltaY = Math.abs(ev.clientY - _MOUSE_START.y); if (Math.max(deltaX, deltaY) &gt; 10) { // close after a minimum amount of mouse movement _close(); } } else { // first move, set values _MOUSE_START.x = ev.clientX; _MOUSE_START.y = ev.clientY; } } /** * Event: mouse click * @private */ function _onMouseClick() { if (SSRunner.isStarted()) { const idx = SSViews.getSelectedIndex(); const allowPhotoClicks = ChromeStorage.getBool('allowPhotoClicks'); if (allowPhotoClicks &amp;&amp; (typeof (idx) !== 'undefined')) { const view = SSViews.get(idx); view.photo.showSource(); } } _close(); } /** * Event: called when document and resources are loaded * @private */ function _onLoad() { // listen for chrome messages ChromeMsg.listen(_onMessage); // listen for key events window.addEventListener('keydown', _onKey, false); // listen for mousemove events window.addEventListener('mousemove', _onMouseMove, false); // listen for mouse click events window.addEventListener('click', _onMouseClick, false); // listen for special keyboard commands // noinspection JSUnresolvedVariable chrome.commands.onCommand.addListener(_onKeyCommand); } // listen for document and resources loaded window.addEventListener('load', _onLoad); Ã— Search results Close "},"screensaver_geo.js.html":{"id":"screensaver_geo.js.html","title":"Source: screensaver/geo.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/geo.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeHttp from '../../scripts/chrome-extension-utils/scripts/http.js'; import * as ChromeJSON from '../../scripts/chrome-extension-utils/scripts/json.js'; import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import * as ChromeUtils from '../../scripts/chrome-extension-utils/scripts/utils.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Handle interaction the Google maps geocode API * @module ss/geo */ /** * Path to Google's geocode api * @type {string} * @const * @default * @private */ const _GEOCODE_API = 'http://maps.googleapis.com/maps/api/geocode/json'; /** * A Geo location * @typedef {Object} module:ss/geo.Location * @property {string} loc - descriptive location * @property {string} point - geo location 'lat lon' */ /** * Location cache * @typedef {Object} module:ss/geo.Cache * @property {module:ss/geo.Location[]} entries - Array of locations * @property {int} maxSize - max entries to cache * @private */ const _LOC_CACHE = { entries: [], maxSize: 100, }; /** * Get the location string * @param {string} point - 'lat,long' * @returns {Promise&lt;string&gt;} geolocation as string */ export function get(point) { if (!ChromeStorage.getBool('showLocation')) { return Promise.reject(new Error('showLocation is off')); } else if (ChromeUtils.isWhiteSpace(point)) { return Promise.reject(new Error('point is empty or null')); } // replace any exponential notation const pt = _cleanPoint(point); // check cache const cache = _getFromCache(pt); if (cache) { // retrieve from cache return Promise.resolve(cache.loc); } // get from api - it will translate based on the browser language const url = `${_GEOCODE_API}?latlng=${pt}`; const conf = ChromeJSON.shallowCopy(ChromeHttp.CONFIG); conf.maxRetries = 2; return ChromeHttp.doGet(url, conf).then((response) =&gt; { let location = ''; if ((response.status === 'OK') &amp;&amp; response.results &amp;&amp; (response.results.length &gt; 0)) { location = response.results[0].formatted_address; // cache it _addToCache(pt, location); } return Promise.resolve(location); }); } /** * Try to get (@link module:ss/geo.Location} from cache * @param {string} point - a geolocation * @returns {module:ss/geo.Location|undefined} location, undefined if not cached * @private */ function _getFromCache(point) { return _LOC_CACHE.entries.find((element) =&gt; { return (element.point === point); }); } /** * Try to get (@link module:ss/geo.Location} from cache * @param {string} point - a geolocation * @param {string} location - description * @private */ function _addToCache(point, location) { _LOC_CACHE.entries.push({ loc: location, point: point, }); if (_LOC_CACHE.entries.length &gt; _LOC_CACHE.maxSize) { // FIFO _LOC_CACHE.entries.shift(); } } /** * Make sure point is in fixed point notation * @param {string} point - 'lat lng' may have exponential notation * @returns {string} 'lat,lng' fixed point notation * @private */ function _cleanPoint(point) { let ret = point; try { const stringArray = point.split(' '); if (stringArray.length === 2) { const lat = parseFloat(stringArray[0]).toFixed(8); const lng = parseFloat(stringArray[1]).toFixed(8); ret = `${lat},${lng}`; } } catch (ex) { ChromeUtils.noop(); } return ret; } Ã— Search results Close "},"screensaver_ss_history.js.html":{"id":"screensaver_ss_history.js.html","title":"Source: screensaver/ss_history.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/ss_history.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import * as SSPhotos from './ss_photos.js'; import * as SSViews from './ss_views.js'; import * as SSRunner from './ss_runner.js'; /** * Track the recent traversal history of a {@link module:els/screensaver.Screensaver} * @module ss/history */ /** * History item * @typedef {Object} module:ss/history.Item * @property {int} viewsIdx - {@link module:ss/views.Views} index * @property {int} replaceIdx - {@link module:ss/views.Views} index * @property {int} photoId - {@link module:ss/photo.SSPhoto} id * @property {int} photosPos - pointer into {@link module:ss/photos.Photos} */ /** * Slide show history * @property {Array&lt;module:ss/history.Item&gt;} arr - history items * @property {int} idx - pointer into arr * @property {int} max - max length of arr, it will actually have 1 item more * @const * @private */ const _history = { arr: [], idx: -1, max: 10, }; /** * Initialize the history */ export function initialize() { _history.max = Math.min(SSPhotos.getCount(), _history.max); } /** * Add item to the history * @param {?int} newIdx - if not null, a request from the back command * @param {int} selected - the current selection * @param {int} replaceIdx - the replace index */ export function add(newIdx, selected, replaceIdx) { if (newIdx === null) { const view = SSViews.get(selected); const idx = _history.idx; const len = _history.arr.length; const photoId = view.photo.getId(); const photosPos = SSPhotos.getCurrentIndex(); const historyItem = { viewsIdx: selected, replaceIdx: replaceIdx, photoId: photoId, photosPos: photosPos, }; if ((idx === len - 1)) { // add to end if (_history.arr.length &gt; _history.max) { // FIFO delete _history.arr.shift(); _history.idx--; _history.idx = Math.max(_history.idx, -1); } // add newest photo _history.arr.push(historyItem); } } _history.idx++; } /** * Reset the slide show history */ export function clear() { _history.arr = []; _history.idx = -1; } /** * Backup one slide * @returns {?null} {@link module:ss/views.Views} index to step to */ export function back() { if (_history.idx &lt;= 0) { // at beginning return null; } let nextStep = null; let inc = 2; let idx = _history.idx - inc; _history.idx = idx; if (idx &lt; 0) { if ((_history.arr.length &gt; _history.max)) { // at beginning of history _history.idx += inc; return null; } else { // at beginning, first time through _history.idx = -1; inc = 1; nextStep = -1; idx = 0; } } // update state from history const photosPos = _history.arr[idx].photosPos; const replaceIdx = _history.arr[idx + inc].replaceIdx; SSPhotos.setCurrentIndex(photosPos); SSRunner.setReplaceIdx(replaceIdx); const viewsIdx = _history.arr[idx].viewsIdx; const photoId = _history.arr[idx].photoId; nextStep = (nextStep === null) ? viewsIdx : nextStep; const view = SSViews.get(viewsIdx); const photo = SSPhotos.get(photoId); view.setPhoto(photo); view.render(); return nextStep; } Ã— Search results Close "},"screensaver_ss_photo.js.html":{"id":"screensaver_ss_photo.js.html","title":"Source: screensaver/ss_photo.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/ss_photo.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as MyGA from '../../scripts/my_analytics.js'; import * as ChromeGA from '../../scripts/chrome-extension-utils/scripts/analytics.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * A photo for the {@link module:els/screensaver.Screensaver} * @module ss/photo */ /** * A photo for the {@link module:els/screensaver.Screensaver} * @property {int} _id - Unique id * @property {string} _url - The url to the photo * @property {string} _photographer - The photographer * @property {string} _type - type of {@link module:sources/photo_source} * @property {number} _aspectRatio - aspect ratio * @property {Object} _ex - additional information about the photo * @property {string} _point - geolocation 'lat lon' * @property {boolean} _isBad - true if url didn't load * @alias module:ss/photo.SSPhoto */ class SSPhoto { /** * Create a new photo * @param {int} id - unique id * @param {module:sources/photo_source.Photo} source - source photo * @param {string} sourceType - type of {@link module:sources/photo_source} */ constructor(id, source, sourceType) { this._id = id; this._url = source.url; this._photographer = source.author ? source.author : ''; this._type = sourceType; this._aspectRatio = source.asp; this._ex = source.ex; this._point = source.point; this._isBad = false; } /** * Get unique id * @returns {int} id */ getId() { return this._id; } /** * Set unique id * @param {int} id - unique id */ setId(id) { this._id = id; } /** * Is photo bad * @returns {boolean} true if bad */ isBad() { return this._isBad; } /** * Mark photo unusable */ markBad() { this._isBad = true; } /** * Get photo url * @returns {string} url */ getUrl() { return this._url; } /** * Set the url * @param {string} url - url to photo */ setUrl(url) { this._url = url; this._isBad = false; } /** * Get photo source type * @returns {string} type */ getType() { return this._type; } /** * Get photographer * @returns {string} photographer */ getPhotographer() { return this._photographer; } /** * Get photo aspect ratio * @returns {number} aspect ratio */ getAspectRatio() { return this._aspectRatio; } /** * Get geo location point * @returns {?string} point */ getPoint() { return this._point; } /** * Get extra information * @returns {?Object} extra object */ getEx() { return this._ex; } /** * Create a new tab with a link to the * original source of the photo, if possible */ showSource() { let regex; let id; let url = null; switch (this._type) { case 'flickr': if (this._ex) { // parse photo id regex = /(\\/[^/]*){4}(_.*_)/; id = this._url.match(regex); url = `https://www.flickr.com/photos/${this._ex}${id[1]}`; } break; case 'reddit': if (this._ex) { url = this._ex; } break; case 'Google User': if (this._ex &amp;&amp; this._ex.url) { url = this._ex.url; } break; default: url = this._url; break; } if (url !== null) { ChromeGA.event(MyGA.EVENT.VIEW_PHOTO, this._type); // noinspection JSUnresolvedVariable chrome.tabs.create({url: url}); } } } export default SSPhoto; Ã— Search results Close "},"screensaver_ss_photo_finder.js.html":{"id":"screensaver_ss_photo_finder.js.html","title":"Source: screensaver/ss_photo_finder.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/ss_photo_finder.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import * as SSPhotos from './ss_photos.js'; import * as SSViews from './ss_views.js'; import * as SSRunner from './ss_runner.js'; /** * Find a photo that is ready for slideshow * @module ss/photo_finder */ /** * Transition time in milliseconds * @type {int} * @private */ let _transTime = 30000; /** * Initialize the photo finder */ export function initialize() { const transTime = ChromeStorage.get('transitionTime'); if (transTime) { _transTime = transTime.base * 1000; } } /** * Get the next photo to display * @param {int} idx - index into {@link module:ss/views.Views} * @returns {int} next - index into {@link module:ss/views.Views} * to display, -1 if none are ready */ export function getNext(idx) { let ret = SSViews.findLoadedPhoto(idx); if (ret === -1) { // no photos ready, wait a little, try again SSRunner.setWaitTime(500); } else { // photo found, set the waitTime back to transition time SSRunner.setWaitTime(_transTime); } return ret; } /** * Add the next photo from the master array * @param {int} idx - {@link module:ss/views.Views} index to replace */ export function replacePhoto(idx) { if (idx &gt;= 0) { _replacePhoto(idx); } /** * Add the next photo from the master array * @param {int} idx - index into {@link module:ss/views.Views} * @private */ function _replacePhoto(idx) { if (SSViews.isSelectedIndex(idx)) { return; } const viewLength = SSViews.getCount(); const photoLen = SSPhotos.getCount(); if (photoLen &lt;= viewLength) { return; } const photo = SSPhotos.getNextUsable(); if (photo) { const view = SSViews.get(idx); view.setPhoto(photo); } } } Ã— Search results Close "},"screensaver_ss_photos.js.html":{"id":"screensaver_ss_photos.js.html","title":"Source: screensaver/ss_photos.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/ss_photos.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeUtils from '../../scripts/chrome-extension-utils/scripts/utils.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import SSPhoto from './ss_photo.js'; import SSView from './views/ss_view.js'; import * as SSViews from './ss_views.js'; /** * Collection of {@link module:ss/photo.SSPhoto} objects * @module ss/photos */ /** * The array of photos * @typedef {Array&lt;module:ss/photo.SSPhoto&gt;} module:ss/photos.Photos * @type module:ss/photos.Photos * @const * @private */ const _photos = []; /** * Current index into {@link module:ss/photos.Photos} * @type {int} * @private */ let _curIdx = 0; /** * Add the photos from an {@link module:sources/photo_source.Photos} * @param {module:sources/photo_source.Photos} source */ export function addFromSource(source) { const type = source.type; const viewType = SSViews.getType(); let ct = 0; for (const sourcePhoto of source.photos) { if (!SSView.ignore(sourcePhoto.asp, viewType)) { const photo = new SSPhoto(ct, sourcePhoto, type); _photos.push(photo); ct++; } } } /** * Get number of photos * @returns {int} The number of photos */ export function getCount() { return _photos.length; } /** * Do we have photos that aren't bad * @returns {boolean} true if at least one photo is good */ export function hasUsable() { return !_photos.every((photo) =&gt; { return photo.isBad(); }); } /** * Get the {@link module:ss/photo.SSPhoto} at the given index * @param {int} idx - The index * @returns {module:ss/photo.SSPhoto} A {@link module:ss/photo.SSPhoto} */ export function get(idx) { return _photos[idx]; } /** * Get the next {@link module:ss/photo.SSPhoto} that is usable * @returns {?module:ss/photo.SSPhoto} An {@link module:ss/photo.SSPhoto} */ export function getNextUsable() { // wrap-around loop: https://stackoverflow.com/a/28430482/4468645 for (let i = 0; i &lt; _photos.length; i++) { // find a url that is ok, AFAWK const index = (i + _curIdx) % _photos.length; const photo = _photos[index]; if (!photo.isBad() &amp;&amp; !SSViews.hasPhoto(photo)) { _curIdx = index; incCurrentIndex(); return photo; } } return null; } /** * Get current index into {@link _photos} * @returns {int} index */ export function getCurrentIndex() { return _curIdx; } /** * Get the next nun google photos * @param {int} num - max number to get * @param {int} idx - starting index * @returns {Array&lt;module:ss/photo.SSPhoto&gt;} array of photos num long or less */ export function getNextGooglePhotos(num, idx) { const photos = []; let ct = 0; // wrap-around loop: https://stackoverflow.com/a/28430482/4468645 for (let i = 0; i &lt; _photos.length; i++) { const index = (i + idx) % _photos.length; const photo = _photos[index]; if (ct &gt;= num) { break; } else if (photo.getType() === 'Google User') { photos.push(photo); ct++; } } return photos; } /** * Update the urls of the given photos * @param {module:sources/photo_source.Photo[]} photos */ export function updateGooglePhotoUrls(photos) { for (let i = _photos.length - 1; i &gt;= 0; i--) { if (_photos[i].getType() !== 'Google User') { continue; } const index = photos.findIndex((e) =&gt; { return e.ex.id === _photos[i].getEx().id; }); if (index &gt;= 0) { _photos[i].setUrl(photos[index].url); } } } /** * Set current index into {@link _photos} * @param {int} idx - The index */ export function setCurrentIndex(idx) { _curIdx = idx; } /** * Increment current index into {@link _photos} * @returns {int} new current index */ export function incCurrentIndex() { return _curIdx = (_curIdx === _photos.length - 1) ? 0 : _curIdx + 1; } /** * Randomize the photos */ export function shuffle() { ChromeUtils.shuffleArray(_photos); // renumber _photos.forEach((photo, index) =&gt; { photo.setId(index); }); } Ã— Search results Close "},"screensaver_ss_runner.js.html":{"id":"screensaver_ss_runner.js.html","title":"Source: screensaver/ss_runner.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/ss_runner.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import * as Screensaver from '../../elements/screensaver-element/screensaver-element.js'; import * as SSFinder from './ss_photo_finder.js'; import * as SSViews from './ss_views.js'; import * as SSHistory from './ss_history.js'; import * as SSTime from './ss_time.js'; /** * Control the running of a {@link module:els/screensaver.Screensaver} * @module ss/runner */ /** * Instance variables * @type {Object} * @property {boolean} started - true if slideshow started * @property {int} replaceIdx - page to replace with next photo * @property {int} lastSelected - last selected page * @property {int} waitTime - wait time when looking for photo in milliSecs * @property {boolean} interactive - is interaction allowed * @property {boolean} paused - is screensaver paused * @property {number} timeOutId - id of setTimeout * @private */ const _VARS = { started: false, replaceIdx: -1, lastSelected: -1, waitTime: 30000, interactive: false, paused: false, timeOutId: 0, }; /** * Start the slideshow * @param {int} [delay=2000] - delay before start */ export function start(delay = 2000) { const transTime = ChromeStorage.get('transitionTime', {'base': 30, 'display': 30, 'unit': 0}); setWaitTime(transTime.base * 1000); _VARS.interactive = ChromeStorage.getBool('interactive', false); SSHistory.initialize(); // start slide show. slight delay at beginning so we have a smooth start window.setTimeout(_runShow, delay); } /** * Get wait time between _runShow calls * @returns {int} current wait time */ export function getWaitTime() { return _VARS.waitTime; } /** * Set wait time between _runShow calls in milliSecs * @param {int} waitTime - wait time for next attempt to get photo */ export function setWaitTime(waitTime) { _VARS.waitTime = waitTime; // larger than 32 bit int is bad news // see: https://stackoverflow.com/a/3468650/4468645 _VARS.waitTime = Math.min(2147483647, waitTime); } /** * Set last selected index * @param {int} lastSelected - last index in {@link module:ss/views.Views} */ export function setLastSelected(lastSelected) { _VARS.lastSelected = lastSelected; } /** * Set last selected index * @param {int} idx - replace index in {@link module:ss/views.Views} */ export function setReplaceIdx(idx) { _VARS.replaceIdx = idx; } /** * Has the first page run * @returns {boolean} if animation has started */ export function isStarted() { return _VARS.started; } /** * Is interactive mode allowed * @returns {boolean} true if allowed */ export function isInteractive() { return _VARS.interactive; } /** * Are we paused * @returns {boolean} true if paused */ export function isPaused() { return _VARS.paused; } /** * Is the given idx a part of the current animation pair * @param {int} idx - index into {@link module:ss/views.Views} * @returns {boolean} if selected or last selected */ export function isCurrentPair(idx) { const selected = SSViews.getSelectedIndex(); return ((idx === selected) || (idx === _VARS.lastSelected)); } /** * Toggle paused state of the slideshow * @param {?int} [newIdx=null] optional idx to use for current idx */ export function togglePaused(newIdx = null) { if (_VARS.started) { _VARS.paused = !_VARS.paused; Screensaver.setPaused(_VARS.paused); if (_VARS.paused) { _stop(); } else { _restart(newIdx); } } } /** * Forward one slide */ export function forward() { if (_VARS.started) { _step(); } } /** * Backup one slide */ export function back() { if (_VARS.started) { const nextStep = SSHistory.back(); if (nextStep !== null) { _step(nextStep); } } } /** * Stop the animation * @private */ function _stop() { window.clearTimeout(_VARS.timeOutId); } /** * Restart the slideshow * @param {?int} [newIdx=null] optional idx to use for current idx * @private */ function _restart(newIdx = null) { const transTime = ChromeStorage.get('transitionTime'); if (transTime) { setWaitTime(transTime.base * 1000); } _runShow(newIdx); } /** * Increment the slide show manually * @param {?int} [newIdx=null] optional idx to use for current idx * @private */ function _step(newIdx = null) { if (isPaused()) { togglePaused(newIdx); togglePaused(); } else { _stop(); _restart(newIdx); } } /** * Self called at fixed time intervals to cycle through the photos * @param {?int} [newIdx=null] override selected * @private */ function _runShow(newIdx = null) { if (Screensaver.isNoPhotos()) { // no usable photos to show return; } const selected = SSViews.getSelectedIndex(); const viewLen = SSViews.getCount(); let curIdx = (newIdx === null) ? selected : newIdx; curIdx = !isStarted() ? 0 : curIdx; let nextIdx = (curIdx === viewLen - 1) ? 0 : curIdx + 1; if (!isStarted()) { // special case for first page. neon-animated-pages is configured // to run the entry animation for the first selection nextIdx = 0; } nextIdx = SSFinder.getNext(nextIdx); if (nextIdx !== -1) { // the next photo is ready if (!isStarted()) { _VARS.started = true; SSTime.setTime(); } // setup photo const view = SSViews.get(nextIdx); view.render(); // track the photo history SSHistory.add(newIdx, nextIdx, _VARS.replaceIdx); // update selected so the animation runs _VARS.lastSelected = selected; SSViews.setSelectedIndex(nextIdx); if (newIdx === null) { // load next photo from master array SSFinder.replacePhoto(_VARS.replaceIdx); _VARS.replaceIdx = _VARS.lastSelected; } } // set the next timeout, then call ourselves - runs unless interrupted _VARS.timeOutId = window.setTimeout(() =&gt; { _runShow(); }, _VARS.waitTime); } Ã— Search results Close "},"screensaver_ss_time.js.html":{"id":"screensaver_ss_time.js.html","title":"Source: screensaver/ss_time.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/ss_time.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import ChromeTime from '../../scripts/chrome-extension-utils/scripts/time.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import * as Screensaver from '../../elements/screensaver-element/screensaver-element.js'; import * as SSRunner from './ss_runner.js'; /** * Time handling for an {@link module:els/screensaver.Screensaver} * @module ss/time */ /** * Initialize the time display */ export function initialize() { const showTime = ChromeStorage.getInt('showTime', 0); if (showTime &gt; 0) { // update current time once a minute setInterval(setTime, 61 * 1000); } } /** * Set the time label */ export function setTime() { let label = ''; const showTime = ChromeStorage.getInt('showTime', 0); if ((showTime !== 0) &amp;&amp; SSRunner.isStarted()) { label = ChromeTime.getStringShort(); } Screensaver.setTimeLabel(label); } Ã— Search results Close "},"screensaver_ss_views.js.html":{"id":"screensaver_ss_views.js.html","title":"Source: screensaver/ss_views.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/ss_views.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeStorage from '../../scripts/chrome-extension-utils/scripts/storage.js'; import * as ChromeUtils from '../../scripts/chrome-extension-utils/scripts/utils.js'; import '../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import * as Screensaver from '../../elements/screensaver-element/screensaver-element.js'; import * as SSRunner from './ss_runner.js'; import * as SSHistory from './ss_history.js'; import * as SSPhotos from './ss_photos.js'; import './views/ss_view.js'; import * as SSViewFactory from './views/ss_view_factory.js'; /** * Collection of {@link module:ss/views/view.SSView} objects * @module ss/views */ /** * Enum for view type * @typedef {int} module:ss/views.Type * @readonly * @enum {int} */ export const Type = { UNDEFINED: -1, LETTERBOX: 0, ZOOM: 1, FRAME: 2, FULL: 3, RANDOM: 4, }; /** * Max number of views * @type {int} * @const * @private */ const _MAX_VIEWS = 10; /** * The array of views * @typedef {Array&lt;module:ss/views/view.SSView&gt;} module:ss/views.Views * @type module:ss/views.Views * @const * @private */ const _views = []; /** * The neon-animated-pages * @type {Element|null} * @private */ let _pages = null; /** * The view type * @type {module:ss/views.Type} * @private */ let _type = Type.UNDEFINED; /** * Process settings related to the photo's appearance * @private */ function _setViewType() { _type = ChromeStorage.getInt('photoSizing', 0); if (_type === Type.RANDOM) { // pick random sizing _type = ChromeUtils.getRandomInt(0, 3); } /** @type {?string} */ let type = 'contain'; switch (_type) { case Type.LETTERBOX: type = 'contain'; break; case Type.ZOOM: type = 'cover'; break; case Type.FRAME: case Type.FULL: type = null; break; default: break; } Screensaver.setSizingType(type); } /** * Create the {@link module:ss/views/view.SSView} pages * @param {PolymerElement} t */ export function create(t) { _pages = t.$.pages; _setViewType(); const len = Math.min(SSPhotos.getCount(), _MAX_VIEWS); for (let i = 0; i &lt; len; i++) { const photo = SSPhotos.get(i); const view = SSViewFactory.create(photo, _type); _views.push(view); } SSPhotos.setCurrentIndex(len); // set and force render of animated pages t.set('_views', _views); t.$.repeatTemplate.render(); // set the Elements of each view _views.forEach((view, index) =&gt; { const el = _pages.querySelector('#view' + index); const image = el.querySelector('.image'); const author = el.querySelector('.author'); const time = el.querySelector('.time'); const location = el.querySelector('.location'); const model = t.$.repeatTemplate.modelForElement(el); view.setElements(image, author, time, location, model); }); } /** * Get the type of view * @returns {module:ss/views.Type} */ export function getType() { if (_type === Type.UNDEFINED) { _setViewType(); } return _type; } /** * Get number of views * @returns {int} */ export function getCount() { return _views.length; } /** * Get the {@link module:ss/views/view.SSView} at the given index * @param {int} idx - The index * @returns {module:ss/views/view.SSView} */ export function get(idx) { return _views[idx]; } /** * Get the selected index * @returns {int|undefined} The index */ export function getSelectedIndex() { if (_pages) { // noinspection JSUnresolvedVariable return _pages.selected; } // noinspection UnnecessaryReturnStatementJS return; } /** * Set the selected index * @param {int} selected */ export function setSelectedIndex(selected) { _pages.selected = selected; } /** * Is the given idx the selected index * @param {int} idx - index into {@link module:ss/views.Views} * @returns {boolean} true if selected */ export function isSelectedIndex(idx) { let ret = false; // noinspection JSUnresolvedVariable if (_pages &amp;&amp; (idx === _pages.selected)) { ret = true; } return ret; } /** * Is the given {@link module:ss/photo.SSPhoto} in one of the {@link module:ss/views.Views} * @param {module:ss/photo.SSPhoto} photo * @returns {boolean} true if in {@link module:ss/views.Views} */ export function hasPhoto(photo) { let ret = false; for (const view of _views) { if (view.photo.getId() === photo.getId()) { ret = true; break; } } return ret; } /** * Do we have a view with a usable photo * @returns {boolean} true if at least one photo is valid */ export function hasUsable() { let ret = false; for (let i = 0; i &lt; _views.length; i++) { const view = _views[i]; if (SSRunner.isCurrentPair(i)) { // don't check current animation pair continue; } if (!view.photo.isBad()) { ret = true; break; } } return ret; } /** * Replace all views */ export function replaceAll() { for (let i = 0; i &lt; _views.length; i++) { if (SSRunner.isCurrentPair(i)) { // don't replace current animation pair continue; } const view = _views[i]; const photo = SSPhotos.getNextUsable(); if (photo) { view.setPhoto(photo); } else { // all bad break; } } SSHistory.clear(); } /** * Try to find a photo that has finished loading * @param {int} idx - index into {@link module:ss/views.Views} * @returns {int} index into {@link module:ss/views.Views}, -1 if none are loaded */ export function findLoadedPhoto(idx) { if (!hasUsable()) { // replace the photos replaceAll(); } if ((_views[idx] !== undefined) &amp;&amp; _views[idx].isLoaded()) { return idx; } // wrap-around loop: https://stackoverflow.com/a/28430482/4468645 for (let i = 0; i &lt; _views.length; i++) { const index = (i + idx) % _views.length; const view = _views[index]; if (SSRunner.isCurrentPair(index)) { // don't use current animation pair continue; } if (view.isLoaded()) { return index; } else if (view.isError() &amp;&amp; !view.photo.isBad()) { view.photo.markBad(); if (!SSPhotos.hasUsable()) { // all photos bad Screensaver.setNoPhotos(); return -1; } } } return -1; } Ã— Search results Close "},"screensaver_views_ss_view.js.html":{"id":"screensaver_views_ss_view.js.html","title":"Source: screensaver/views/ss_view.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/views/ss_view.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ // TODO add back // import * as ChromeGA // from '../../../scripts/chrome-extension-utils/scripts/analytics.js'; import * as ChromeLocale from '../../../scripts/chrome-extension-utils/scripts/locales.js'; import * as ChromeStorage from '../../../scripts/chrome-extension-utils/scripts/storage.js'; import * as ChromeUtils from '../../../scripts/chrome-extension-utils/scripts/utils.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; // TODO add back // import * as Geo from '../geo.js'; /** * Base class for other SSView classes * @module ss/views/view */ /** * Aspect ratio of screen * @type {number} * @private * @const */ const _SCREEN_AR = screen.width / screen.height; /** * Base class for other SSView classes * @property {Element} image - paper-image * @property {Element} author - label * @property {Element} time - label * @property {Element} location - Geo location * @property {Object} model - template item model * @property {string} url - photo url, binding * @property {string} authorLabel - author text, binding * @property {string} locationLabel - location text, binding * @alias module:ss/views/view.SSView */ class SSView { /** * Create a new SSView * @param {module:ss/photo.SSPhoto} photo - An {@link module:ss/photo.SSPhoto} */ constructor(photo) { this.photo = photo; this.image = null; this.author = null; this.time = null; this.location = null; this.model = null; this.url = photo.getUrl(); this.authorLabel = ''; this.locationLabel = ''; } /** * Call notifyPath after set because dirty checking doesn't always work * @param {Object} model - model to change * @param {string} prop - property name * @param {Object} value - property value * @private */ static _dirtySet(model, prop, value) { model.set(prop, value); model.notifyPath(prop); } /** * Determine if a photo would look bad zoomed or stretched on the screen * @param {number} asp - an aspect ratio * @returns {boolean} true if a photo aspect ratio differs substantially * from the screens' * @private */ static _isBadAspect(asp) { // arbitrary const CUT_OFF = 0.5; return (asp &lt; _SCREEN_AR - CUT_OFF) || (asp &gt; _SCREEN_AR + CUT_OFF); } /** * Determine if a given aspect ratio should be ignored * @param {number} asp - an aspect ratio * @param {int} photoSizing - the sizing type * @returns {boolean} true if the aspect ratio should be ignored */ static ignore(asp, photoSizing) { let ret = false; const skip = ChromeStorage.getBool('skip'); if ((!asp || isNaN(asp)) || (skip &amp;&amp; ((photoSizing === 1) || (photoSizing === 3)) &amp;&amp; SSView._isBadAspect(asp))) { // ignore photos that don't have aspect ratio // or would look bad with cropped or stretched sizing options ret = true; } return ret; } /** * Should we show the location, if available * @returns {boolean} true if we should show the location * @static */ static _showLocation() { return ChromeStorage.getBool('showLocation'); } /** * Should we show the time * @returns {boolean} true if we should show the time * @static */ static showTime() { return ChromeStorage.getBool('showTime'); } /** * Does a photo have an author label to show * @returns {boolean} true if we should show the author */ _hasAuthor() { const photographer = this.photo.getPhotographer(); return !ChromeUtils.isWhiteSpace(photographer); } /** * Does a view have an author label set * @returns {boolean} true if author label is not empty */ _hasAuthorLabel() { return !ChromeUtils.isWhiteSpace(this.authorLabel); } /** * Does a photo have a geolocation * @returns {boolean} true if geolocation point is non-null */ _hasLocation() { return !!this.photo.getPoint(); } /** * Does a view have an location label set * @returns {boolean} true if location label is not empty */ _hasLocationLabel() { return !ChromeUtils.isWhiteSpace(this.locationLabel); } /** * Set the style for the time label */ _setTimeStyle() { if (ChromeStorage.getBool('largeTime')) { this.time.style.fontSize = '8.5vh'; this.time.style.fontWeight = 300; } } /** * Set the url * @param {?string} url to use if not null */ setUrl(url = null) { this.url = url || this.photo.getUrl(); SSView._dirtySet(this.model, 'view.url', this.url); } /** * Flag the photo in this view to bad */ markPhotoBad() { if (this.photo) { this.photo.markBad(); } } /** * Set the author text */ _setAuthorLabel() { this.authorLabel = ''; SSView._dirtySet(this.model, 'view.authorLabel', this.authorLabel); const type = this.photo.getType(); const photographer = this.photo.getPhotographer(); let newType = type; const idx = type.search('User'); if (!ChromeStorage.getBool('showPhotog') &amp;&amp; (idx !== -1)) { // don't show label for user's own photos, if requested return; } if (idx !== -1) { // strip off 'User' newType = type.substring(0, idx - 1); } if (this._hasAuthor()) { this.authorLabel = `${photographer} / ${newType}`; } else { // no photographer name this.authorLabel = `${ChromeLocale.localize('photo_from')} ${newType}`; } SSView._dirtySet(this.model, 'view.authorLabel', this.authorLabel); } /** * Set the geolocation text */ _setLocationLabel() { this.locationLabel = ''; SSView._dirtySet(this.model, 'view.locationLabel', this.locationLabel); // TODO add back if we do geo location again // if (SSView._showLocation() &amp;&amp; this._hasLocation()) { // const point = this.photo.getPoint(); // Geo.get(point).then((location) =&gt; { // if (location &amp;&amp; this.model) { // location = location.replace('Unnamed Road, ', ''); // this.locationLabel = location; // SSView._dirtySet(this.model, 'view.locationLabel', // this.locationLabel); // } // return null; // }).catch((err) =&gt; { // const networkErr = ChromeLocale.localize('err_network'); // if (!err.message.includes(networkErr)) { // ChromeGA.error(`${err.message}, point: ${point}`, // 'SSView._setLocationLabel'); // } // }); // } } /** * Set the elements of the view * @param {Element} image - paper-image, photo * @param {Element} author - div, photographer * @param {Element} time - div, current time * @param {Element} location - div, geolocation text * @param {Object} model - template item model */ setElements(image, author, time, location, model) { this.image = image; this.author = author; this.time = time; this.location = location; this.model = model; this._setTimeStyle(); this.setPhoto(this.photo); } /** * Set the photo * @param {module:ss/photo.SSPhoto} photo - a photo to render */ setPhoto(photo) { this.photo = photo; this.setUrl(); this._setAuthorLabel(false); this._setLocationLabel(); } /** * Render the page for display - the default CSS is for our view * subclasses override this to determine the look of photo */ render() {} /** * Determine if a photo failed to load (usually 404 or 403 error) * @returns {boolean} true if image load failed */ isError() { return !this.image || this.image.error; } /** * Determine if a photo has finished loading * @returns {boolean} true if image is loaded */ isLoaded() { return !!this.image &amp;&amp; this.image.loaded; } } export default SSView; Ã— Search results Close "},"screensaver_views_ss_view_factory.js.html":{"id":"screensaver_views_ss_view_factory.js.html","title":"Source: screensaver/views/ss_view_factory.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/views/ss_view_factory.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeLog from '../../../scripts/chrome-extension-utils/scripts/log.js'; import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import SSViewZoom from './ss_view_zoom.js'; import SSViewFrame from './ss_view_frame.js'; import SSViewFull from './ss_view_full.js'; import SSViewLetterbox from './ss_view_letterbox.js'; import * as SSViews from '../ss_views.js'; /** * Factory to create {@link module:ss/views/view.SSView} instances * @module ss/views/view_factory */ /** * Factory Method to create a new {@link module:ss/views/view.SSView} subclass * @param {module:ss/photo.SSPhoto} photo - An {@link module:module:ss/photo.SSPhoto} * @param {module:ss/views.Type} type - photo sizing type * @returns {Object} a new {@link module:ss/views/view.SSView} subclass of the given type */ export function create(photo, type) { switch (type) { case SSViews.Type.LETTERBOX: return new SSViewLetterbox(photo); case SSViews.Type.ZOOM: return new SSViewZoom(photo); case SSViews.Type.FRAME: return new SSViewFrame(photo); case SSViews.Type.FULL: return new SSViewFull(photo); default: ChromeLog.error(`Bad SSView type: ${type}`, 'SSView.createView'); return new SSViewLetterbox(photo); } } Ã— Search results Close "},"screensaver_views_ss_view_frame.js.html":{"id":"screensaver_views_ss_view_frame.js.html","title":"Source: screensaver/views/ss_view_frame.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/views/ss_view_frame.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import SSView from './ss_view.js'; /** * Frame view * @module ss/views/view_frame */ /** * Frame view * @extends module:ss/views/view.SSView * @alias module:ss/views/view_frame.SSViewFrame */ class SSViewFrame extends SSView { /** * Create new SSViewFrame * @param {module:ss/photo.SSPhoto} photo * @constructor */ constructor(photo) { super(photo); } /** * Set style info for a label * @param {Object} style - element.style object * @param {int} width - frame width * @param {int} height - frame height * @param {boolean} isLeft - if true align left, else right * @static * @private */ static _setLabelStyle(style, width, height, isLeft) { style.textOverflow = 'ellipsis'; style.whiteSpace = 'nowrap'; style.color = 'black'; style.opacity = 1.0; style.fontSize = '2.5vh'; style.fontWeight = 400; // percent of screen width for label padding let padPer = 0.5; // percent of screen width of image let imgWidthPer = (width / screen.width) * 100; // percent of screen width on each side of image let sidePer = (100 - imgWidthPer) / 2; if (isLeft) { style.left = sidePer + padPer + 'vw'; style.right = ''; style.textAlign = 'left'; } else { style.right = sidePer + padPer + 'vw'; style.left = ''; style.textAlign = 'right'; } style.width = imgWidthPer - 2 * padPer + 'vw'; // percent of screen height of image let imgHtPer = (height / screen.height) * 100; // percent of screen height on each side of image let topPer = (100 - imgHtPer) / 2; style.bottom = topPer + 1.1 + 'vh'; } /** * Render the page for display */ render() { super.render(); const authorStyle = this.author.style; const locationStyle = this.location.style; const timeStyle = this.time.style; const image = this.image; const imageStyle = image.style; // noinspection JSUnresolvedVariable const img = image.$.img; const imgStyle = img.style; /** @type {module:ss/photo.SSPhoto} */ const photo = this.photo; const ar = photo.getAspectRatio(); // scale to screen size const border = screen.height * 0.005; const borderBot = screen.height * 0.05; const padding = screen.height * 0.025; const height = Math.min((screen.width - padding * 2 - border * 2) / ar, screen.height - padding * 2 - border - borderBot); const width = height * ar; // size with the frame const frWidth = width + border * 2; const frHeight = height + borderBot + border; imgStyle.height = height + 'px'; imgStyle.width = width + 'px'; image.height = height; image.width = width; imageStyle.top = (screen.height - frHeight) / 2 + 'px'; imageStyle.left = (screen.width - frWidth) / 2 + 'px'; imageStyle.border = 0.5 + 'vh ridge WhiteSmoke'; imageStyle.borderBottom = 5 + 'vh solid WhiteSmoke'; imageStyle.borderRadius = '1.5vh'; imageStyle.boxShadow = '1.5vh 1.5vh 1.5vh rgba(0,0,0,.7)'; SSViewFrame._setLabelStyle(authorStyle, frWidth, frHeight, false); SSViewFrame._setLabelStyle(locationStyle, frWidth, frHeight, true); // percent of screen height of image let imgHtPer = (frHeight / screen.height) * 100; // percent of screen height on each side of image let topPer = (100 - imgHtPer) / 2; // percent of screen width of image let imgWidthPer = (frWidth / screen.width) * 100; // percent of screen width on each side of image let sidePer = (100 - imgWidthPer) / 2; timeStyle.right = sidePer + 1.0 + 'vw'; timeStyle.textAlign = 'right'; timeStyle.bottom = topPer + 5.0 + 'vh'; // percent of half the width of image let maxWidth = imgWidthPer / 2; if (this._hasLocationLabel()) { // limit author width if we also have a location authorStyle.maxWidth = maxWidth - 1 + 'vw'; } if (this._hasAuthorLabel()) { // limit location width if we also have an author locationStyle.maxWidth = maxWidth - 1 + 'vw'; } } } export default SSViewFrame; Ã— Search results Close "},"screensaver_views_ss_view_full.js.html":{"id":"screensaver_views_ss_view_full.js.html","title":"Source: screensaver/views/ss_view_full.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/views/ss_view_full.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import SSView from './ss_view.js'; /** * Full view * @module ss/views/view_full */ /** * Full view * @extends module:ss/views/view.SSView * @alias module:ss/views/view_full.SSViewFull */ class SSViewFull extends SSView { /** * Create new SSViewFull * @param {module:ss/photo.SSPhoto} photo - An {@link module:ss/photo.SSPhoto} * @constructor */ constructor(photo) { super(photo); } /** * Render the page for display */ render() { super.render(); // noinspection JSUnresolvedVariable const img = this.image.$.img; img.style.width = '100%'; img.style.height = '100%'; img.style.objectFit = 'fill'; } } export default SSViewFull; Ã— Search results Close "},"screensaver_views_ss_view_letterbox.js.html":{"id":"screensaver_views_ss_view_letterbox.js.html","title":"Source: screensaver/views/ss_view_letterbox.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/views/ss_view_letterbox.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import SSView from './ss_view.js'; /** * Letterbox view * @module ss/views/view_letterbox */ /** * Aspect ratio of screen * @type {number} * @const * @private */ const _SCREEN_AR = screen.width / screen.height; /** * Letterbox view * @extends module:ss/views/view.SSView * @alias module:ss/views/view_letterbox.SSViewLetterbox */ class SSViewLetterbox extends SSView { /** * Create new SSView * @param {module:ss/photo.SSPhoto} photo - An {@link module:ss/photo.SSPhoto} * @constructor */ constructor(photo) { super(photo); } /** * Render the page for display */ render() { super.render(); const ar = this.photo.getAspectRatio(); const authorStyle = this.author.style; const locationStyle = this.location.style; const timeStyle = this.time.style; // percent of the screen width of image let imgWidthPer = ((ar / _SCREEN_AR * 100)); imgWidthPer = Math.min(imgWidthPer, 100.0); let right = (100 - imgWidthPer) / 2; // percent of the screen height of image let imgHeightPer = ((_SCREEN_AR / ar * 100)); imgHeightPer = Math.min(imgHeightPer, 100.0); let bottom = (100 - imgHeightPer) / 2; authorStyle.textAlign = 'right'; locationStyle.textAlign = 'left'; authorStyle.right = (right + 1) + 'vw'; authorStyle.bottom = (bottom + 1) + 'vh'; authorStyle.width = imgWidthPer - .5 + 'vw'; locationStyle.left = (right + 1) + 'vw'; locationStyle.bottom = (bottom + 1) + 'vh'; locationStyle.width = imgWidthPer - .5 + 'vw'; timeStyle.right = (right + 1) + 'vw'; timeStyle.bottom = (bottom + 3.5) + 'vh'; if (SSView.showTime()) { // don't wrap author authorStyle.textOverflow = 'ellipsis'; authorStyle.whiteSpace = 'nowrap'; } // percent of half the width of image let maxWidth = imgWidthPer / 2; if (this._hasLocationLabel()) { // limit author width if we also have a location authorStyle.maxWidth = maxWidth - 1.1 + 'vw'; } if (this._hasAuthorLabel()) { // limit location width if we also have an author locationStyle.maxWidth = maxWidth - 1.1 + 'vw'; } } } export default SSViewLetterbox; Ã— Search results Close "},"screensaver_views_ss_view_zoom.js.html":{"id":"screensaver_views_ss_view_zoom.js.html","title":"Source: screensaver/views/ss_view_zoom.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: screensaver/views/ss_view_zoom.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import '../../../scripts/chrome-extension-utils/scripts/ex_handler.js'; import SSView from './ss_view.js'; /** * Zoom view * @module ss/views/view_zoom */ /** * Zoom view * @extends module:ss/views/view.SSView * @alias module:ss/views/view_zoom.SSViewZoom */ class SSViewZoom extends SSView { /** * Create new SSViewFull * @param {module:ss/photo.SSPhoto} photo - An {@link module:ss/photo.SSPhoto} * @constructor */ constructor(photo) { super(photo); } /** * Render the page for display */ render() { super.render(); } } export default SSViewZoom; Ã— Search results Close "},"my_utils.js.html":{"id":"my_utils.js.html","title":"Source: my_utils.js","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Source: my_utils.js /* * Copyright (c) 2015-2019, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/screensaver/blob/master/LICENSE.md */ import * as ChromeStorage from '../scripts/chrome-extension-utils/scripts/storage.js'; import * as ChromeUtils from '../scripts/chrome-extension-utils/scripts/utils.js'; import '../scripts/chrome-extension-utils/scripts/ex_handler.js'; /** * Misc. utility methods * @module utils */ /** * True if development build * @type {boolean} * @private */ const _DEBUG = false; /** * True if development build * @type {boolean} */ export const DEBUG = _DEBUG; /** * Get our email address * @returns {string} email address */ export function getEmail() { return 'photoscreensaver@gmail.com'; } /** * Get body for an email with basic extension info * @returns {string} text */ export function getEmailBody() { return `Extension version: ${ChromeUtils.getVersion()}\\n` + `Chrome version: ${ChromeUtils.getFullChromeVersion()}\\n` + `OS: ${ChromeStorage.get('os')}\\n\\n\\n`; } /** * Get encoded url for an email * @param {string} subject - email subject * @param {string} body - email body * @returns {string} encoded url */ export function getEmailUrl(subject, body) { const email = encodeURIComponent(getEmail()); const sub = encodeURIComponent(subject); const bod = encodeURIComponent(body); return `mailto:${email}?subject=${sub}&amp;body=${bod}`; } /** * Get our Github base path * @returns {string} path */ export function getGithubPath() { return 'https://github.com/opus1269/screensaver/'; } /** * Get our Github pages base path * @returns {string} path */ export function getGithubPagesPath() { if (DEBUG) { return 'http://127.0.0.1:4000/'; } else { return 'https://opus1269.github.io/screensaver/'; } } Ã— Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Modules Classes ExHandler LastError ChromeTime PhotoSource CCSource FlickrSource GoogleSource RedditSource SSPhoto SSView SSViewFrame SSViewFull SSViewLetterbox SSViewZoom Events confirm-tap Fired when the confirm button is tapped Source: confirm-dialog/confirm-dialog.js, line 79 confirm-tap Fired when the confirm button is tapped Source: error-dialog/error-dialog.js, line 74 no-albums Fired when there are no albums. Source: pages/google-photos-page/albums-view.js, line 200 value-changed Fired when the user changes the selected state. Source: pages/google-photos-page/photo_cat.js, line 75 Ã— Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Classes Classes ExHandler LastError ChromeTime PhotoSource CCSource FlickrSource GoogleSource RedditSource SSPhoto SSView SSViewFrame SSViewFull SSViewLetterbox SSViewZoom Events confirm-tap Fired when the confirm button is tapped Source: confirm-dialog/confirm-dialog.js, line 79 confirm-tap Fired when the confirm button is tapped Source: error-dialog/error-dialog.js, line 74 no-albums Fired when there are no albums. Source: pages/google-photos-page/albums-view.js, line 200 value-changed Fired when the user changes the selected state. Source: pages/google-photos-page/photo_cat.js, line 75 Ã— Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Photo Screen Saver Chrome ExtensionThis extension displays a screensaver composed of a slide show of photos from multiple sources. Supported photo sources include: Your Google Photos - Note: Shared Albums are not supported Some background photos used by Chromecast Several sources from reddit Interesting photos from Flickr Note: Photos from the local file system are not supported. Many options are available to control the appearance of the slide show, including: Wait time after machine becomes idle to display screensaver Between photo time interval Photo display mode - (e.g., letterbox, fill screen) Photo transition animations - (e.g., fade, scale up) A scheduler to control when the screensaver, display, and computer should remain on Do not display over full screen Chrome windows (e.g., YouTube, Netflix) Show on all displays Display time Works great on all platforms but may be especially useful for your Chromebook. It is free and advertising free. It is implemented using Vanilla JavaScript and Polymer 3. View in Chrome Web Store GitHub Pages Ã— Search results Close "},"module-els_confirm_dialog.html":{"id":"module-els_confirm_dialog.html","title":"Module: els/confirm_dialog","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/confirm_dialog Module for ConfirmDialog Source: confirm-dialog/confirm-dialog.js, line 33 Members &lt;static, constant&gt; ConfirmDialog :Object Polymer dialog to confirm an action Type: Object Source: confirm-dialog/confirm-dialog.js, line 44 Methods &lt;private, inner&gt; _onConfirmTapped() Event: Dialog confirm button click Source: confirm-dialog/confirm-dialog.js, line 95 &lt;private, inner&gt; close() Hide the dialog Source: confirm-dialog/confirm-dialog.js, line 126 &lt;private, inner&gt; open( [text] [, title] [, confirmLabel]) Show the dialog Parameters: Name Type Argument Description text string &lt;optional&gt; title string &lt;optional&gt; confirmLabel string &lt;optional&gt; &lt;nullable&gt; Source: confirm-dialog/confirm-dialog.js, line 107 Events confirm-tap Fired when the confirm button is tapped Source: confirm-dialog/confirm-dialog.js, line 79 Ã— Search results Close "},"module-els_error_dialog.html":{"id":"module-els_error_dialog.html","title":"Module: els/error_dialog","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/error_dialog Module for ErrorDialog Source: error-dialog/error-dialog.js, line 28 Members &lt;static, constant&gt; ErrorDialog :Object Polymer dialog to display an error Type: Object Source: error-dialog/error-dialog.js, line 39 Methods &lt;private, inner&gt; _onConfirmTapped() Event: Dialog confirm button click Source: error-dialog/error-dialog.js, line 90 &lt;private, inner&gt; close() Hide the dialog Source: error-dialog/error-dialog.js, line 116 &lt;private, inner&gt; open(title, text) Show the dialog Parameters: Name Type Description title string text string Source: error-dialog/error-dialog.js, line 100 Events confirm-tap Fired when the confirm button is tapped Source: error-dialog/error-dialog.js, line 74 Ã— Search results Close "},"module-els_pgs_google_photos_albums_view.html":{"id":"module-els_pgs_google_photos_albums_view.html","title":"Module: els/pgs/google_photos/albums_view","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/pgs/google_photos/albums_view Module for the AlbumsView element Source: pages/google-photos-page/albums-view.js, line 55 Members &lt;private, inner, constant&gt; _MAX_ALBUMS :int Max number of albums to select Type: int Source: pages/google-photos-page/albums-view.js, line 66 &lt;private, inner, constant&gt; _MAX_PHOTOS :int Max number of total photos to select Type: int Source: pages/google-photos-page/albums-view.js, line 74 &lt;private, inner&gt; _selections :Array.&lt;module:sources/photo_source_google.SelectedAlbum&gt; The array of module:sources/photo_source_google.SelectedAlbum Type: Array.&lt;module:sources/photo_source_google.SelectedAlbum&gt; Source: pages/google-photos-page/albums-view.js, line 81 Methods &lt;private, inner&gt; _computeHidden(waitForLoad, permPicasa) â†’ {boolean} Computed property: Hidden state of main interface Parameters: Name Type Description waitForLoad boolean true if loading permPicasa string permission state Source: pages/google-photos-page/albums-view.js, line 605 Returns: true if hidden Type boolean &lt;private, inner&gt; _computePhotoLabel(count) â†’ {string} Computed binding: Set photo count label on an album Parameters: Name Type Description count int number of photos in album Source: pages/google-photos-page/albums-view.js, line 619 Returns: i18n label Type string &lt;private, inner&gt; _getTotalPhotoCount() â†’ {Promise.&lt;int&gt;} Get total photo count that is currently saved Source: pages/google-photos-page/albums-view.js, line 570 Returns: Total number of photos saved Type Promise.&lt;int&gt; &lt;private, inner&gt; _loadAlbum(album [, wait]) â†’ {Promise.&lt;boolean&gt;} Load an album from the Web Parameters: Name Type Argument Default Description album module:sources/photo_source_google.Album wait boolean &lt;optional&gt; true if true handle waiter Source: pages/google-photos-page/albums-view.js, line 441 Returns: true, if successful Type Promise.&lt;boolean&gt; &lt;private, inner&gt; _onAlbumSelectChanged(ev) â†’ {Promise.&lt;void&gt;} Event: Album checkbox state changed Parameters: Name Type Description ev Event checkbox state changed Properties Name Type Description model.album module:sources/photo_source_google.Album the album Source: pages/google-photos-page/albums-view.js, line 358 Returns: Type Promise.&lt;void&gt; &lt;private, inner&gt; _onMessage(request [, sender] [, response]) â†’ {boolean} Event: Fired when a message is sent from either an extension process (by runtime.sendMessage) or a content script (by tabs.sendMessage). Parameters: Name Type Argument Description request module:chrome/msg.Message details for the message sender Object &lt;optional&gt; MessageSender object response function &lt;optional&gt; function to call once after processing Source: pages/google-photos-page/albums-view.js, line 404 See: https://developer.chrome.com/extensions/runtime#event-onMessage Returns: true if asynchronous Type boolean &lt;private, inner&gt; _selectSavedAlbums() Set the checked state based on the currently saved albums Source: pages/google-photos-page/albums-view.js, line 584 &lt;private, inner&gt; _updateSavedAlbums() â†’ {Promise.&lt;boolean&gt;} Fetch the photos for all the saved albums Source: pages/google-photos-page/albums-view.js, line 527 Returns: false if we failed Type Promise.&lt;boolean&gt; &lt;private, inner&gt; _waitForLoadChanged(newValue) Observer: waiter changed Parameters: Name Type Description newValue boolean state Source: pages/google-photos-page/albums-view.js, line 424 &lt;inner&gt; loadAlbumList( [updatePhotos]) â†’ {Promise.&lt;null&gt;} Query Google Photos for the list of the users albums Parameters: Name Type Argument Default Description updatePhotos boolean &lt;optional&gt; false if true, reload each selected album Source: pages/google-photos-page/albums-view.js, line 260 Returns: always resolves Type Promise.&lt;null&gt; &lt;inner&gt; ready() Element is ready Source: pages/google-photos-page/albums-view.js, line 250 &lt;inner&gt; removeSelectedAlbums() Remove selected albums Source: pages/google-photos-page/albums-view.js, line 341 &lt;inner&gt; selectAllAlbums() â†’ {Promise.&lt;void&gt;} Select as many albums as possible Source: pages/google-photos-page/albums-view.js, line 313 Returns: Type Promise.&lt;void&gt; Events no-albums Fired when there are no albums. Source: pages/google-photos-page/albums-view.js, line 200 Ã— Search results Close "},"module-els_pgs_google_photos_photo_cat.html":{"id":"module-els_pgs_google_photos_photo_cat.html","title":"Module: els/pgs/google_photos/photo_cat","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/pgs/google_photos/photo_cat Module for the PhotoCat element Source: pages/google-photos-page/photo_cat.js, line 32 Methods &lt;private, inner&gt; _onCheckedChange(ev) Event: checkbox tapped Parameters: Name Type Description ev Event Source: pages/google-photos-page/photo_cat.js, line 111 Events value-changed Fired when the user changes the selected state. Source: pages/google-photos-page/photo_cat.js, line 75 Ã— Search results Close "},"module-analytics.html":{"id":"module-analytics.html","title":"Module: analytics","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: analytics Manage Google Analytics tracking Source: my_analytics.js, line 13 Members &lt;static, constant&gt; EVENT :Object Event types Type: Object Properties: Name Type Description CHROME_SIGN_OUT ChromeGA.Event Chrome sign out LOAD_ALBUM_LIST ChromeGA.Event album list SELECT_ALBUM ChromeGA.Event user selected album LOAD_ALBUM ChromeGA.Event album LOAD_PHOTO ChromeGA.Event photo LOAD_PHOTOS ChromeGA.Event photos LOAD_FILTERED_PHOTOS ChromeGA.Event filtered photos FETCH_ALBUMS ChromeGA.Event update albums from web FETCH_PHOTOS ChromeGA.Event update photos from web PHOTOS_LIMITED ChromeGA.Event did not load all photos in album ALBUMS_LIMITED ChromeGA.Event limited photo selections VIEW_PHOTO ChromeGA.Event view original source of photo Source: my_analytics.js, line 43 &lt;private, inner, constant&gt; _TRACKING_ID :string Tracking ID Type: string Source: my_analytics.js, line 24 Methods &lt;static&gt; initialize() Initialize analytics Source: my_analytics.js, line 114 Ã— Search results Close "},"module-bg_alarm.html":{"id":"module-bg_alarm.html","title":"Module: bg/alarm","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: bg/alarm Manage alarms from the chrome.alarms API Source: background/alarm.js, line 21 See: https://developer.chrome.com/apps/alarms Members &lt;private, static, constant&gt; Alarms :JSON Alarms triggered by chrome.alarms Type: JSON Properties: Name Type Description ACTIVATE string screen saver is active DEACTIVATE string screen saver is not activate UPDATE_PHOTOS string photo sources should be updated BADGE_TEXT string icon's Badge text should be set Source: background/alarm.js, line 29 Methods &lt;static&gt; updateBadgeText() Set the icon badge text Source: background/alarm.js, line 97 &lt;static&gt; updateRepeatingAlarms() Set the repeating alarms states Source: background/alarm.js, line 50 &lt;private, inner&gt; _onAlarm(alarm) Event: Fired when an alarm has elapsed. Parameters: Name Type Description alarm Object details on alarm Source: background/alarm.js, line 160 See: https://developer.chrome.com/apps/alarms#event-onAlarm &lt;private, inner&gt; _onLoad() Event: called when document and resources are loaded Source: background/alarm.js, line 188 &lt;private, inner&gt; _setActiveState() Set state when the screensaver is in the active time range Source: background/alarm.js, line 108 &lt;private, inner&gt; _setBadgeText() Set the Badge text on the icon Source: background/alarm.js, line 143 &lt;private, inner&gt; _setInactiveState() Set state when the screensaver is in the inactive time range Source: background/alarm.js, line 129 Ã— Search results Close "},"module-bg_background.html":{"id":"module-bg_background.html","title":"Module: bg/background","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: bg/background The background script for the extension. Source: background/background.js, line 28 Methods &lt;private, inner&gt; _onChromeMessage(request [, sender] [, response]) â†’ {boolean} Event: Fired when a message is sent from either an extension process (by runtime.sendMessage) or a content script (by tabs.sendMessage). Parameters: Name Type Argument Description request module:chrome/msg.Message details for the message sender Object &lt;optional&gt; MessageSender object response function &lt;optional&gt; function to call once after processing Source: background/background.js, line 129 See: https://developer.chrome.com/extensions/runtime#event-onMessage Returns: true if asynchronous Type boolean &lt;private, inner&gt; _onIconClicked() Event: Fired when a browser action icon is clicked. Source: background/background.js, line 103 See: https://goo.gl/abVwKu &lt;private, inner&gt; _onInstalled(details) Event: Fired when the extension is first installed, when the extension is updated to a new version, and when Chrome is updated to a new version. Parameters: Name Type Description details Object type of event Properties Name Type Description reason string reason for install previousVersion string old version if 'update' reason Source: background/background.js, line 55 See: https://developer.chrome.com/extensions/runtime#event-onInstalled &lt;private, inner&gt; _onLoad() Event: called when document and resources are loaded Source: background/background.js, line 170 &lt;private, inner&gt; _onStartup() Event: Fired when a profile that has this extension installed first starts up Source: background/background.js, line 93 See: https://developer.chrome.com/extensions/runtime#event-onStartup &lt;private, inner&gt; _onStorageChanged(event) Event: Fired when item in localStorage changes Parameters: Name Type Description event Event StorageEvent Properties Name Type Description key string storage item that changed Source: background/background.js, line 114 See: https://developer.mozilla.org/en-US/docs/Web/Events/storage &lt;private, inner&gt; _showOptionsTab() Display the options tab Source: background/background.js, line 37 Ã— Search results Close "},"module-bg_context_menus.html":{"id":"module-bg_context_menus.html","title":"Module: bg/context_menus","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: bg/context_menus Manage the Context Menus for the extension Source: background/context_menus.js, line 20 See: https://developer.chrome.com/extensions/contextMenus Methods &lt;private, inner&gt; _onInstalled(details) Event: Fired when the extension is first installed, when the extension is updated to a new version, and when Chrome is updated to a new version. Parameters: Name Type Description details Object type of event Source: background/context_menus.js, line 49 See: https://developer.chrome.com/extensions/runtime#event-onInstalled &lt;private, inner&gt; _onKeyCommand(cmd) Event: Fired when a registered command is activated using a keyboard shortcut. Parameters: Name Type Description cmd string keyboard command Source: background/context_menus.js, line 111 See: https://developer.chrome.com/extensions/commands#event-onCommand &lt;private, inner&gt; _onLoad() Event: called when document and resources are loaded Source: background/context_menus.js, line 125 &lt;private, inner&gt; _onMenuClicked(info) Event: Fired when a context menu item is clicked. Parameters: Name Type Description info Object info. on the clicked menu Properties Name Type Description menuItemId Object menu name Source: background/context_menus.js, line 93 See: https://developer.chrome.com/extensions/contextMenus#event-onClicked &lt;private, inner&gt; _toggleEnabled() Toggle enabled state of the screen saver Source: background/context_menus.js, line 33 Ã— Search results Close "},"module-bg_data.html":{"id":"module-bg_data.html","title":"Module: bg/data","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: bg/data Manage the extension's global data Source: background/data.js, line 27 Members &lt;private, static, constant&gt; _DEF_VALUES :Object Default values in localStorage Type: Object Properties: Name Type Description version int version of data enabled boolean is screensaver enabled permPicasa string optional permission for Picasa permBackground string optional permission to run in bg allowBackground boolean run Chrome in background idleTime module:els/setting/slider.SettingSlider.UnitValue idle time to display screensaver transitionTime module:els/setting/slider.SettingSlider.UnitValue time between photos skip boolean ignore extreme aspect ratio photos shuffle boolean randomize photo order photoSizing int photo display type photoTransition int transition animation interactive boolean vcr controls for screensaver showTime int time display format largeTime boolean display larger time label showPhotog boolean display name on own photos showLocation boolean display photo location background string background image keepAwake boolean manage computer poser settings chromeFullscreen boolean don't display over fullscreen allDisplays boolean show on all displays activeStart string Keep Wake start time '00:00' 24 hr activeStop string Keep Wake stop time '00:00' 24 hr allowSuspend boolean let computer sleep allowPhotoClicks boolean show photo source on left click useSpaceReddit boolean use this photo source useEarthReddit boolean use this photo source useAnimalReddit boolean use this photo source useInterestingFlickr boolean use this photo source useChromecast boolean use this photo source useAuthors boolean use this photo source fullResGoogle boolean true for actual size Google photos isAlbumMode boolean true if Google Photos album mode useGoogle boolean use this photo source useGoogleAlbums boolean use this photo source useGooglePhotos boolean use this photo source signedInToChrome boolean state of Chrome signin googlePhotosNoFilter boolean don't filter photos googlePhotosFilter Object filter for retrieving google photos Source: background/data.js, line 43 &lt;private, inner, constant&gt; _DATA_VERSION :int Version of localStorage - update when items are added, removed, changed Type: int Default Value: 23 Source: background/data.js, line 41 Methods &lt;static&gt; getIdleSeconds() â†’ {int} Get the idle time in seconds Source: background/data.js, line 387 Returns: idle time in seconds Type int &lt;static&gt; initialize() Initialize the data saved in localStorage Source: background/data.js, line 134 &lt;static&gt; processState( [key]) â†’ {Promise.&lt;void&gt;} Process changes to localStorage items Parameters: Name Type Argument Default Description key string &lt;optional&gt; 'all' the item that changed Source: background/data.js, line 299 Returns: Type Promise.&lt;void&gt; &lt;static&gt; restoreDefaults() Restore default values for data saved in localStorage Source: background/data.js, line 273 &lt;static&gt; update() Update the data saved in localStorage Source: background/data.js, line 161 &lt;private, inner&gt; _addDefaults() Save the _DEF_VALUES items, if they do not already exist Source: background/data.js, line 485 &lt;private, inner&gt; _convertSliderValue(key) Convert a setting-slider value due to addition of units Parameters: Name Type Description key string localStorage key Source: background/data.js, line 498 &lt;private, inner&gt; _getTimeFormat() â†’ {int} Get default time format based on locale Source: background/data.js, line 458 Returns: 12 or 24 Type int &lt;private, inner&gt; _processEnabled() Set state based on screensaver enabled flag Note: this does not effect the keep awake settings so you could use the extension as a display keep awake scheduler without using the screensaver Source: background/data.js, line 422 &lt;private, inner&gt; _processIdleTime() Set wait time for screen saver display after machine is idle Source: background/data.js, line 449 &lt;private, inner&gt; _processKeepAwake() Set power scheduling features Source: background/data.js, line 436 &lt;async, private, inner&gt; _setOS() â†’ {Promise.&lt;void&gt;} Set the 'os' value Source: background/data.js, line 468 Returns: Type Promise.&lt;void&gt; &lt;async, private, inner&gt; _updateToChromeLocaleStorage() Move the currently selected photo sources to chrome.storage.local and delete the old ones Source: background/data.js, line 397 Ã— Search results Close "},"module-bg_ss_control.html":{"id":"module-bg_ss_control.html","title":"Module: bg/ss_control","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: bg/ss_control Controller for the screen saver Source: background/ss_controller.js, line 22 Members &lt;private, inner, constant&gt; _ERR_SHOW :string Error showing Screensaver Type: string Source: background/ss_controller.js, line 43 &lt;private, inner, constant&gt; _SS_URL :string Screensaver URL Type: string Source: background/ss_controller.js, line 35 Methods &lt;static&gt; close() Close all the screen saver windows Source: background/ss_controller.js, line 77 &lt;static&gt; display(single) Display the screen saver(s) !Important: Always request screensaver through this call Parameters: Name Type Description single boolean if true, only show on one display Source: background/ss_controller.js, line 66 &lt;static&gt; isActive() â†’ {boolean} Determine if the screen saver can be displayed Source: background/ss_controller.js, line 49 Returns: true, if can display Type boolean &lt;private, inner&gt; _hasFullscreen(display) â†’ {Promise.&lt;boolean&gt;} Determine if there is a full screen chrome window running on a display Parameters: Name Type Description display Object a connected display Source: background/ss_controller.js, line 89 Returns: true if there is a full screen window on the display Type Promise.&lt;boolean&gt; &lt;private, inner&gt; _isShowing() â†’ {Promise.&lt;boolean&gt;} Determine if the screen saver is currently showing Source: background/ss_controller.js, line 115 Returns: true if showing Type Promise.&lt;boolean&gt; &lt;private, inner&gt; _onChromeMessage(request [, sender] [, response]) â†’ {boolean} Event: Fired when a message is sent from either an extension process (by runtime.sendMessage) or a content script (by tabs.sendMessage). Parameters: Name Type Argument Description request module:chrome/msg.Message details for the message sender Object &lt;optional&gt; MessageSender object response function &lt;optional&gt; function to call once after processing Source: background/ss_controller.js, line 238 See: https://developer.chrome.com/extensions/runtime#event-onMessage Returns: true if asynchronous Type boolean &lt;private, inner&gt; _onIdleStateChanged(state) Event: Fired when the system changes to an active, idle or locked state. The event fires with \"locked\" if the screen is locked or the [built in] screensaver activates, \"idle\" if the system is unlocked and the user has not generated any input for a specified number of seconds, and \"active\" when the user generates input on an idle system. Parameters: Name Type Description state string current state of computer Source: background/ss_controller.js, line 200 See: https://developer.chrome.com/extensions/idle#event-onStateChanged &lt;private, inner&gt; _onLoad() Event: called when document and resources are loaded Source: background/ss_controller.js, line 250 &lt;private, inner&gt; _open(display) Open a screen saver window on the given display Parameters: Name Type Description display Object a connected display Source: background/ss_controller.js, line 130 &lt;private, inner&gt; _openOnAllDisplays() Open a screensaver on every display Source: background/ss_controller.js, line 175 Ã— Search results Close "},"module-bg_user.html":{"id":"module-bg_user.html","title":"Module: bg/user","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: bg/user Manage the Chrome sign-in state Source: background/user.js, line 19 Methods &lt;private, inner&gt; _onLoad() Event: called when document and resources are loaded Source: background/user.js, line 49 &lt;private, inner&gt; _onSignInChanged(account, signedIn) Event: Fired when signin state changes for an act. on the user's profile. Parameters: Name Type Description account Object chrome AccountInfo signedIn boolean true if signedIn Source: background/user.js, line 31 See: https://developer.chrome.com/apps/identity#event-onSignInChanged Ã— Search results Close "},"module-chrome_auth.html":{"id":"module-chrome_auth.html","title":"Module: chrome/auth","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/auth Google Oauth2.0 utilities Source: chrome-extension-utils/scripts/auth.js, line 9 See: https://developer.chrome.com/apps/identity Methods &lt;static&gt; getToken(interactive [, scopes]) â†’ {Promise.&lt;string&gt;} Get an OAuth2.0 token Note: Every time you use a different scopes array, you will get a new token the first time, so you need to always get it with those scopes and remove the cached one with the scopes. Parameters: Name Type Argument Default Description interactive boolean if true may block scopes Array.&lt;string&gt; | null &lt;optional&gt; null optional scopes to use, overrides those in the manifest Source: chrome-extension-utils/scripts/auth.js, line 27 Returns: An access token Type Promise.&lt;string&gt; &lt;static&gt; isRevoked() â†’ {Promise.&lt;boolean&gt;} Has our authorization been revoked (or not granted) for the default scopes Source: chrome-extension-utils/scripts/auth.js, line 89 Returns: true if no valid token Type Promise.&lt;boolean&gt; &lt;static&gt; isSignedIn() â†’ {Promise.&lt;boolean&gt;} Is a user signed in to Chrome Source: chrome-extension-utils/scripts/auth.js, line 71 Returns: true if signed in Type Promise.&lt;boolean&gt; &lt;static&gt; removeCachedToken(interactive [, curToken] [, scopes]) â†’ {Promise.&lt;string&gt;} Remove a cached OAuth2.0 token Parameters: Name Type Argument Default Description interactive boolean if true may block curToken string | null &lt;optional&gt; null token to remove scopes Array.&lt;string&gt; | null &lt;optional&gt; null optional scopes to use, overrides those in the manifest Source: chrome-extension-utils/scripts/auth.js, line 47 Returns: the old token Type Promise.&lt;string&gt; Ã— Search results Close "},"module-chrome_exception.html":{"id":"module-chrome_exception.html","title":"Module: chrome/exception","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/exception Google Oauth2.0 utilities Source: chrome-extension-utils/scripts/ex_handler.js, line 9 See: https://developer.chrome.com/apps/identity Classes ExHandler Ã— Search results Close "},"module-chrome_exception.ExHandler.html":{"id":"module-chrome_exception.ExHandler.html","title":"Class: ExHandler","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: ExHandler chrome/exception. ExHandler Replace global error handler for logging with Google Analytics. new ExHandler() Replace window.onerror Source: chrome-extension-utils/scripts/ex_handler.js, line 18 Ã— Search results Close "},"module-chrome_ga.html":{"id":"module-chrome_ga.html","title":"Module: chrome/ga","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/ga Google Analytics tracking Source: chrome-extension-utils/scripts/analytics.js, line 10 Members &lt;static, constant&gt; EVENT :Object Event types Type: Object Properties: Name Type Description INSTALLED module:chrome/ga.Event extension installed UPDATED module:chrome/ga.Event extension updated REFRESHED_AUTH_TOKEN module:chrome/ga.Event cached token refreshed ALARM module:chrome/ga.Event Chrome alarm triggered MENU module:chrome/ga.Event menu selected TOGGLE module:chrome/ga.Event setting-toggle LINK module:chrome/ga.Event setting-link TEXT module:chrome/ga.Event setting-text SLIDER_VALUE module:chrome/ga.Event setting-slider value SLIDER_UNITS module:chrome/ga.Event setting-slider unit BUTTON module:chrome/ga.Event button click ICON module:chrome/ga.Event toolbar icon click CHECK module:chrome/ga.Event checkbox click KEY_COMMAND module:chrome/ga.Event keyboard shortcut Source: chrome-extension-utils/scripts/analytics.js, line 42 Methods &lt;static&gt; error( [label] [, action]) Send an error Parameters: Name Type Argument Default Description label string &lt;optional&gt; &lt;nullable&gt; 'unknown' override label action string &lt;optional&gt; &lt;nullable&gt; 'unknownMethod' override action Source: chrome-extension-utils/scripts/analytics.js, line 193 &lt;static&gt; event(event [, label] [, action]) Send an event Parameters: Name Type Argument Default Description event module:chrome/ga.Event the event type label string &lt;optional&gt; &lt;nullable&gt; null override label action string &lt;optional&gt; &lt;nullable&gt; null override action Source: chrome-extension-utils/scripts/analytics.js, line 173 &lt;static&gt; exception(exception [, message] [, fatal]) Send an exception Parameters: Name Type Argument Default Description exception Object the exception message string &lt;optional&gt; &lt;nullable&gt; null the error message fatal boolean &lt;optional&gt; true true if fatal Source: chrome-extension-utils/scripts/analytics.js, line 213 &lt;static&gt; initialize(trackingId, appName, appId, appVersion) Initialize analytics Parameters: Name Type Description trackingId string tracking id appName string extension name appId string extension Id appVersion string extension version Source: chrome-extension-utils/scripts/analytics.js, line 127 &lt;static&gt; page(page) Send a page Parameters: Name Type Description page string page path Source: chrome-extension-utils/scripts/analytics.js, line 159 Type Definitions Event Google Analytics Event Type: Object Properties: Name Type Description eventCategory string category eventAction string action eventLabel string label Source: chrome-extension-utils/scripts/analytics.js, line 15 Ã— Search results Close "},"module-chrome_http.html":{"id":"module-chrome_http.html","title":"Module: chrome/http","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/http Fetch with authentication and exponential back-off Source: chrome-extension-utils/scripts/http.js, line 12 Members &lt;private, static, constant&gt; _AUTH_HEADER :string Authorization header Type: string Source: chrome-extension-utils/scripts/http.js, line 44 &lt;static, constant&gt; CONFIG :module:chrome/http.Config Configuration object Type: module:chrome/http.Config Source: chrome-extension-utils/scripts/http.js, line 71 &lt;private, inner, constant&gt; _BEARER :string Bearer parameter for authorized call Type: string Source: chrome-extension-utils/scripts/http.js, line 51 &lt;private, inner, constant&gt; _DELAY Delay multiplier for exponential back-off Source: chrome-extension-utils/scripts/http.js, line 65 &lt;private, inner, constant&gt; _MAX_RETRIES :int Max retries on 500 errors Type: int Source: chrome-extension-utils/scripts/http.js, line 58 Methods &lt;static&gt; doGet(url [, conf]) â†’ {Promise.&lt;JSON&gt;} Perform GET request Parameters: Name Type Argument Default Description url string server request conf module:chrome/http.Config &lt;optional&gt; &lt;nullable&gt; null configuration Source: chrome-extension-utils/scripts/http.js, line 86 Returns: response from server Type Promise.&lt;JSON&gt; &lt;static&gt; doPost(url [, conf]) â†’ {Promise.&lt;JSON&gt;} Perform POST request Parameters: Name Type Argument Default Description url string server request conf module:chrome/http.Config &lt;optional&gt; &lt;nullable&gt; null configuration Source: chrome-extension-utils/scripts/http.js, line 97 Returns: response from server Type Promise.&lt;JSON&gt; &lt;private, inner&gt; _doIt(url, opts, conf) â†’ {Promise.&lt;JSON&gt;} Do a server request Parameters: Name Type Description url string server request opts Object fetch options conf module:chrome/http.Config configuration Source: chrome-extension-utils/scripts/http.js, line 273 Returns: response from server Type Promise.&lt;JSON&gt; &lt;private, inner&gt; _fetch(url, opts, conf, attempt) â†’ {Promise.&lt;JSON&gt;} Perform fetch, optionally using authorization and exponential back-off Parameters: Name Type Description url string server request opts Object fetch options conf module:chrome/http.Config configuration attempt int the retry attempt we are on Source: chrome-extension-utils/scripts/http.js, line 240 Returns: response from server Type Promise.&lt;JSON&gt; &lt;private, inner&gt; _getAuthToken(isAuth, interactive) â†’ {Promise.&lt;string&gt;} Get authorization token Parameters: Name Type Description isAuth boolean if true, authorization required interactive boolean if true, user initiated Source: chrome-extension-utils/scripts/http.js, line 170 Returns: auth token Type Promise.&lt;string&gt; &lt;private, inner&gt; _getError(response) â†’ {Error} Get Error message Parameters: Name Type Description response module:chrome/http.Response server response Source: chrome-extension-utils/scripts/http.js, line 152 Returns: Type Error &lt;private, inner&gt; _processResponse(response, url, opts, conf, attempt) â†’ {Promise.&lt;JSON&gt;} Check response and act accordingly Parameters: Name Type Description response module:chrome/http.Response server response url string server opts Object fetch options conf module:chrome/http.Config configuration attempt int the retry attempt we are on Source: chrome-extension-utils/scripts/http.js, line 112 Returns: response from server Type Promise.&lt;JSON&gt; &lt;private, inner&gt; _retry(url, opts, conf, attempt) â†’ {Promise.&lt;JSON&gt;} Retry authorized fetch with exponential back-off Parameters: Name Type Description url string server request opts Object fetch options conf module:chrome/http.Config configuration attempt int the retry attempt we are on Source: chrome-extension-utils/scripts/http.js, line 201 Returns: response from server Type Promise.&lt;JSON&gt; &lt;private, inner&gt; _retryToken(url, opts, conf, attempt) â†’ {Promise.&lt;JSON&gt;} Retry fetch after removing cached auth token Parameters: Name Type Description url string server request opts Object fetch options conf module:chrome/http.Config configuration attempt int the retry attempt we are on Source: chrome-extension-utils/scripts/http.js, line 221 Returns: response from server Type Promise.&lt;JSON&gt; Type Definitions Config Http configuration Type: Object Properties: Name Type Argument Default Description isAuth boolean &lt;optional&gt; false if true, authorization required retryToken boolean &lt;optional&gt; false if true, retry with new token interactive boolean &lt;optional&gt; false user initiated, if true token string &lt;optional&gt; &lt;nullable&gt; null auth token backoff boolean &lt;optional&gt; true if true, do exponential back-off maxRetries int &lt;optional&gt; _MAX_ATTEMPTS max retries body json &lt;optional&gt; null body of request Source: chrome-extension-utils/scripts/http.js, line 17 Response Http response Type: Object Properties: Name Type Description ok boolean success flag json function returned data as JSON status int HTTP response code statusText string HTTP response message Source: chrome-extension-utils/scripts/http.js, line 29 Ã— Search results Close "},"module-chrome_json.html":{"id":"module-chrome_json.html","title":"Module: chrome/json","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/json JSON utilities Source: chrome-extension-utils/scripts/json.js, line 10 Methods &lt;static&gt; parse(jsonString) â†’ {Object} Parse JSON, with exception handling Parameters: Name Type Description jsonString string string to parse Source: chrome-extension-utils/scripts/json.js, line 20 Returns: JSON Object, null on error Type Object &lt;static&gt; shallowCopy(object) â†’ {Object} Return shallow copy of Object Parameters: Name Type Description object Object object to copy Source: chrome-extension-utils/scripts/json.js, line 36 Returns: JSON Object, null on error Type Object Ã— Search results Close "},"module-chrome_last_error.html":{"id":"module-chrome_last_error.html","title":"Module: chrome/last_error","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/last_error A custom error that can be persisted Usage: const err = new ChromeLastError(title, message) Source: chrome-extension-utils/scripts/last_error.js, line 12 Classes LastError Ã— Search results Close "},"module-chrome_last_error.LastError.html":{"id":"module-chrome_last_error.LastError.html","title":"Class: LastError","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: LastError chrome/last_error. LastError A custom error that can be persisted Usage: const err = new ChromeLastError(title, message) new LastError(title, params) Create a new LastError Extends: Error Parameters: Name Type Argument Default Description title string '' optional title params params | string &lt;repeatable&gt; Error parameters Source: chrome-extension-utils/scripts/last_error.js, line 24 Extends Error Methods &lt;static&gt; load() â†’ {Promise.&lt;ChromeLastError&gt;} Get the LastError from chrome.storage.local Source: chrome-extension-utils/scripts/last_error.js, line 52 Throws: If we failed to get the error Returns: last error Type Promise.&lt;ChromeLastError&gt; &lt;static&gt; reset() â†’ {Promise.&lt;void&gt;} Set the LastError to an empty message in chrome.storage.local Source: chrome-extension-utils/scripts/last_error.js, line 87 Throws: If the error failed to clear Returns: void Type Promise.&lt;void&gt; &lt;static&gt; save(lastError) â†’ {Promise.&lt;void&gt;} Save the LastError to chrome.storage.local Parameters: Name Type Description lastError module:chrome/last_error.ChromeLastError Source: chrome-extension-utils/scripts/last_error.js, line 71 See: https://developer.chrome.com/apps/storage Throws: If the error failed to save Returns: void Type Promise.&lt;void&gt; Ã— Search results Close "},"module-chrome_locale.html":{"id":"module-chrome_locale.html","title":"Module: chrome/locale","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/locale Internationalization methods Source: chrome-extension-utils/scripts/locales.js, line 9 See: https://developer.chrome.com/extensions/i18n Methods &lt;static&gt; getLocale() â†’ {string} Get the current locale Source: chrome-extension-utils/scripts/locales.js, line 34 Returns: current locale e.g. en_US Type string &lt;static&gt; localize(messageName [, def]) â†’ {string} Get the i18n string Parameters: Name Type Argument Default Description messageName string key in messages.json def string &lt;optional&gt; '' default if no locales Source: chrome-extension-utils/scripts/locales.js, line 21 Returns: internationalized string Type string Ã— Search results Close "},"module-chrome_log.html":{"id":"module-chrome_log.html","title":"Module: chrome/log","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/log Log a message. Will also store the LastError to local storage as 'lastError' Source: chrome-extension-utils/scripts/log.js, line 13 Methods &lt;static&gt; error( [msg] [, meth] [, title] [, extra]) Log an error Parameters: Name Type Argument Default Description msg string &lt;optional&gt; &lt;nullable&gt; null override label meth string &lt;optional&gt; &lt;nullable&gt; null override action title string &lt;optional&gt; &lt;nullable&gt; null a title for the error extra string &lt;optional&gt; &lt;nullable&gt; null extra info. for analytics Source: chrome-extension-utils/scripts/log.js, line 25 &lt;static&gt; exception(exception [, msg] [, fatal] [, title]) Log an exception Parameters: Name Type Argument Default Description exception Error the exception msg string &lt;optional&gt; &lt;nullable&gt; null the error message fatal boolean &lt;optional&gt; true true if fatal title string &lt;optional&gt; &lt;nullable&gt; null a title for the exception Source: chrome-extension-utils/scripts/log.js, line 42 Ã— Search results Close "},"module-chrome_msg.html":{"id":"module-chrome_msg.html","title":"Module: chrome/msg","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/msg Wrapper for chrome messages Source: chrome-extension-utils/scripts/msg.js, line 10 See: https://developer.chrome.com/extensions/messaging Members &lt;private, inner, constant&gt; _MSG :Object Chrome Messages Type: Object Properties: Name Type Description HIGHLIGHT module:chrome/msg.Message highlight a tab RESTORE_DEFAULTS module:chrome/msg.Message restore default settings STORAGE_EXCEEDED module:chrome/msg.Message local storage save failed STORE module:chrome/msg.Message save value to storage Source: chrome-extension-utils/scripts/msg.js, line 37 Methods &lt;static&gt; listen(listener) Add a listener for chrome messages Parameters: Name Type Description listener function function to receive messages Source: chrome-extension-utils/scripts/msg.js, line 85 &lt;static&gt; send(type) â†’ {Promise.&lt;(JSON|Array)&gt;} Send a chrome message Parameters: Name Type Description type module:chrome/msg.Message type of message Source: chrome-extension-utils/scripts/msg.js, line 64 Returns: response JSON Type Promise.&lt;(JSON|Array)&gt; Type Definitions Message A Chrome message Type: Object Properties: Name Type Argument Description message string Unique name error Error an error item string | Object a message specific item updated boolean item is new or updated key string key name value Object &lt;nullable&gt; value of key Source: chrome-extension-utils/scripts/msg.js, line 16 Ã— Search results Close "},"module-chrome_storage.html":{"id":"module-chrome_storage.html","title":"Module: chrome/storage","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/storage Manage items in storage Source: chrome-extension-utils/scripts/storage.js, line 12 Methods &lt;static&gt; asyncGet(key [, def]) â†’ {Promise.&lt;(Object|Array)&gt;} Get a value from chrome.storage.local Parameters: Name Type Argument Default Description key string data key def Object &lt;optional&gt; &lt;nullable&gt; null default value if not found Source: chrome-extension-utils/scripts/storage.js, line 116 See: https://developer.chrome.com/apps/storage Returns: object from storage, def if not found Type Promise.&lt;(Object|Array)&gt; &lt;static&gt; asyncSet(key, value [, keyBool]) â†’ {boolean} Save a value to chrome.storage.local only if there is enough room Parameters: Name Type Argument Default Description key string data key value Object data value keyBool string &lt;optional&gt; &lt;nullable&gt; null key to a boolean value that is true if the primary key has non-empty value Source: chrome-extension-utils/scripts/storage.js, line 147 See: https://developer.chrome.com/apps/storage Returns: true if value was set successfully Type boolean &lt;static&gt; get(key [, def]) â†’ {Object|string|int|boolean|Array} Get a JSON parsed value from localStorage Parameters: Name Type Argument Default Description key string key to get value for def Object | string &lt;optional&gt; null optional default value if key not found Source: chrome-extension-utils/scripts/storage.js, line 24 Returns: JSON object or string, null if key does not exist Type Object | string | int | boolean | Array &lt;static&gt; getBool(key [, def]) â†’ {boolean} Get boolean value from localStorage Parameters: Name Type Argument Default Description key string key to get value for def boolean &lt;optional&gt; &lt;nullable&gt; null return value if key not found Source: chrome-extension-utils/scripts/storage.js, line 58 Returns: value as boolean, null if key does not exist Type boolean &lt;static&gt; getInt(key [, def]) â†’ {int} Get integer value from localStorage Parameters: Name Type Argument Default Description key string key to get value for def int &lt;optional&gt; &lt;nullable&gt; null optional value to return, if NaN Source: chrome-extension-utils/scripts/storage.js, line 39 Returns: value as integer, NaN on error Type int &lt;static&gt; safeSet(key, value [, keyBool]) â†’ {boolean} Save a value to localStorage only if there is enough room Parameters: Name Type Argument Default Description key string localStorage Key value Object value to save keyBool string &lt;optional&gt; &lt;nullable&gt; null key to a boolean value that is true if the primary key has non-empty value Source: chrome-extension-utils/scripts/storage.js, line 84 Returns: true if value was set successfully Type boolean &lt;static&gt; set(key [, value]) JSON stringify and save a value to localStorage Parameters: Name Type Argument Default Description key string key to set value for value Object &lt;optional&gt; &lt;nullable&gt; null new value, if null remove item Source: chrome-extension-utils/scripts/storage.js, line 67 Ã— Search results Close "},"module-chrome_time.html":{"id":"module-chrome_time.html","title":"Module: chrome/time","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/time Time Class Source: chrome-extension-utils/scripts/time.js, line 12 Classes ChromeTime Ã— Search results Close "},"module-chrome_time.ChromeTime.html":{"id":"module-chrome_time.ChromeTime.html","title":"Class: ChromeTime","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: ChromeTime chrome/time. ChromeTime Time Class new ChromeTime( [timeString]) Create a new Time Parameters: Name Type Argument Default Description timeString string &lt;optional&gt; &lt;nullable&gt; null in '00:00' format, if null use current Date Properties: Name Type Description _hr int 24 hour time _min int minutes Source: chrome-extension-utils/scripts/time.js, line 23 Members &lt;static&gt; MIN_IN_DAY Minutes in day Source: chrome-extension-utils/scripts/time.js, line 66 &lt;static&gt; MIN_IN_HOUR Minutes in hour Source: chrome-extension-utils/scripts/time.js, line 48 &lt;static&gt; MSEC_IN_DAY Milliseconds in day Source: chrome-extension-utils/scripts/time.js, line 75 &lt;static&gt; MSEC_IN_HOUR Milliseconds in hour Source: chrome-extension-utils/scripts/time.js, line 57 &lt;static&gt; MSEC_IN_MIN Milliseconds in minute Source: chrome-extension-utils/scripts/time.js, line 39 Methods &lt;private, static&gt; _is24Hr( [frmt]) â†’ {boolean} Determine if user wants 24 hr time Parameters: Name Type Argument Default Description frmt int &lt;optional&gt; &lt;nullable&gt; null optional format, overrides storage value Source: chrome-extension-utils/scripts/time.js, line 86 Returns: true for 24 hour time Type boolean &lt;static&gt; getStringFull(timeString [, frmt]) â†’ {string} Get time as string suitable for display, including AM/PM if 12hr Parameters: Name Type Argument Default Description timeString string in '00:00' format frmt int &lt;optional&gt; &lt;nullable&gt; null optional format, overrides storage value Source: chrome-extension-utils/scripts/time.js, line 170 Returns: display string Type string &lt;static&gt; getStringShort() â†’ {string} Get current time suitable for display w/o AM/PM if 12hr Source: chrome-extension-utils/scripts/time.js, line 180 Returns: display string Type string &lt;static&gt; getTime(timeString) â†’ {int} Convert string to current time Parameters: Name Type Description timeString string in '00:00' format Source: chrome-extension-utils/scripts/time.js, line 109 Returns: time in milliSeconds from epoch Type int &lt;static&gt; getTimeDelta(timeString) â†’ {int} Calculate time delta from now on a 24hr basis Parameters: Name Type Description timeString string in '00:00' format Source: chrome-extension-utils/scripts/time.js, line 125 Returns: time delta in minutes Type int &lt;static&gt; isInRange(start, stop) â†’ {boolean} Determine if current time is between start and stop, inclusive Parameters: Name Type Description start string in '00:00' format stop string in '00:00' format Source: chrome-extension-utils/scripts/time.js, line 143 Returns: true if in the given range Type boolean &lt;private&gt; _parse(timeString) Parse time string Parameters: Name Type Description timeString string in '00:00' format Source: chrome-extension-utils/scripts/time.js, line 196 toString( [frmt]) â†’ {string} Get string representation of Time Parameters: Name Type Argument Default Description frmt int &lt;optional&gt; &lt;nullable&gt; null optional format, overrides storage value Source: chrome-extension-utils/scripts/time.js, line 212 Returns: As string Type string Ã— Search results Close "},"module-chrome_utils.html":{"id":"module-chrome_utils.html","title":"Module: chrome/utils","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: chrome/utils Utility methods Source: chrome-extension-utils/scripts/utils.js, line 9 Members &lt;static, constant&gt; DEBUG :boolean True if development build Type: boolean Source: chrome-extension-utils/scripts/utils.js, line 42 &lt;private, inner, constant&gt; _DEBUG :boolean Set to true if development build Type: boolean Source: chrome-extension-utils/scripts/utils.js, line 21 Methods &lt;static&gt; getChromeVersion() â†’ {int} Get the Chrome version Source: chrome-extension-utils/scripts/utils.js, line 65 See: http://stackoverflow.com/a/4900484/4468645 Returns: Chrome major version Type int &lt;static&gt; getExtensionName() â†’ {string} Get the extension's name Source: chrome-extension-utils/scripts/utils.js, line 47 Returns: Extension name Type string &lt;static&gt; getFullChromeVersion() â†’ {string} Get the full Chrome version Source: chrome-extension-utils/scripts/utils.js, line 75 See: https://goo.gl/2ITMNO Returns: Chrome version Type string &lt;static&gt; getPlatformOS() â†’ {Promise.&lt;string&gt;} Get the OS as a human readable string Source: chrome-extension-utils/scripts/utils.js, line 84 Returns: OS name Type Promise.&lt;string&gt; &lt;static&gt; getRandomInt(min, max) â†’ {int} Returns a random integer between min and max inclusive Parameters: Name Type Description min int min value max int max value Source: chrome-extension-utils/scripts/utils.js, line 177 Returns: random int Type int &lt;static&gt; getRandomString( [len]) â†’ {string} Get a random string of the given length Parameters: Name Type Argument Default Description len int &lt;optional&gt; 8 length of generated string Source: chrome-extension-utils/scripts/utils.js, line 160 Returns: a random string Type string &lt;static&gt; getVersion() â†’ {string} Get the Extension version Source: chrome-extension-utils/scripts/utils.js, line 55 Returns: Extension version Type string &lt;static&gt; isChromeOS() â†’ {Promise.&lt;boolean&gt;} Determine if we are Chrome OS Source: chrome-extension-utils/scripts/utils.js, line 129 Returns: true if ChromeOS Type Promise.&lt;boolean&gt; &lt;static&gt; isMac() â†’ {Promise.&lt;boolean&gt;} Determine if we are a Mac Source: chrome-extension-utils/scripts/utils.js, line 137 Returns: true if Mac Type Promise.&lt;boolean&gt; &lt;static&gt; isWhiteSpace(str) â†’ {boolean} Determine if a String is null or whitespace only Parameters: Name Type Argument Description str string &lt;nullable&gt; string to check Source: chrome-extension-utils/scripts/utils.js, line 151 Returns: true is str is whitespace or null Type boolean &lt;static&gt; isWindows() â†’ {Promise.&lt;boolean&gt;} Determine if we are MS windows Source: chrome-extension-utils/scripts/utils.js, line 121 Returns: true if MS Windows Type Promise.&lt;boolean&gt; &lt;static&gt; noop() No operation Source: chrome-extension-utils/scripts/utils.js, line 144 &lt;static&gt; shuffleArray(array) Randomly sort an Array in place Fisher-Yates shuffle algorithm. Parameters: Name Type Description array Array Array to sort Source: chrome-extension-utils/scripts/utils.js, line 186 &lt;private, inner&gt; _isOS(os) â†’ {Promise.&lt;boolean&gt;} Determine if we are a given operating system Parameters: Name Type Description os string os short name Source: chrome-extension-utils/scripts/utils.js, line 29 Returns: true if the given os Type Promise.&lt;boolean&gt; Ã— Search results Close "},"module-els_app_main.html":{"id":"module-els_app_main.html","title":"Module: els/app_main","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/app_main Module for the main UI Source: app-main/app-main.js, line 72 Members &lt;static&gt; showConfirmDialog :function Function to show a confirm dialog Type: function Source: app-main/app-main.js, line 81 &lt;static&gt; showErrorDialog :function Function to show an error dialog Type: function Source: app-main/app-main.js, line 87 &lt;static&gt; showStorageErrorDialog :function Function to show an error dialog about failing to store data Type: function Source: app-main/app-main.js, line 93 &lt;inner&gt; confirmFn :function Function to call on confirm dialog confirm button click Type: function Source: app-main/app-main.js, line 99 &lt;private, inner, constant&gt; EXT_URI :string Path to the extension in the Web Store Type: string Source: app-main/app-main.js, line 119 &lt;private, inner&gt; gPhotosPage :module:els/pgs/google_photos.GooglePhotosPage Google Photos Page Type: module:els/pgs/google_photos.GooglePhotosPage Source: app-main/app-main.js, line 196 &lt;inner, constant&gt; pages :Array.&lt;module:els/app_main.Page&gt; Array of pages Type: Array.&lt;module:els/app_main.Page&gt; Source: app-main/app-main.js, line 138 &lt;private, inner, constant&gt; PUSHY_URI :string Path to my Pushy Clipboard extension Type: string Source: app-main/app-main.js, line 130 &lt;private, inner&gt; signedInToChrome :boolean Chrome sign in state Type: boolean Source: app-main/app-main.js, line 203 Methods &lt;private, inner&gt; _computePermissionsStatus(permission) â†’ {string} Computed Binding: Determine content script permission status string Parameters: Name Type Description permission string current setting Source: app-main/app-main.js, line 609 Returns: Type string &lt;private, inner&gt; _getPageIdx(name) â†’ {int} Get the index into the module:els/app_main.pages array Parameters: Name Type Description name string module:els/app_main.page route Source: app-main/app-main.js, line 620 Returns: index into array Type int &lt;private, inner&gt; _onAcceptPermissionsClicked() Event: Clicked on accept permissions dialog button Source: app-main/app-main.js, line 579 &lt;private, inner&gt; _onConfirmDialogTapped() Event: Clicked on confirm button of confirm dialog Source: app-main/app-main.js, line 536 &lt;private, inner&gt; _onDenyPermissionsClicked() Event: Clicked on deny permission dialog button Source: app-main/app-main.js, line 596 &lt;private, inner&gt; _onMessage(request [, sender] [, response]) â†’ {boolean} Event: Fired when a message is sent from either an extension process (by runtime.sendMessage) or a content script (by tabs.sendMessage). Parameters: Name Type Argument Description request module:chrome/msg.Message details for the message sender Object &lt;optional&gt; MessageSender object response function &lt;optional&gt; function to call once after processing Source: app-main/app-main.js, line 750 See: https://developer.chrome.com/extensions/runtime#event-onMessage Returns: true if asynchronous Type boolean &lt;private, inner&gt; _onNavMenuItemTapped(event) Event: navigation menu selected Route to proper page Parameters: Name Type Description event Event ClickEvent Source: app-main/app-main.js, line 548 &lt;private, inner&gt; _setErrorMenuState() Set enabled state of Error Viewer menu item Source: app-main/app-main.js, line 723 &lt;private, inner&gt; _setGooglePhotosMenuState() Set enabled state of Google Photos menu item Source: app-main/app-main.js, line 705 &lt;private, inner&gt; _showErrorPage(index) Show the error viewer page Parameters: Name Type Description index int index into module:els/app_main.pages Source: app-main/app-main.js, line 656 &lt;private, inner&gt; _showGooglePhotosPage(index) Show the Google Photos page Parameters: Name Type Description index int index into module:els/app_main.pages Source: app-main/app-main.js, line 631 &lt;private, inner&gt; _showHelpPage(index) Show the help page Parameters: Name Type Description index int index into module:els/app_main.pages Source: app-main/app-main.js, line 671 &lt;private, inner&gt; _showPermissionsDialog() Show the permissions dialog Source: app-main/app-main.js, line 697 &lt;private, inner&gt; _showScreensaverPreview(index, prevRoute) Display a preview of the screen saver Parameters: Name Type Description index int index into module:els/app_main.pages prevRoute string last page selected Source: app-main/app-main.js, line 687 &lt;inner&gt; ready() Element is ready Source: app-main/app-main.js, line 449 &lt;inner&gt; showConfirmDialog(text, title, confirmLabel, fn) Display a confirm dialog Parameters: Name Type Description text string dialog text title string dialog title confirmLabel string confirm button text fn function function to call on confirm button click Source: app-main/app-main.js, line 527 &lt;inner&gt; showErrorDialog(title, text [, method]) Display an error dialog Parameters: Name Type Argument Default Description title string dialog title text string dialog text method string &lt;optional&gt; &lt;nullable&gt; null optional calling method Source: app-main/app-main.js, line 502 &lt;inner&gt; showStorageErrorDialog(method) Display an error dialog about failing to save data Parameters: Name Type Description method string calling method Source: app-main/app-main.js, line 513 Type Definitions Page Manage an html page that is inserted on demand May also be a url link to external site Type: Object Properties: Name Type Description label string label for Nav menu route string element name route to page icon string icon for Nav Menu obj Object | function something to be done when selected ready boolean true if html is inserted divider boolean true for divider before item Source: app-main/app-main.js, line 101 Ã— Search results Close "},"module-els_icons.html":{"id":"module-els_icons.html","title":"Module: els/icons","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/icons Module for the app's icons Source: my_icons.js, line 10 Ã— Search results Close "},"module-els_pgs_error.html":{"id":"module-els_pgs_error.html","title":"Module: els/pgs/error","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/pgs/error Module for the Last Error page Source: pages/error-page/error-page.js, line 39 Members &lt;static, constant&gt; ErrorPage :Object Polymer element for the Last Error page Type: Object Source: pages/error-page/error-page.js, line 50 Methods &lt;private, inner&gt; _computeStack(lastError) â†’ {string} Computed Binding Parameters: Name Type Description lastError ChromeLastError the error Properties Name Type Description message ChromeLastError message title stack ChromeLastError stack trace Source: pages/error-page/error-page.js, line 200 Returns: stack trace Type string &lt;private, inner&gt; _computeTitle(lastError) â†’ {string} Computed Binding Parameters: Name Type Description lastError ChromeLastError the error Properties Name Type Description title ChromeLastError message title message ChromeLastError message title Source: pages/error-page/error-page.js, line 212 Returns: page title Type string &lt;private, inner&gt; _onEmailTapped() Event: Email support Source: pages/error-page/error-page.js, line 170 &lt;private, inner&gt; _onRemoveTapped() Event: Remove the error Source: pages/error-page/error-page.js, line 187 &lt;inner&gt; ready() Element is ready Source: pages/error-page/error-page.js, line 145 Ã— Search results Close "},"module-els_pgs_google_photos.html":{"id":"module-els_pgs_google_photos.html","title":"Module: els/pgs/google_photos","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/pgs/google_photos Module for the Google Photos page Source: pages/google-photos-page/google-photos-page.js, line 43 Members &lt;static, constant&gt; GooglePhotosPage :Object Polymer element for the Google Photos page Type: Object Source: pages/google-photos-page/google-photos-page.js, line 54 Methods &lt;private, inner&gt; _changeMode() Toggle between album and photo mode Source: pages/google-photos-page/google-photos-page.js, line 229 &lt;private, inner&gt; _computeAlbumIconDisabled(useGoogle, isAlbumMode) â†’ {boolean} Computed binding: Calculate disabled state of icons used by albums Parameters: Name Type Description useGoogle boolean true if using Google Photos isAlbumMode boolean true if album mode Source: pages/google-photos-page/google-photos-page.js, line 397 Returns: true if album icons should be disabled Type boolean &lt;private, inner&gt; _computeModeIcon(isAlbumMode) â†’ {string} Computed binding: Calculate mode icon Parameters: Name Type Description isAlbumMode boolean true if album mode Source: pages/google-photos-page/google-photos-page.js, line 370 Returns: an icon Type string &lt;private, inner&gt; _computeModeTooltip(isAlbumMode) â†’ {string} Computed binding: Calculate mode tooltip Parameters: Name Type Description isAlbumMode boolean true if album mode Source: pages/google-photos-page/google-photos-page.js, line 380 Returns: page title Type string &lt;private, inner&gt; _computeRefreshTooltip(isAlbumMode) â†’ {string} Computed binding: Calculate refresh tooltip Parameters: Name Type Description isAlbumMode boolean true if album mode Source: pages/google-photos-page/google-photos-page.js, line 407 Returns: tooltip label Type string &lt;private, inner&gt; _computeTitle(isAlbumMode) â†’ {string} Computed binding: Calculate page title Parameters: Name Type Description isAlbumMode boolean true if album mode Source: pages/google-photos-page/google-photos-page.js, line 338 Returns: page title Type string &lt;private, inner&gt; _loadPhotos() â†’ {Promise.&lt;null&gt;} Fetch Google Photos for the array of user's photos Source: pages/google-photos-page/google-photos-page.js, line 219 Returns: always resolves Type Promise.&lt;null&gt; &lt;private, inner&gt; _onDeselectAllTapped() Event: Handle tap on deselect all albums icon Source: pages/google-photos-page/google-photos-page.js, line 300 &lt;private, inner&gt; _onHelpTapped() Event: Handle tap on help icon Source: pages/google-photos-page/google-photos-page.js, line 288 &lt;private, inner&gt; _onModeTapped() Event: Handle tap on mode icon Source: pages/google-photos-page/google-photos-page.js, line 251 &lt;private, inner&gt; _onNoAlbums() Event: Handle event indicating the user has no albums Source: pages/google-photos-page/google-photos-page.js, line 265 &lt;private, inner&gt; _onRefreshTapped() Event: Handle tap on refresh album list icon Source: pages/google-photos-page/google-photos-page.js, line 274 &lt;private, inner&gt; _onSelectAllTapped() Event: Handle tap on select all albums icon Source: pages/google-photos-page/google-photos-page.js, line 309 &lt;private, inner&gt; _onUseGoogleChanged() Event: checked state changed on main toggle changed Source: pages/google-photos-page/google-photos-page.js, line 318 &lt;private, inner&gt; _stateChanged(isAlbumMode, useGoogle) Observer: UI state Parameters: Name Type Description isAlbumMode boolean | undefined true if album mode useGoogle boolean | undefined true if using Google Photos Source: pages/google-photos-page/google-photos-page.js, line 354 &lt;inner&gt; loadAlbumList( [doPhotos]) â†’ {Promise.&lt;null&gt;} Fetch Google Photos albums, optionally fetching the photos too Parameters: Name Type Argument Default Description doPhotos boolean &lt;optional&gt; false if true, reload each album Source: pages/google-photos-page/google-photos-page.js, line 208 Returns: always resolves Type Promise.&lt;null&gt; &lt;inner&gt; ready() Element is ready Source: pages/google-photos-page/google-photos-page.js, line 195 Ã— Search results Close "},"module-els_pgs_google_photos_photos_view.html":{"id":"module-els_pgs_google_photos_photos_view.html","title":"Module: els/pgs/google_photos/photos_view","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/pgs/google_photos/photos_view Module for selecting Google Photos Source: pages/google-photos-page/photos-view.js, line 48 Members &lt;private, inner, constant&gt; _CATS :Array.&lt;module:els/pgs/google_photos/photos_view.PhotoCategory&gt; Photo categories Type: Array.&lt;module:els/pgs/google_photos/photos_view.PhotoCategory&gt; Source: pages/google-photos-page/photos-view.js, line 66 Methods &lt;private, inner&gt; _computeFilterDisabled(disabled, noFilter) â†’ {boolean} Computed property: Disabled state of filter ui elements Parameters: Name Type Description disabled boolean true if whole UI is disabled noFilter boolean true if not filtering Source: pages/google-photos-page/photos-view.js, line 432 Returns: true if hidden Type boolean &lt;private, inner&gt; _computeHidden(waitForLoad, permPicasa) â†’ {boolean} Computed property: Hidden state of main interface Parameters: Name Type Description waitForLoad boolean true if loading permPicasa string permission state Source: pages/google-photos-page/photos-view.js, line 454 Returns: true if hidden Type boolean &lt;private, inner&gt; _computeRefreshDisabled(disabled, needsPhotoRefresh) â†’ {boolean} Computed property: Disabled state of filter ui elements Parameters: Name Type Description disabled boolean true if whole UI is disabled needsPhotoRefresh boolean true if photos need refresh Source: pages/google-photos-page/photos-view.js, line 443 Returns: true if hidden Type boolean &lt;private, inner&gt; _noFilterChanged(newValue, oldValue) Observer: noFilter changed Parameters: Name Type Description newValue number oldValue number Source: pages/google-photos-page/photos-view.js, line 417 &lt;private, inner&gt; _onMessage(request [, sender] [, response]) â†’ {boolean} Event: Fired when a message is sent from either an extension process (by runtime.sendMessage) or a content script (by tabs.sendMessage). Parameters: Name Type Argument Description request module:chrome/msg.Message details for the message sender Object &lt;optional&gt; MessageSender object response function &lt;optional&gt; function to call once after processing Source: pages/google-photos-page/photos-view.js, line 390 See: https://developer.chrome.com/extensions/runtime#event-onMessage Returns: true if asynchronous Type boolean &lt;private, inner&gt; _onPhotoCatChanged(ev) Event: Selection of photo-cat changed Parameters: Name Type Description ev Event Source: pages/google-photos-page/photos-view.js, line 351 &lt;private, inner&gt; _onRefreshPhotosClicked() Event: Refresh photos button clicked Source: pages/google-photos-page/photos-view.js, line 406 &lt;private, inner&gt; _setPhotoCats() Set the states of the photo-cat elements Source: pages/google-photos-page/photos-view.js, line 330 &lt;inner&gt; loadPhotos() â†’ {Promise.&lt;null&gt;} Query Google Photos for the array of user's photos Source: pages/google-photos-page/photos-view.js, line 266 Returns: always resolves Type Promise.&lt;null&gt; &lt;inner&gt; ready() Element is ready Source: pages/google-photos-page/photos-view.js, line 238 &lt;async, inner&gt; setPhotoCount() Set the photo count that is currently saved Source: pages/google-photos-page/photos-view.js, line 321 Type Definitions PhotoCategory A Google photos category for searches Type: Object Properties: Name Type Description name string label string Source: pages/google-photos-page/photos-view.js, line 53 Ã— Search results Close "},"module-els_pgs_help.html":{"id":"module-els_pgs_help.html","title":"Module: els/pgs/help","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/pgs/help Module for the Help page Source: pages/help-page/help-page.js, line 30 Members &lt;static, constant&gt; HelpPage :Object Polymer element for the Help page Type: Object Source: pages/help-page/help-page.js, line 41 Methods &lt;private, inner&gt; _computeMailToUrl(subject) â†’ {string} computed binding: Get a mailto url Parameters: Name Type Description subject string email subject Source: pages/help-page/help-page.js, line 117 Returns: url Type string &lt;private, inner&gt; _computeVersion() â†’ {string} computed binding: Get the extension version Source: pages/help-page/help-page.js, line 126 Returns: Version of the extension Type string Ã— Search results Close "},"module-els_pgs_settings.html":{"id":"module-els_pgs_settings.html","title":"Module: els/pgs/settings","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/pgs/settings Module for the Settings Page Source: pages/settings-page/settings-page.js, line 55 Methods &lt;private, inner&gt; _chromeBackgroundTapped() Event: Process the background permission Source: pages/settings-page/settings-page.js, line 384 &lt;private, inner&gt; _computeLargeTimeDisabled(enabled, showTimeValue) â†’ {boolean} Computed binding: Set disabled state of largeTime toggle Parameters: Name Type Description enabled boolean enabled state of screensaver showTimeValue number showTime value Source: pages/settings-page/settings-page.js, line 420 Returns: true if disabled Type boolean &lt;private, inner&gt; _computeMenuHidden(selectedTab) â†’ {boolean} Computed property: Set menu icons visibility Parameters: Name Type Description selectedTab int the current tab Source: pages/settings-page/settings-page.js, line 409 Returns: true if menu should be visible Type boolean &lt;private, inner&gt; _computePhotoSizingMenu() â†’ {Array} Computed binding: photo sizing values Source: pages/settings-page/settings-page.js, line 460 Returns: Array of menu items Type Array &lt;private, inner&gt; _computePhotoTransitionMenu() â†’ {Array} Computed binding: photo transition values Source: pages/settings-page/settings-page.js, line 475 Returns: Array of menu items Type Array &lt;private, inner&gt; _computeTimeFormatMenu() â†’ {Array} Computed binding: time format values Source: pages/settings-page/settings-page.js, line 494 Returns: Array of menu items Type Array &lt;private, inner&gt; _computeTransitionTimeUnits() â†’ {Array} Computed binding: transition time values Source: pages/settings-page/settings-page.js, line 446 Returns: Array of menu items Type Array &lt;private, inner&gt; _computeWaitTimeUnits() â†’ {Array} Computed binding: idle time values Source: pages/settings-page/settings-page.js, line 433 Returns: Array of menu items Type Array &lt;private, inner&gt; _deselectAllTapped() Event: deselect all module:sources/photo_source objects tapped Source: pages/settings-page/settings-page.js, line 368 &lt;private, inner&gt; _getUnit(name, min, max, step, mult) â†’ {Object} Return a Unit object Parameters: Name Type Description name string min int min value max int max value step int increment mult int multiplier between base and display Source: pages/settings-page/settings-page.js, line 287 Returns: Type Object &lt;private, inner&gt; _onEnabledChanged() Event: Change enabled state of screensaver Source: pages/settings-page/settings-page.js, line 324 &lt;private, inner&gt; _onHelpTapped() Event: Handle tap on help icon Source: pages/settings-page/settings-page.js, line 335 &lt;private, inner&gt; _restoreDefaultsTapped() Event: restore default settings tapped Source: pages/settings-page/settings-page.js, line 376 &lt;private, inner&gt; _selectAllTapped() Event: select all module:sources/photo_source objects tapped Source: pages/settings-page/settings-page.js, line 360 &lt;private, inner&gt; _setPhotoSourceChecked(useName, state) Set checked state of a module:sources/photo_source Parameters: Name Type Description useName string source name state boolean checked state Source: pages/settings-page/settings-page.js, line 300 &lt;private, inner&gt; _setPhotoSourcesChecked(state) Set checked state of all module:sources/photo_source objects Parameters: Name Type Description state boolean checked state Source: pages/settings-page/settings-page.js, line 313 &lt;inner&gt; deselectPhotoSource(useName) Deselect the given module:sources/photo_source Parameters: Name Type Description useName string Name of Source: pages/settings-page/settings-page.js, line 273 &lt;inner&gt; ready() Element is ready Source: pages/settings-page/settings-page.js, line 265 Ã— Search results Close "},"module-els_screensaver.html":{"id":"module-els_screensaver.html","title":"Module: els/screensaver","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/screensaver Module for a screensaver Source: screensaver-element/screensaver-element.js, line 69 Members &lt;static&gt; createPages :function Type: function Source: screensaver-element/screensaver-element.js, line 95 &lt;static&gt; isNoPhotos :function Type: function Source: screensaver-element/screensaver-element.js, line 99 &lt;static, constant&gt; Screensaver :Object Polymer element to display a screensaver Type: Object Source: screensaver-element/screensaver-element.js, line 113 &lt;static&gt; setNoPhotos :function Type: function Source: screensaver-element/screensaver-element.js, line 101 &lt;static&gt; setPaused :function Type: function Source: screensaver-element/screensaver-element.js, line 105 &lt;static&gt; setSizingType :function Type: function Source: screensaver-element/screensaver-element.js, line 97 &lt;static&gt; setTimeLabel :function Type: function Source: screensaver-element/screensaver-element.js, line 103 Methods &lt;private, inner&gt; _launch( [delay]) Launch the slide show Parameters: Name Type Argument Default Description delay int &lt;optional&gt; 1000 delay in milli sec before start Source: screensaver-element/screensaver-element.js, line 421 &lt;inner&gt; _onErrorChanged(ev) Event: Error state changed for a photo view Parameters: Name Type Description ev Event the event object Properties Name Type Description model Object template model Source: screensaver-element/screensaver-element.js, line 434 &lt;private, inner&gt; _setupPhotoTransitions() Process settings related to between photo transitions Source: screensaver-element/screensaver-element.js, line 383 &lt;private, inner&gt; _setZoom() Set the window zoom factor to 1.0 Source: screensaver-element/screensaver-element.js, line 398 &lt;inner&gt; createPages() Create the module:ss/views.Views that will be animated Source: screensaver-element/screensaver-element.js, line 336 &lt;inner&gt; isNoPhotos() â†’ {boolean} Do we have usable photos Source: screensaver-element/screensaver-element.js, line 352 Returns: true if all photos are bad Type boolean &lt;inner&gt; ready() Element is ready Source: screensaver-element/screensaver-element.js, line 306 &lt;inner&gt; setNoPhotos() Set the state when no photos are available Source: screensaver-element/screensaver-element.js, line 359 &lt;inner&gt; setPaused(paused) Set the state when slideshow is paused Parameters: Name Type Description paused boolean paused state Source: screensaver-element/screensaver-element.js, line 375 &lt;inner&gt; setSizingType(type) Set the sizing type for the paper-image elements Parameters: Name Type Description type string The sizing type Source: screensaver-element/screensaver-element.js, line 344 &lt;inner&gt; setTimeLabel(label) Set the time label Parameters: Name Type Description label string current time Source: screensaver-element/screensaver-element.js, line 367 Ã— Search results Close "},"module-els_setting_background.html":{"id":"module-els_setting_background.html","title":"Module: els/setting/background","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/setting/background Module for the SettingBackground Source: setting-elements/setting-background/setting-background.js, line 31 Members &lt;static, constant&gt; SettingBackground :Object Polymer element to select a background style Type: Object Source: setting-elements/setting-background/setting-background.js, line 42 Methods &lt;private, inner&gt; _onOK() Event: Set selected background on tap of OK button Source: setting-elements/setting-background/setting-background.js, line 203 &lt;private, inner&gt; _onTap() Event: Show dialog on tap Source: setting-elements/setting-background/setting-background.js, line 195 Ã— Search results Close "},"module-els_setting_dropdown.html":{"id":"module-els_setting_dropdown.html","title":"Module: els/setting/dropdown","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/setting/dropdown Module for the SettingDropdown Source: setting-elements/setting-dropdown/setting-dropdown.js, line 25 Members &lt;static, constant&gt; SettingDropdown :Object Polymer element to select an item from a list Type: Object Source: setting-elements/setting-dropdown/setting-dropdown.js, line 36 Methods &lt;private, inner&gt; _onItemSelected(ev) Event: menu item tapped Parameters: Name Type Description ev Event tap event Source: setting-elements/setting-dropdown/setting-dropdown.js, line 137 Ã— Search results Close "},"module-els_setting_link.html":{"id":"module-els_setting_link.html","title":"Module: els/setting/link","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/setting/link Module for the SettingLink Source: setting-elements/setting-link/setting-link.js, line 24 Members &lt;static, constant&gt; SettingLink :Object Polymer element for a url link Type: Object Source: setting-elements/setting-link/setting-link.js, line 35 Methods &lt;private, inner&gt; _onLinkTapped() Event: Item tapped - show url in new tab Source: setting-elements/setting-link/setting-link.js, line 133 Ã— Search results Close "},"module-els_setting_localize_behavior.html":{"id":"module-els_setting_localize_behavior.html","title":"Module: els/setting/localize_behavior","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/setting/localize_behavior Module for the LocalizeBehavior Source: setting-elements/localize-behavior/localize-behavior.js, line 13 Members &lt;static, constant&gt; LocalizeBehavior :Object Polymer behavior for internationalizing strings Type: Object Source: setting-elements/localize-behavior/localize-behavior.js, line 24 Ã— Search results Close "},"module-els_setting_slider.html":{"id":"module-els_setting_slider.html","title":"Module: els/setting/slider","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/setting/slider Module for a SettingSlider Source: setting-elements/setting-slider/setting-slider.js, line 27 Members &lt;static, constant&gt; SettingSlider :Object Polymer element for a url link Type: Object Source: setting-elements/setting-slider/setting-slider.js, line 56 Methods &lt;private, inner&gt; _onSliderValueChanged() Event: User changed slider value Source: setting-elements/setting-slider/setting-slider.js, line 244 &lt;private, inner&gt; _onUnitMenuSelected(ev) Event: unit menu item tapped Parameters: Name Type Description ev Event tap event Source: setting-elements/setting-slider/setting-slider.js, line 255 &lt;private, inner&gt; _setBase() Set the base value Source: setting-elements/setting-slider/setting-slider.js, line 267 &lt;private, inner&gt; _unitIdxChanged(newValue) Observer: Unit changed Parameters: Name Type Description newValue number Source: setting-elements/setting-slider/setting-slider.js, line 212 &lt;private, inner&gt; _valueChanged(newValue, oldValue) Observer: Value changed Parameters: Name Type Description newValue number oldValue number newValue.unit number oldValue.unit number Source: setting-elements/setting-slider/setting-slider.js, line 230 &lt;inner&gt; ready() Element is ready Source: setting-elements/setting-slider/setting-slider.js, line 201 Type Definitions UnitType A unit type Type: Object Properties: Name Type Description name string descriptive name min int min value max int max value step int increment of changes mult number multiplier of a base Source: setting-elements/setting-slider/setting-slider.js, line 32 UnitValue A number and associated units Type: Object Properties: Name Type Description base number value in base unit display number value in display unit unit int display unit Source: setting-elements/setting-slider/setting-slider.js, line 42 Ã— Search results Close "},"module-els_setting_text.html":{"id":"module-els_setting_text.html","title":"Module: els/setting/text","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/setting/text Module for the SettingText Source: setting-elements/setting-text/setting-text.js, line 26 Members &lt;static, constant&gt; SettingText :Object Polymer element for text entry Type: Object Source: setting-elements/setting-text/setting-text.js, line 37 Methods &lt;private, inner&gt; _onBlur() Event: Lost focus - fire setting-text-changed event Source: setting-elements/setting-text/setting-text.js, line 158 &lt;private, inner&gt; _onKeyUp(event) Event: keyup - fire setting-text-changed event on 'Enter' Parameters: Name Type Description event Event key event Properties Name Type Description keyCode int key code Source: setting-elements/setting-text/setting-text.js, line 169 Ã— Search results Close "},"module-els_setting_time.html":{"id":"module-els_setting_time.html","title":"Module: els/setting/time","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/setting/time Module for the SettingTime Source: setting-elements/setting-time/setting-time.js, line 26 Members &lt;static, constant&gt; SettingTime :Object Polymer element for time entry Type: Object Source: setting-elements/setting-time/setting-time.js, line 37 Ã— Search results Close "},"module-els_setting_toggle.html":{"id":"module-els_setting_toggle.html","title":"Module: els/setting/toggle","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/setting/toggle Module for the SettingToggle Source: setting-elements/setting-toggle/setting-toggle.js, line 28 Members &lt;static, constant&gt; SettingToggle :Object Polymer element for a toggle button Type: Object Source: setting-elements/setting-toggle/setting-toggle.js, line 39 Methods &lt;private, inner&gt; _onChange() Event: checked state changed Source: setting-elements/setting-toggle/setting-toggle.js, line 151 &lt;inner&gt; setChecked(checked) Set the checked state of the toggle Parameters: Name Type Description checked boolean checked state Source: setting-elements/setting-toggle/setting-toggle.js, line 142 Ã— Search results Close "},"module-els_shared_styles.html":{"id":"module-els_shared_styles.html","title":"Module: els/shared_styles","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/shared_styles Module for the shared styles Source: shared-styles.js, line 9 Ã— Search results Close "},"module-els_slide_animatable.html":{"id":"module-els_slide_animatable.html","title":"Module: els/slide_animatable","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/slide_animatable Module for the SlideAnimatable Source: slide-animatable/slide-animatable.js, line 16 Members &lt;static, constant&gt; SlideAnimatable :Object Polymer element to provide an animatable slide Type: Object Source: slide-animatable/slide-animatable.js, line 27 Methods &lt;private, inner&gt; _aniChanged(newValue) Observer: Animation type changed Parameters: Name Type Description newValue int new animation type Source: slide-animatable/slide-animatable.js, line 82 Ã— Search results Close "},"module-els_spin_down_animation.html":{"id":"module-els_spin_down_animation.html","title":"Module: els/spin_down_animation","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/spin_down_animation Module for the SpinDownAnimation Source: animations/spin-down-animation/spin-down-animation.js, line 28 Members &lt;static, constant&gt; SpinDownAnimation :Object Polymer element to provide a spin down animation Type: Object Source: animations/spin-down-animation/spin-down-animation.js, line 39 Methods &lt;inner&gt; configure(config) â†’ {KeyframeEffect} Configure the animation Parameters: Name Type Description config Object configuration object Source: animations/spin-down-animation/spin-down-animation.js, line 51 Returns: new key frame effect Type KeyframeEffect Ã— Search results Close "},"module-els_spin_up_animation.html":{"id":"module-els_spin_up_animation.html","title":"Module: els/spin_up_animation","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/spin_up_animation Module for the SpinUpAnimation Source: animations/spin-up-animation/spin-up-animation.js, line 31 Members &lt;static, constant&gt; SpinUpAnimation :Object Polymer element to provide a spin up animation Type: Object Source: animations/spin-up-animation/spin-up-animation.js, line 42 Methods &lt;inner&gt; configure(config) â†’ {KeyframeEffect} Configure the animation Parameters: Name Type Description config Object configuration object Source: animations/spin-up-animation/spin-up-animation.js, line 54 Returns: new key frame effect Type KeyframeEffect Ã— Search results Close "},"module-els_waiter_element.html":{"id":"module-els_waiter_element.html","title":"Module: els/waiter_element","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: els/waiter_element Module for the Waiter Element Source: waiter-element/waiter-element.js, line 20 Members &lt;static, constant&gt; WaiterElement :Object Polymer element to display waiter for lengthy operations Type: Object Source: waiter-element/waiter-element.js, line 31 Methods &lt;private, inner&gt; _statusLabelChanged(label) Observer: Set status label Parameters: Name Type Description label string label Source: waiter-element/waiter-element.js, line 94 Ã— Search results Close "},"module-msg.html":{"id":"module-msg.html","title":"Module: msg","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: msg Wrapper for chrome messages specific to this app Source: my_msg.js, line 9 See: https://developer.chrome.com/extensions/messaging Members &lt;inner, constant&gt; _MSG :Object Chrome Messages for this app Type: Object Properties: Name Type Description SS_SHOW module:chrome/msg.Message show screensaver SS_CLOSE module:chrome/msg.Message close screensaver SS_IS_SHOWING module:chrome/msg.Message is a screensaver showing PHOTO_SOURCE_FAILED module:chrome/msg.Message failed to web load LOAD_FILTERED_PHOTOS module:chrome/msg.Message request to load the filtered google photos FILTERED_PHOTOS_COUNT module:chrome/msg.Message number of photos LOAD_ALBUMS module:chrome/msg.Message request to load contents of the saved albums LOAD_ALBUM module:chrome/msg.Message request to load the contents of a google photos album ALBUM_PHOTOS_COUNT module:chrome/msg.Message number of photos loaded so far Source: my_msg.js, line 33 Ã— Search results Close "},"module-permissions.html":{"id":"module-permissions.html","title":"Module: permissions","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: permissions Handle optional permissions Source: permissions.js, line 18 Members &lt;static, constant&gt; BACKGROUND :module:permissions.Type Permission for running in background Type: module:permissions.Type Source: permissions.js, line 69 &lt;static, constant&gt; PICASA :module:permissions.Type Permission for access to users' Google Photos Type: module:permissions.Type Source: permissions.js, line 58 &lt;private, inner, constant&gt; _STATE :module:permissions.State Possible states of an module:permissions.Type Type: module:permissions.State Source: permissions.js, line 47 Methods &lt;static&gt; deny(type) â†’ {Promise.&lt;boolean&gt;} Remove and deny the optional permissions Parameters: Name Type Description type module:permissions.Type permission type Source: permissions.js, line 155 Returns: true if removed Type Promise.&lt;boolean&gt; &lt;static&gt; isAllowed(type) â†’ {boolean} Has the user allowed the optional permissions Parameters: Name Type Description type module:permissions.Type permission type Source: permissions.js, line 89 Returns: true if allowed Type boolean &lt;static&gt; isDenied(type) â†’ {boolean} Has the user explicitly denied the permission Parameters: Name Type Description type module:permissions.Type permission type Source: permissions.js, line 98 Returns: true if allowed Type boolean &lt;static&gt; notSet(type) â†’ {boolean} Has user mot made a choice on permission Parameters: Name Type Description type module:permissions.Type permission type Source: permissions.js, line 80 Returns: true if notSet Type boolean &lt;static&gt; remove(type) â†’ {Promise.&lt;boolean&gt;} Remove the optional permissions Parameters: Name Type Description type module:permissions.Type permission type Source: permissions.js, line 132 Returns: true if removed Type Promise.&lt;boolean&gt; &lt;static&gt; removeGooglePhotos() â†’ {Promise.&lt;void&gt;} Remove, deny, and clear photo selections for Google Photos Source: permissions.js, line 169 Returns: Type Promise.&lt;void&gt; &lt;static&gt; request(type) â†’ {Promise.&lt;boolean&gt;} Request optional permission - may block Parameters: Name Type Description type module:permissions.Type permission type Source: permissions.js, line 107 Returns: true if permission granted Type Promise.&lt;boolean&gt; &lt;inner&gt; _contains(type) â†’ {Promise.&lt;boolean&gt;} Determine if we have the optional permissions Parameters: Name Type Description type module:permissions.Type permission type Source: permissions.js, line 207 Returns: true if we have permissions Type Promise.&lt;boolean&gt; &lt;private, inner&gt; _setState(type, value) Persist the state of an module:permissions.Type Parameters: Name Type Description type module:permissions.Type permission type value string permission state Source: permissions.js, line 193 Type Definitions State A permission state enum Type: Object Properties: Name Type Description notSet string never been allowed or denied allowed string user allowed denied string user denied Source: permissions.js, line 25 Type A permission type Type: Object Properties: Name Type Description name string name in localStorage permissions Array.&lt;string&gt; array of permissions origins Array.&lt;string&gt; array of origins Source: permissions.js, line 33 Ã— Search results Close "},"module-sources_photo_source.html":{"id":"module-sources_photo_source.html","title":"Module: sources/photo_source","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: sources/photo_source A source of photos for the screen saver Source: sources/photo_source.js, line 17 Classes PhotoSource Type Definitions Photo A photo from a module:sources/photo_source.PhotoSource This is the photo information that is persisted. Type: Object Properties: Name Type Argument Description url string The url to the photo author string The photographer asp number The aspect ratio of the photo ex Object &lt;optional&gt; Additional information about the photo point string &lt;optional&gt; geolocation 'lat lon' Source: sources/photo_source.js, line 22 Photos The photos for a module:sources/photo_source.PhotoSource Type: Object Properties: Name Type Description type string type of module:sources/photo_source.PhotoSource photos Array.&lt;module:sources/photo_source.Photo&gt; The photos Source: sources/photo_source.js, line 34 Ã— Search results Close "},"module-sources_photo_source.PhotoSource.html":{"id":"module-sources_photo_source.PhotoSource.html","title":"Class: PhotoSource","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: PhotoSource sources/photo_source. PhotoSource A source of photos for the screen saver new PhotoSource(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source.js, line 46 Methods &lt;static&gt; addPhoto(photos, url, author, asp [, ex] [, point]) Add a module:sources/photo_source.Photo to an existing Array Parameters: Name Type Argument Default Description photos Array module:sources/photo_source.Photo Array url string The url to the photo author string The photographer asp number The aspect ratio of the photo ex Object &lt;optional&gt; Additional information about the photo point string &lt;optional&gt; '' 'lat lon' Source: sources/photo_source.js, line 78 &lt;static&gt; createPoint(lat, lon) â†’ {string} Create a geo point string from a latitude and longitude Parameters: Name Type Description lat number latitude lon number longitude Source: sources/photo_source.js, line 99 Returns: 'lat lon' Type string &lt;async, private&gt; _savePhotos(photos) â†’ {Promise.&lt;?string&gt;} Save the photos to chrome.storage.local in a safe manner Parameters: Name Type Description photos Object could be array of module:sources/photo_source.Photo or albums Source: sources/photo_source.js, line 235 Returns: non-null on error Type Promise.&lt;?string&gt; &lt;abstract&gt; fetchPhotos() â†’ {Promise.&lt;Object&gt;} Fetch the photos for this source - override Source: sources/photo_source.js, line 112 Returns: could be array of photos or albums Type Promise.&lt;Object&gt; getDesc() â†’ {string} Get a human readable description Source: sources/photo_source.js, line 135 Returns: the photos key Type string &lt;async&gt; getPhotos() â†’ {Promise.&lt;module:sources/photo_source.Photos&gt;} Get the photos from local storage Source: sources/photo_source.js, line 159 Returns: the photos Type Promise.&lt;module:sources/photo_source.Photos&gt; getPhotosKey() â†’ {string} Get if the photos key that is persisted Source: sources/photo_source.js, line 127 Returns: the photos key Type string getType() â†’ {string} Get the source type Source: sources/photo_source.js, line 119 Returns: the source type Type string getUseKey() â†’ {string} Get use key name Source: sources/photo_source.js, line 143 Returns: the source type Type string isDaily() â†’ {boolean} Get if we should update daily Source: sources/photo_source.js, line 151 Returns: if true, update daily Type boolean process() â†’ {Promise.&lt;void&gt;} Process the photo source. Source: sources/photo_source.js, line 195 Returns: void Type Promise.&lt;void&gt; use() â†’ {boolean} Determine if this source has been selected for display Source: sources/photo_source.js, line 187 Returns: true if selected Type boolean Ã— Search results Close "},"module-sources_photo_source_chromecast.html":{"id":"module-sources_photo_source_chromecast.html","title":"Module: sources/photo_source_chromecast","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: sources/photo_source_chromecast A source of photos from Chromecast Source: sources/photo_source_chromecast.js, line 13 Classes CCSource Ã— Search results Close "},"module-sources_photo_source_chromecast.CCSource.html":{"id":"module-sources_photo_source_chromecast.CCSource.html","title":"Class: CCSource","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: CCSource sources/photo_source_chromecast. CCSource A source of photos from Chromecast new CCSource(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Extends: module:sources/photo_source.PhotoSource Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source_chromecast.js, line 23 Extends module:sources/photo_source.PhotoSource Methods &lt;async, private&gt; _savePhotos(photos) â†’ {Promise.&lt;?string&gt;} Save the photos to chrome.storage.local in a safe manner Parameters: Name Type Description photos Object could be array of module:sources/photo_source.Photo or albums Inherited From: module:sources/photo_source.PhotoSource#_savePhotos Source: sources/photo_source.js, line 235 Returns: non-null on error Type Promise.&lt;?string&gt; fetchPhotos() â†’ {Promise.&lt;Array.&lt;PhotoSource.Photo&gt;&gt;} Fetch the photos for this source Overrides: module:sources/photo_source.PhotoSource#fetchPhotos Source: sources/photo_source_chromecast.js, line 44 Returns: Array of photos Type Promise.&lt;Array.&lt;PhotoSource.Photo&gt;&gt; getDesc() â†’ {string} Get a human readable description Inherited From: module:sources/photo_source.PhotoSource#getDesc Source: sources/photo_source.js, line 135 Returns: the photos key Type string &lt;async&gt; getPhotos() â†’ {Promise.&lt;module:sources/photo_source.Photos&gt;} Get the photos from local storage Inherited From: module:sources/photo_source.PhotoSource#getPhotos Source: sources/photo_source.js, line 159 Returns: the photos Type Promise.&lt;module:sources/photo_source.Photos&gt; getPhotosKey() â†’ {string} Get if the photos key that is persisted Inherited From: module:sources/photo_source.PhotoSource#getPhotosKey Source: sources/photo_source.js, line 127 Returns: the photos key Type string getType() â†’ {string} Get the source type Inherited From: module:sources/photo_source.PhotoSource#getType Source: sources/photo_source.js, line 119 Returns: the source type Type string getUseKey() â†’ {string} Get use key name Inherited From: module:sources/photo_source.PhotoSource#getUseKey Source: sources/photo_source.js, line 143 Returns: the source type Type string isDaily() â†’ {boolean} Get if we should update daily Inherited From: module:sources/photo_source.PhotoSource#isDaily Source: sources/photo_source.js, line 151 Returns: if true, update daily Type boolean process() â†’ {Promise.&lt;void&gt;} Process the photo source. Inherited From: module:sources/photo_source.PhotoSource#process Source: sources/photo_source.js, line 195 Returns: void Type Promise.&lt;void&gt; use() â†’ {boolean} Determine if this source has been selected for display Inherited From: module:sources/photo_source.PhotoSource#use Source: sources/photo_source.js, line 187 Returns: true if selected Type boolean Ã— Search results Close "},"module-sources_photo_source_factory.html":{"id":"module-sources_photo_source_factory.html","title":"Module: sources/photo_source_factory","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: sources/photo_source_factory Factory to create module:sources/photo_source.PhotoSource instances Source: sources/photo_source_factory.js, line 19 Methods &lt;static&gt; create(useKey) â†’ {module:sources/photo_source.PhotoSource} Factory Method to create a new module:sources/photo_source.PhotoSource Parameters: Name Type Description useKey string module:sources/photo_sources.UseKey Source: sources/photo_source_factory.js, line 29 Returns: a new PhotoSource or subclass Type module:sources/photo_source.PhotoSource Ã— Search results Close "},"module-sources_photo_source_flickr.html":{"id":"module-sources_photo_source_flickr.html","title":"Module: sources/photo_source_flickr","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: sources/photo_source_flickr A source of photos from Flickr Source: sources/photo_source_flickr.js, line 15 Classes FlickrSource Members &lt;private, inner, constant&gt; _KEY :string Flickr rest API authorization key Type: string Source: sources/photo_source_flickr.js, line 34 &lt;private, inner, constant&gt; _MAX_PHOTOS :int Max photos to return Type: int Source: sources/photo_source_flickr.js, line 42 &lt;private, inner, constant&gt; _URL_BASE :string Flickr rest API Type: string Source: sources/photo_source_flickr.js, line 26 Ã— Search results Close "},"module-sources_photo_source_flickr.FlickrSource.html":{"id":"module-sources_photo_source_flickr.FlickrSource.html","title":"Class: FlickrSource","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: FlickrSource sources/photo_source_flickr. FlickrSource A source of photos from Flickr new FlickrSource(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Extends: module:sources/photo_source.PhotoSource Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source_flickr.js, line 49 Extends module:sources/photo_source.PhotoSource Methods &lt;private, static&gt; _processPhotos(response) â†’ {Promise.&lt;Array.&lt;module:sources/photo_source.Photo&gt;&gt;} Extract the photos into an Array Parameters: Name Type Description response JSON server response Source: sources/photo_source_flickr.js, line 73 Returns: Array of photos Type Promise.&lt;Array.&lt;module:sources/photo_source.Photo&gt;&gt; &lt;async, private&gt; _savePhotos(photos) â†’ {Promise.&lt;?string&gt;} Save the photos to chrome.storage.local in a safe manner Parameters: Name Type Description photos Object could be array of module:sources/photo_source.Photo or albums Inherited From: module:sources/photo_source.PhotoSource#_savePhotos Source: sources/photo_source.js, line 235 Returns: non-null on error Type Promise.&lt;?string&gt; fetchPhotos() â†’ {Promise.&lt;Array.&lt;module:sources/photo_source.Photo&gt;&gt;} Fetch the photos for this source Overrides: module:sources/photo_source.PhotoSource#fetchPhotos Source: sources/photo_source_flickr.js, line 115 Returns: Array of photos Type Promise.&lt;Array.&lt;module:sources/photo_source.Photo&gt;&gt; getDesc() â†’ {string} Get a human readable description Inherited From: module:sources/photo_source.PhotoSource#getDesc Source: sources/photo_source.js, line 135 Returns: the photos key Type string &lt;async&gt; getPhotos() â†’ {Promise.&lt;module:sources/photo_source.Photos&gt;} Get the photos from local storage Inherited From: module:sources/photo_source.PhotoSource#getPhotos Source: sources/photo_source.js, line 159 Returns: the photos Type Promise.&lt;module:sources/photo_source.Photos&gt; getPhotosKey() â†’ {string} Get if the photos key that is persisted Inherited From: module:sources/photo_source.PhotoSource#getPhotosKey Source: sources/photo_source.js, line 127 Returns: the photos key Type string getType() â†’ {string} Get the source type Inherited From: module:sources/photo_source.PhotoSource#getType Source: sources/photo_source.js, line 119 Returns: the source type Type string getUseKey() â†’ {string} Get use key name Inherited From: module:sources/photo_source.PhotoSource#getUseKey Source: sources/photo_source.js, line 143 Returns: the source type Type string isDaily() â†’ {boolean} Get if we should update daily Inherited From: module:sources/photo_source.PhotoSource#isDaily Source: sources/photo_source.js, line 151 Returns: if true, update daily Type boolean process() â†’ {Promise.&lt;void&gt;} Process the photo source. Inherited From: module:sources/photo_source.PhotoSource#process Source: sources/photo_source.js, line 195 Returns: void Type Promise.&lt;void&gt; use() â†’ {boolean} Determine if this source has been selected for display Inherited From: module:sources/photo_source.PhotoSource#use Source: sources/photo_source.js, line 187 Returns: true if selected Type boolean Ã— Search results Close "},"module-sources_photo_source_google.html":{"id":"module-sources_photo_source_google.html","title":"Module: sources/photo_source_google","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: sources/photo_source_google A source of photos from Google Photos Source: sources/photo_source_google.js, line 29 Classes GoogleSource Members &lt;private, inner, constant&gt; _ALBUMS_QUERY :string Query for list of albums Type: string Source: sources/photo_source_google.js, line 83 &lt;private, inner, constant&gt; _MEDIA_ITEMS_FIELDS :string Only return stuff we use Type: string Source: sources/photo_source_google.js, line 94 &lt;private, inner, constant&gt; _MEDIA_ITEMS_RESULTS_FIELDS :string Only return stuff we use Type: string Source: sources/photo_source_google.js, line 105 &lt;private, inner, constant&gt; _URL_BASE :string Path to Google Photos API Type: string Default Value: https://photoslibrary.googleapis.com/v1/ Source: sources/photo_source_google.js, line 74 Type Definitions Album A Google Photo Album Type: Object Properties: Name Type Description index int Array index uid string unique identifier name string album name id string Google album Id thumb string thumbnail url checked boolean is album selected ct int number of photos photos Array.&lt;module:sources/photo_source.Photo&gt; Array of photos Source: sources/photo_source_google.js, line 34 mediaItem Google Photos API representation of a photo Type: Object Properties: Name Type Description id Object mimeType Object baseUrl Object productUrl Object mediaMetadata Object Properties Name Type Description width Object height Object Source: sources/photo_source_google.js, line 55 SelectedAlbum A Selected Google Photo Album, this is persisted Type: Object Properties: Name Type Description id string Google album Id name string Google album name photos Array.&lt;module:sources/photo_source.Photo&gt; Array of photos Source: sources/photo_source_google.js, line 47 Ã— Search results Close "},"module-sources_photo_source_google.GoogleSource.html":{"id":"module-sources_photo_source_google.GoogleSource.html","title":"Class: GoogleSource","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: GoogleSource sources/photo_source_google. GoogleSource A source of photos from Google Photos new GoogleSource(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Extends: module:sources/photo_source.PhotoSource Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source_google.js, line 115 Extends module:sources/photo_source.PhotoSource Members &lt;static&gt; DEF_FILTER Default photo filter Source: sources/photo_source_google.js, line 137 &lt;static&gt; MAX_ALBUM_PHOTOS Max photos per album to use Source: sources/photo_source_google.js, line 183 &lt;static&gt; MAX_ALBUMS Max albums to use Source: sources/photo_source_google.js, line 174 &lt;static&gt; MAX_FILTERED_PHOTOS Max photos google images mode Source: sources/photo_source_google.js, line 201 &lt;static&gt; MAX_PHOTOS Max photos total to use for album mode Source: sources/photo_source_google.js, line 192 &lt;static&gt; NO_FILTER No filtering Source: sources/photo_source_google.js, line 159 Methods &lt;async, static&gt; _fetchAlbums() â†’ {Promise.&lt;Array.&lt;module:sources/photo_source_google.SelectedAlbum&gt;&gt;} Fetch the most recent state for the selected albums Source: sources/photo_source_google.js, line 745 Throws: An error if we could not load an album Returns: Array of albums Type Promise.&lt;Array.&lt;module:sources/photo_source_google.SelectedAlbum&gt;&gt; &lt;private, static&gt; _getImageSize(mediaMetadata) â†’ {Object} Get the image size to retrieve Parameters: Name Type Description mediaMetadata Object info on image Source: sources/photo_source_google.js, line 788 Returns: image size Type Object &lt;static&gt; _isFetch() â†’ {boolean} Return true if we should be fetching from Google trying to minimize Google Photos API usage Source: sources/photo_source_google.js, line 726 Returns: true if we should fetch Type boolean &lt;private, static&gt; _isImage(mediaItem) â†’ {boolean} Determine if a mediaEntry is an image Parameters: Name Type Description mediaItem module:sources/photo_source_google.mediaItem Google Photos media object Source: sources/photo_source_google.js, line 773 Returns: true if entry is a photo Type boolean &lt;private, static&gt; _processPhoto(mediaItem, albumName) â†’ {module:sources/photo_source.Photo} Get a photo from a mediaItem Parameters: Name Type Description mediaItem module:sources/photo_source_google.mediaItem object from Google Photos API call albumName string Album name Source: sources/photo_source_google.js, line 818 Returns: Photo, null if error Type module:sources/photo_source.Photo &lt;private, static&gt; _processPhotos(mediaItems [, albumName]) â†’ {Array.&lt;module:sources/photo_source.Photo&gt;} Extract the photos into an Array Parameters: Name Type Argument Default Description mediaItems Object objects from Google Photos API call albumName string &lt;optional&gt; '' optional Album name Source: sources/photo_source_google.js, line 852 Returns: Array of photos Type Array.&lt;module:sources/photo_source.Photo&gt; &lt;async, private, static&gt; _updateAlbumsBaseUrls(photos) â†’ {boolean} Update the baseUrls of the given photos in the saved albums Parameters: Name Type Description photos Array.&lt;module:sources/photo_source.Photo&gt; Source: sources/photo_source_google.js, line 639 Throws: An error on failure Returns: false if couldn't persist albumSelections Type boolean &lt;async, private, static&gt; _updatePhotosBaseUrls(photos) â†’ {boolean} Update the baseUrls of the given photos in the saved photos Parameters: Name Type Description photos Array.&lt;module:sources/photo_source.Photo&gt; Source: sources/photo_source_google.js, line 686 Throws: An error on failure Returns: false if couldn't persist googleImages Type boolean &lt;static&gt; isAuthRevokedError(err, name) â†’ {boolean} Is the error due to a revoked auth token Parameters: Name Type Description err Error info on image name string calling method Source: sources/photo_source_google.js, line 231 Returns: true if OAuth2 not granted or revoked Type boolean &lt;async, static&gt; loadAlbum(id, name, interactive, notify) â†’ {module:sources/photo_source_google.Album} Retrieve a Google Photos album Parameters: Name Type Default Description id string Unique Album ID name string Album name interactive boolean true interactive mode for permissions notify boolean false notify listeners of status Source: sources/photo_source_google.js, line 320 Throws: An error if the album failed to load. Returns: Album Type module:sources/photo_source_google.Album &lt;async, static&gt; loadAlbumList() â†’ {Promise.&lt;Array.&lt;module:sources/photo_source_google.Album&gt;&gt;} Retrieve the user's list of albums Source: sources/photo_source_google.js, line 254 Throws: An error if the album list failed to load. Returns: Array of albums Type Promise.&lt;Array.&lt;module:sources/photo_source_google.Album&gt;&gt; &lt;async, static&gt; loadAlbums(interactive, notify) â†’ {Promise.&lt;Array.&lt;module:sources/photo_source_google.Album&gt;&gt;} Load the saved albums from the Web Parameters: Name Type Default Description interactive boolean true interactive mode for permissions notify boolean false notify listeners of status Source: sources/photo_source_google.js, line 394 Throws: An error if the albums could not be updated Returns: Type Promise.&lt;Array.&lt;module:sources/photo_source_google.Album&gt;&gt; &lt;async, static&gt; loadFilteredPhotos( [force] [, notify]) â†’ {Promise.&lt;Array.&lt;module:sources/photo_source.Photo&gt;&gt;} Load photos based on a filter Parameters: Name Type Argument Default Description force boolean &lt;optional&gt; false if true, force rpc notify boolean &lt;optional&gt; false if true, notify listeners of progress Source: sources/photo_source_google.js, line 458 Throws: An error if we could not load the photos Returns: Array of photos Type Promise.&lt;Array.&lt;module:sources/photo_source.Photo&gt;&gt; &lt;async, static&gt; loadPhotos(ids) â†’ {Promise.&lt;Array.&lt;module:sources/photo_source.Photo&gt;&gt;} Load the given array of unique photo id's from Google Photos Parameters: Name Type Description ids Array.&lt;string&gt; array of ids Source: sources/photo_source_google.js, line 544 Throws: An error if the photos failed to load Returns: array of photos Type Promise.&lt;Array.&lt;module:sources/photo_source.Photo&gt;&gt; &lt;async, static&gt; updateBaseUrls(photos) â†’ {boolean} Update the baseUrls of the given photos Parameters: Name Type Description photos Array.&lt;module:sources/photo_source.Photo&gt; Source: sources/photo_source_google.js, line 610 Throws: An error on failure Returns: false if couldn't persist albumSelections Type boolean &lt;async, private&gt; _savePhotos(photos) â†’ {Promise.&lt;?string&gt;} Save the photos to chrome.storage.local in a safe manner Parameters: Name Type Description photos Object could be array of module:sources/photo_source.Photo or albums Inherited From: module:sources/photo_source.PhotoSource#_savePhotos Source: sources/photo_source.js, line 235 Returns: non-null on error Type Promise.&lt;?string&gt; &lt;async&gt; fetchPhotos() â†’ {Promise.&lt;(Array.&lt;module:sources/photo_source_google.SelectedAlbum&gt;|Array.&lt;module:sources/photo_source.Photo&gt;)&gt;} Fetch the albums or photos for this source Overrides: module:sources/photo_source.PhotoSource#fetchPhotos Source: sources/photo_source_google.js, line 873 Throws: An error if we couldn't update Returns: array of albums or array of photos Type Promise.&lt;(Array.&lt;module:sources/photo_source_google.SelectedAlbum&gt;|Array.&lt;module:sources/photo_source.Photo&gt;)&gt; getDesc() â†’ {string} Get a human readable description Inherited From: module:sources/photo_source.PhotoSource#getDesc Source: sources/photo_source.js, line 135 Returns: the photos key Type string &lt;async&gt; getPhotos() â†’ {Promise.&lt;module:sources/photo_source.Photos&gt;} Get the photos from local storage Inherited From: module:sources/photo_source.PhotoSource#getPhotos Source: sources/photo_source.js, line 159 Returns: the photos Type Promise.&lt;module:sources/photo_source.Photos&gt; getPhotosKey() â†’ {string} Get if the photos key that is persisted Inherited From: module:sources/photo_source.PhotoSource#getPhotosKey Source: sources/photo_source.js, line 127 Returns: the photos key Type string getType() â†’ {string} Get the source type Inherited From: module:sources/photo_source.PhotoSource#getType Source: sources/photo_source.js, line 119 Returns: the source type Type string getUseKey() â†’ {string} Get use key name Inherited From: module:sources/photo_source.PhotoSource#getUseKey Source: sources/photo_source.js, line 143 Returns: the source type Type string isDaily() â†’ {boolean} Get if we should update daily Inherited From: module:sources/photo_source.PhotoSource#isDaily Source: sources/photo_source.js, line 151 Returns: if true, update daily Type boolean process() â†’ {Promise.&lt;void&gt;} Process the photo source. Inherited From: module:sources/photo_source.PhotoSource#process Source: sources/photo_source.js, line 195 Returns: void Type Promise.&lt;void&gt; use() â†’ {boolean} Determine if this source has been selected for display Inherited From: module:sources/photo_source.PhotoSource#use Source: sources/photo_source.js, line 187 Returns: true if selected Type boolean Ã— Search results Close "},"module-sources_photo_source_reddit.html":{"id":"module-sources_photo_source_reddit.html","title":"Module: sources/photo_source_reddit","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: sources/photo_source_reddit A source of photos from reddit Source: sources/photo_source_reddit.js, line 11 Classes RedditSource Members &lt;private, inner, constant&gt; _KEY :string Reddit rest API authorization key Type: string Source: sources/photo_source_reddit.js, line 32 &lt;private, inner, constant&gt; _MAX_PHOTOS :int Max photos to return Type: int Default Value: 100 Source: sources/photo_source_reddit.js, line 41 &lt;private, inner, constant&gt; _MAX_SIZE :int Max size of photo to use Type: int Default Value: 3500 Source: sources/photo_source_reddit.js, line 59 &lt;private, inner, constant&gt; _MIN_SIZE :int Min size of photo to use Type: int Default Value: 750 Source: sources/photo_source_reddit.js, line 50 &lt;private, inner, constant&gt; _REDIRECT_URI :string Extension's redirect uri Type: string Source: sources/photo_source_reddit.js, line 22 &lt;private, inner&gt; _snoocore :function Expose reddit API Type: function Source: sources/photo_source_reddit.js, line 66 Ã— Search results Close "},"module-sources_photo_source_reddit.RedditSource.html":{"id":"module-sources_photo_source_reddit.RedditSource.html","title":"Class: RedditSource","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: RedditSource sources/photo_source_reddit. RedditSource A source of photos from reddit new RedditSource(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Extends: module:sources/photo_source.PhotoSource Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source_reddit.js, line 73 Extends module:sources/photo_source.PhotoSource Methods &lt;private, static&gt; _getSize(title) â†’ {Object} Parse the size from the submission title. this is the old way reddit did it Parameters: Name Type Description title string submission title Source: sources/photo_source_reddit.js, line 136 Returns: Photo size Type Object &lt;private, static&gt; _processChildren(children) â†’ {Array.&lt;module:sources/photo_source.Photo&gt;} Build the list of photos for one page of items Parameters: Name Type Description children Array Array of objects from reddit Source: sources/photo_source_reddit.js, line 153 Returns: Array of photos Type Array.&lt;module:sources/photo_source.Photo&gt; &lt;static&gt; _waitForLib() â†’ {Promise} Wait for snoocore library Source: sources/photo_source_reddit.js, line 95 See: https://stackoverflow.com/a/30506051/4468645 Returns: resolves when snoocore library loads Type Promise &lt;async, private&gt; _savePhotos(photos) â†’ {Promise.&lt;?string&gt;} Save the photos to chrome.storage.local in a safe manner Parameters: Name Type Description photos Object could be array of module:sources/photo_source.Photo or albums Inherited From: module:sources/photo_source.PhotoSource#_savePhotos Source: sources/photo_source.js, line 235 Returns: non-null on error Type Promise.&lt;?string&gt; fetchPhotos() â†’ {Promise.&lt;Array.&lt;module:sources/photo_source.Photo&gt;&gt;} Fetch the photos for this source Overrides: module:sources/photo_source.PhotoSource#fetchPhotos Source: sources/photo_source_reddit.js, line 202 Returns: Array of photos Type Promise.&lt;Array.&lt;module:sources/photo_source.Photo&gt;&gt; getDesc() â†’ {string} Get a human readable description Inherited From: module:sources/photo_source.PhotoSource#getDesc Source: sources/photo_source.js, line 135 Returns: the photos key Type string &lt;async&gt; getPhotos() â†’ {Promise.&lt;module:sources/photo_source.Photos&gt;} Get the photos from local storage Inherited From: module:sources/photo_source.PhotoSource#getPhotos Source: sources/photo_source.js, line 159 Returns: the photos Type Promise.&lt;module:sources/photo_source.Photos&gt; getPhotosKey() â†’ {string} Get if the photos key that is persisted Inherited From: module:sources/photo_source.PhotoSource#getPhotosKey Source: sources/photo_source.js, line 127 Returns: the photos key Type string getType() â†’ {string} Get the source type Inherited From: module:sources/photo_source.PhotoSource#getType Source: sources/photo_source.js, line 119 Returns: the source type Type string getUseKey() â†’ {string} Get use key name Inherited From: module:sources/photo_source.PhotoSource#getUseKey Source: sources/photo_source.js, line 143 Returns: the source type Type string isDaily() â†’ {boolean} Get if we should update daily Inherited From: module:sources/photo_source.PhotoSource#isDaily Source: sources/photo_source.js, line 151 Returns: if true, update daily Type boolean process() â†’ {Promise.&lt;void&gt;} Process the photo source. Inherited From: module:sources/photo_source.PhotoSource#process Source: sources/photo_source.js, line 195 Returns: void Type Promise.&lt;void&gt; use() â†’ {boolean} Determine if this source has been selected for display Inherited From: module:sources/photo_source.PhotoSource#use Source: sources/photo_source.js, line 187 Returns: true if selected Type boolean Ã— Search results Close "},"module-sources_photo_sources.html":{"id":"module-sources_photo_sources.html","title":"Module: sources/photo_sources","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: sources/photo_sources Manage the module:sources/photo_source.PhotoSource objects Source: sources/photo_sources.js, line 17 Members &lt;static, readonly&gt; UseKey :enum Enum for module:sources/photo_source.PhotoSource useKey Type: enum Source: sources/photo_sources.js, line 22 Methods &lt;static&gt; getSelectedPhotos() â†’ {Promise.&lt;Array.&lt;module:sources/photo_source.Photos&gt;&gt;} Get all the photos from all selected sources. These will be used by the screensaver. Source: sources/photo_sources.js, line 110 Returns: Array of sources photos Type Promise.&lt;Array.&lt;module:sources/photo_source.Photos&gt;&gt; &lt;static&gt; getSelectedSources() â†’ {Array.&lt;module:sources/photo_source.PhotoSource&gt;} Get the sources that are marked true in local storage Source: sources/photo_sources.js, line 43 Returns: Array of sources Type Array.&lt;module:sources/photo_source.PhotoSource&gt; &lt;static&gt; getUseKeys() â†’ {Array.&lt;string&gt;} Get all the usage keys Source: sources/photo_sources.js, line 64 Returns: Array of usage keys Type Array.&lt;string&gt; &lt;static&gt; isUseKey(keyName) â†’ {boolean} Determine if a given key is a photo source Parameters: Name Type Description keyName string key to check Source: sources/photo_sources.js, line 77 Returns: true if photo source Type boolean &lt;static&gt; process(useKey) â†’ {Promise.&lt;void&gt;} Process the given photo source and save to localStorage. Parameters: Name Type Description useKey string The photo source to retrieve Source: sources/photo_sources.js, line 93 Returns: void Type Promise.&lt;void&gt; &lt;static&gt; processAll(doGoogle) Process all the selected photo sources. This normally requires a https call and may fail for various reasons Parameters: Name Type Default Description doGoogle boolean false update user's Google Photos too Source: sources/photo_sources.js, line 125 &lt;static&gt; processDaily() Process all the selected photo sources that are to be updated every day. This normally requires a https call and may fail for various reasons Source: sources/photo_sources.js, line 144 Ã— Search results Close "},"module-ss_builder.html":{"id":"module-ss_builder.html","title":"Module: ss/builder","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/builder Builder for a module:els/screensaver.Screensaver Source: screensaver/ss_builder.js, line 17 Methods &lt;static&gt; build() â†’ {Promise.&lt;boolean&gt;} Build everything related to a module:els/screensaver.Screensaver Source: screensaver/ss_builder.js, line 26 Returns: true if there are photos for the show Type Promise.&lt;boolean&gt; &lt;async, private, inner&gt; _loadPhotos() â†’ {Promise.&lt;boolean&gt;} Build the module:ss/photos.Photos that will be displayed Source: screensaver/ss_builder.js, line 43 Returns: true if there is at least one photo Type Promise.&lt;boolean&gt; Ã— Search results Close "},"module-ss_events.html":{"id":"module-ss_events.html","title":"Module: ss/events","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/events Event handling for a module:els/screensaver.Screensaver Source: screensaver/ss_events.js, line 20 Members &lt;private, inner, constant&gt; _MOUSE_START :Object Starting mouse position Type: Object Source: screensaver/ss_events.js, line 31 Methods &lt;private, inner&gt; _close() Close ourselves Source: screensaver/ss_events.js, line 37 &lt;private, inner&gt; _onKey(ev) Event: KeyboardEvent Parameters: Name Type Description ev KeyboardEvent KeyboardEvent Source: screensaver/ss_events.js, line 95 See: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent &lt;private, inner&gt; _onKeyCommand(cmd) Event: Fired when a registered command is activated using a keyboard shortcut. Parameters: Name Type Description cmd string keyboard command Source: screensaver/ss_events.js, line 53 See: https://developer.chrome.com/extensions/commands#event-onCommand &lt;private, inner&gt; _onLoad() Event: called when document and resources are loaded Source: screensaver/ss_events.js, line 158 &lt;private, inner&gt; _onMessage(request [, sender] [, response]) â†’ {boolean} Event: Fired when a message is sent from either an extension (by runtime.sendMessage) or a content script (by tabs.sendMessage). Parameters: Name Type Argument Description request module:chrome/msg.Message details for the message sender Object &lt;optional&gt; MessageSender object response function &lt;optional&gt; function to call once after processing Source: screensaver/ss_events.js, line 79 See: https://developer.chrome.com/extensions/runtime#event-onMessage Returns: true if asynchronous Type boolean &lt;private, inner&gt; _onMouseClick() Event: mouse click Source: screensaver/ss_events.js, line 142 &lt;private, inner&gt; _onMouseMove(ev) Event: mousemove Parameters: Name Type Description ev MouseEvent mousemove event Source: screensaver/ss_events.js, line 123 Ã— Search results Close "},"module-ss_geo.html":{"id":"module-ss_geo.html","title":"Module: ss/geo","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/geo Handle interaction the Google maps geocode API Source: screensaver/geo.js, line 17 Members &lt;private, inner, constant&gt; _GEOCODE_API :string Path to Google's geocode api Type: string Default Value: http://maps.googleapis.com/maps/api/geocode/json Source: screensaver/geo.js, line 29 Methods &lt;static&gt; get(point) â†’ {Promise.&lt;string&gt;} Get the location string Parameters: Name Type Description point string 'lat,long' Source: screensaver/geo.js, line 56 Returns: geolocation as string Type Promise.&lt;string&gt; &lt;private, inner&gt; _addToCache(point, location) Try to get (@link module:ss/geo.Location} from cache Parameters: Name Type Description point string a geolocation location string description Source: screensaver/geo.js, line 107 &lt;private, inner&gt; _cleanPoint(point) â†’ {string} Make sure point is in fixed point notation Parameters: Name Type Description point string 'lat lng' may have exponential notation Source: screensaver/geo.js, line 124 Returns: 'lat,lng' fixed point notation Type string &lt;private, inner&gt; _getFromCache(point) â†’ {module:ss/geo.Location|undefined} Try to get (@link module:ss/geo.Location} from cache Parameters: Name Type Description point string a geolocation Source: screensaver/geo.js, line 95 Returns: location, undefined if not cached Type module:ss/geo.Location | undefined Type Definitions Cache Location cache Type: Object Properties: Name Type Description entries Array.&lt;module:ss/geo.Location&gt; Array of locations maxSize int max entries to cache Source: screensaver/geo.js, line 39 Location A Geo location Type: Object Properties: Name Type Description loc string descriptive location point string geo location 'lat lon' Source: screensaver/geo.js, line 32 Ã— Search results Close "},"module-ss_history.html":{"id":"module-ss_history.html","title":"Module: ss/history","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/history Track the recent traversal history of a module:els/screensaver.Screensaver Source: screensaver/ss_history.js, line 13 Members &lt;private, inner, constant&gt; _history Slide show history Properties: Name Type Description arr Array.&lt;module:ss/history.Item&gt; history items idx int pointer into arr max int max length of arr, it will actually have 1 item more Source: screensaver/ss_history.js, line 35 Methods &lt;static&gt; add(newIdx, selected, replaceIdx) Add item to the history Parameters: Name Type Argument Description newIdx int &lt;nullable&gt; if not null, a request from the back command selected int the current selection replaceIdx int the replace index Source: screensaver/ss_history.js, line 54 &lt;static&gt; back() â†’ {null} Backup one slide Source: screensaver/ss_history.js, line 94 Returns: module:ss/views.Views index to step to Type null &lt;static&gt; clear() Reset the slide show history Source: screensaver/ss_history.js, line 85 &lt;static&gt; initialize() Initialize the history Source: screensaver/ss_history.js, line 44 Type Definitions Item History item Type: Object Properties: Name Type Description viewsIdx int module:ss/views.Views index replaceIdx int module:ss/views.Views index photoId int module:ss/photo.SSPhoto id photosPos int pointer into module:ss/photos.Photos Source: screensaver/ss_history.js, line 18 Ã— Search results Close "},"module-ss_photo.html":{"id":"module-ss_photo.html","title":"Module: ss/photo","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/photo A photo for the module:els/screensaver.Screensaver Source: screensaver/ss_photo.js, line 13 Classes SSPhoto Ã— Search results Close "},"module-ss_photo.SSPhoto.html":{"id":"module-ss_photo.SSPhoto.html","title":"Class: SSPhoto","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: SSPhoto ss/photo. SSPhoto A photo for the module:els/screensaver.Screensaver new SSPhoto(id, source, sourceType) Create a new photo Parameters: Name Type Description id int unique id source module:sources/photo_source.Photo source photo sourceType string type of module:sources/photo_source Properties: Name Type Description _id int Unique id _url string The url to the photo _photographer string The photographer _type string type of module:sources/photo_source _aspectRatio number aspect ratio _ex Object additional information about the photo _point string geolocation 'lat lon' _isBad boolean true if url didn't load Source: screensaver/ss_photo.js, line 30 Methods getAspectRatio() â†’ {number} Get photo aspect ratio Source: screensaver/ss_photo.js, line 117 Returns: aspect ratio Type number getEx() â†’ {Object} Get extra information Source: screensaver/ss_photo.js, line 133 Returns: extra object Type Object getId() â†’ {int} Get unique id Source: screensaver/ss_photo.js, line 53 Returns: id Type int getPhotographer() â†’ {string} Get photographer Source: screensaver/ss_photo.js, line 109 Returns: photographer Type string getPoint() â†’ {string} Get geo location point Source: screensaver/ss_photo.js, line 125 Returns: point Type string getType() â†’ {string} Get photo source type Source: screensaver/ss_photo.js, line 101 Returns: type Type string getUrl() â†’ {string} Get photo url Source: screensaver/ss_photo.js, line 84 Returns: url Type string isBad() â†’ {boolean} Is photo bad Source: screensaver/ss_photo.js, line 69 Returns: true if bad Type boolean markBad() Mark photo unusable Source: screensaver/ss_photo.js, line 76 setId(id) Set unique id Parameters: Name Type Description id int unique id Source: screensaver/ss_photo.js, line 61 setUrl(url) Set the url Parameters: Name Type Description url string url to photo Source: screensaver/ss_photo.js, line 92 showSource() Create a new tab with a link to the original source of the photo, if possible Source: screensaver/ss_photo.js, line 141 Ã— Search results Close "},"module-ss_photo_finder.html":{"id":"module-ss_photo_finder.html","title":"Module: ss/photo_finder","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/photo_finder Find a photo that is ready for slideshow Source: screensaver/ss_photo_finder.js, line 15 Members &lt;private, inner&gt; _transTime :int Transition time in milliseconds Type: int Source: screensaver/ss_photo_finder.js, line 25 Methods &lt;static&gt; getNext(idx) â†’ {int} Get the next photo to display Parameters: Name Type Description idx int index into module:ss/views.Views Source: screensaver/ss_photo_finder.js, line 43 Returns: next - index into module:ss/views.Views to display, -1 if none are ready Type int &lt;static&gt; initialize() Initialize the photo finder Source: screensaver/ss_photo_finder.js, line 30 &lt;static&gt; replacePhoto(idx) Add the next photo from the master array Parameters: Name Type Description idx int module:ss/views.Views index to replace Source: screensaver/ss_photo_finder.js, line 59 Ã— Search results Close "},"module-ss_photos.html":{"id":"module-ss_photos.html","title":"Module: ss/photos","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/photos Collection of module:ss/photo.SSPhoto objects Source: screensaver/ss_photos.js, line 15 Members &lt;private, static, constant&gt; Photos :Array.&lt;module:ss/photo.SSPhoto&gt; The array of photos Type: Array.&lt;module:ss/photo.SSPhoto&gt; Source: screensaver/ss_photos.js, line 20 &lt;private, inner&gt; _curIdx :int Current index into module:ss/photos.Photos Type: int Source: screensaver/ss_photos.js, line 34 Methods &lt;static&gt; addFromSource(source) Add the photos from an module:sources/photo_source.Photos Parameters: Name Type Description source module:sources/photo_source.Photos Source: screensaver/ss_photos.js, line 40 &lt;static&gt; get(idx) â†’ {module:ss/photo.SSPhoto} Get the module:ss/photo.SSPhoto at the given index Parameters: Name Type Description idx int The index Source: screensaver/ss_photos.js, line 76 Returns: A module:ss/photo.SSPhoto Type module:ss/photo.SSPhoto &lt;static&gt; getCount() â†’ {int} Get number of photos Source: screensaver/ss_photos.js, line 57 Returns: The number of photos Type int &lt;static&gt; getCurrentIndex() â†’ {int} Get current index into _photos Source: screensaver/ss_photos.js, line 103 Returns: index Type int &lt;static&gt; getNextGooglePhotos(num, idx) â†’ {Array.&lt;module:ss/photo.SSPhoto&gt;} Get the next nun google photos Parameters: Name Type Description num int max number to get idx int starting index Source: screensaver/ss_photos.js, line 113 Returns: array of photos num long or less Type Array.&lt;module:ss/photo.SSPhoto&gt; &lt;static&gt; getNextUsable() â†’ {module:ss/photo.SSPhoto} Get the next module:ss/photo.SSPhoto that is usable Source: screensaver/ss_photos.js, line 84 Returns: An module:ss/photo.SSPhoto Type module:ss/photo.SSPhoto &lt;static&gt; hasUsable() â†’ {boolean} Do we have photos that aren't bad Source: screensaver/ss_photos.js, line 65 Returns: true if at least one photo is good Type boolean &lt;static&gt; incCurrentIndex() â†’ {int} Increment current index into _photos Source: screensaver/ss_photos.js, line 161 Returns: new current index Type int &lt;static&gt; setCurrentIndex(idx) Set current index into _photos Parameters: Name Type Description idx int The index Source: screensaver/ss_photos.js, line 153 &lt;static&gt; shuffle() Randomize the photos Source: screensaver/ss_photos.js, line 168 &lt;static&gt; updateGooglePhotoUrls(photos) Update the urls of the given photos Parameters: Name Type Description photos Array.&lt;module:sources/photo_source.Photo&gt; Source: screensaver/ss_photos.js, line 134 Ã— Search results Close "},"module-ss_runner.html":{"id":"module-ss_runner.html","title":"Module: ss/runner","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/runner Control the running of a module:els/screensaver.Screensaver Source: screensaver/ss_runner.js, line 18 Members &lt;private, inner, constant&gt; _VARS :Object Instance variables Type: Object Properties: Name Type Description started boolean true if slideshow started replaceIdx int page to replace with next photo lastSelected int last selected page waitTime int wait time when looking for photo in milliSecs interactive boolean is interaction allowed paused boolean is screensaver paused timeOutId number id of setTimeout Source: screensaver/ss_runner.js, line 35 Methods &lt;static&gt; back() Backup one slide Source: screensaver/ss_runner.js, line 159 &lt;static&gt; forward() Forward one slide Source: screensaver/ss_runner.js, line 150 &lt;static&gt; getWaitTime() â†’ {int} Get wait time between _runShow calls Source: screensaver/ss_runner.js, line 66 Returns: current wait time Type int &lt;static&gt; isCurrentPair(idx) â†’ {boolean} Is the given idx a part of the current animation pair Parameters: Name Type Description idx int index into module:ss/views.Views Source: screensaver/ss_runner.js, line 126 Returns: if selected or last selected Type boolean &lt;static&gt; isInteractive() â†’ {boolean} Is interactive mode allowed Source: screensaver/ss_runner.js, line 109 Returns: true if allowed Type boolean &lt;static&gt; isPaused() â†’ {boolean} Are we paused Source: screensaver/ss_runner.js, line 117 Returns: true if paused Type boolean &lt;static&gt; isStarted() â†’ {boolean} Has the first page run Source: screensaver/ss_runner.js, line 101 Returns: if animation has started Type boolean &lt;static&gt; setLastSelected(lastSelected) Set last selected index Parameters: Name Type Description lastSelected int last index in module:ss/views.Views Source: screensaver/ss_runner.js, line 85 &lt;static&gt; setReplaceIdx(idx) Set last selected index Parameters: Name Type Description idx int replace index in module:ss/views.Views Source: screensaver/ss_runner.js, line 93 &lt;static&gt; setWaitTime(waitTime) Set wait time between _runShow calls in milliSecs Parameters: Name Type Description waitTime int wait time for next attempt to get photo Source: screensaver/ss_runner.js, line 74 &lt;static&gt; start( [delay]) Start the slideshow Parameters: Name Type Argument Default Description delay int &lt;optional&gt; 2000 delay before start Source: screensaver/ss_runner.js, line 49 &lt;static&gt; togglePaused( [newIdx]) Toggle paused state of the slideshow Parameters: Name Type Argument Default Description newIdx int &lt;optional&gt; &lt;nullable&gt; null optional idx to use for current idx Source: screensaver/ss_runner.js, line 135 &lt;private, inner&gt; _restart( [newIdx]) Restart the slideshow Parameters: Name Type Argument Default Description newIdx int &lt;optional&gt; &lt;nullable&gt; null optional idx to use for current idx Source: screensaver/ss_runner.js, line 181 &lt;private, inner&gt; _runShow( [newIdx]) Self called at fixed time intervals to cycle through the photos Parameters: Name Type Argument Default Description newIdx int &lt;optional&gt; &lt;nullable&gt; null override selected Source: screensaver/ss_runner.js, line 209 &lt;private, inner&gt; _step( [newIdx]) Increment the slide show manually Parameters: Name Type Argument Default Description newIdx int &lt;optional&gt; &lt;nullable&gt; null optional idx to use for current idx Source: screensaver/ss_runner.js, line 194 &lt;private, inner&gt; _stop() Stop the animation Source: screensaver/ss_runner.js, line 172 Ã— Search results Close "},"module-ss_time.html":{"id":"module-ss_time.html","title":"Module: ss/time","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/time Time handling for an module:els/screensaver.Screensaver Source: screensaver/ss_time.js, line 16 Methods &lt;static&gt; initialize() Initialize the time display Source: screensaver/ss_time.js, line 24 &lt;static&gt; setTime() Set the time label Source: screensaver/ss_time.js, line 35 Ã— Search results Close "},"module-ss_views.html":{"id":"module-ss_views.html","title":"Module: ss/views","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/views Collection of module:ss/views/view.SSView objects Source: screensaver/ss_views.js, line 21 Members &lt;static, readonly&gt; Type :int Enum for view type Type: int Source: screensaver/ss_views.js, line 26 &lt;private, static, constant&gt; Views :Array.&lt;module:ss/views/view.SSView&gt; The array of views Type: Array.&lt;module:ss/views/view.SSView&gt; Source: screensaver/ss_views.js, line 49 &lt;private, inner, constant&gt; _MAX_VIEWS :int Max number of views Type: int Source: screensaver/ss_views.js, line 47 &lt;private, inner&gt; _pages :Element|null The neon-animated-pages Type: Element | null Source: screensaver/ss_views.js, line 63 &lt;private, inner&gt; _type :module:ss/views.Type The view type Type: module:ss/views.Type Source: screensaver/ss_views.js, line 70 Methods &lt;static&gt; create(t) Create the module:ss/views/view.SSView pages Parameters: Name Type Description t PolymerElement Source: screensaver/ss_views.js, line 106 &lt;static&gt; findLoadedPhoto(idx) â†’ {int} Try to find a photo that has finished loading Parameters: Name Type Description idx int index into module:ss/views.Views Source: screensaver/ss_views.js, line 259 Returns: index into module:ss/views.Views, -1 if none are loaded Type int &lt;static&gt; get(idx) â†’ {module:ss/views/view.SSView} Get the module:ss/views/view.SSView at the given index Parameters: Name Type Description idx int The index Source: screensaver/ss_views.js, line 158 Returns: Type module:ss/views/view.SSView &lt;static&gt; getCount() â†’ {int} Get number of views Source: screensaver/ss_views.js, line 149 Returns: Type int &lt;static&gt; getSelectedIndex() â†’ {int|undefined} Get the selected index Source: screensaver/ss_views.js, line 166 Returns: The index Type int | undefined &lt;static&gt; getType() â†’ {module:ss/views.Type} Get the type of view Source: screensaver/ss_views.js, line 138 Returns: Type module:ss/views.Type &lt;static&gt; hasPhoto(photo) â†’ {boolean} Is the given module:ss/photo.SSPhoto in one of the module:ss/views.Views Parameters: Name Type Description photo module:ss/photo.SSPhoto Source: screensaver/ss_views.js, line 202 Returns: true if in module:ss/views.Views Type boolean &lt;static&gt; hasUsable() â†’ {boolean} Do we have a view with a usable photo Source: screensaver/ss_views.js, line 217 Returns: true if at least one photo is valid Type boolean &lt;static&gt; isSelectedIndex(idx) â†’ {boolean} Is the given idx the selected index Parameters: Name Type Description idx int index into module:ss/views.Views Source: screensaver/ss_views.js, line 188 Returns: true if selected Type boolean &lt;static&gt; replaceAll() Replace all views Source: screensaver/ss_views.js, line 236 &lt;static&gt; setSelectedIndex(selected) Set the selected index Parameters: Name Type Description selected int Source: screensaver/ss_views.js, line 179 &lt;private, inner&gt; _setViewType() Process settings related to the photo's appearance Source: screensaver/ss_views.js, line 76 Ã— Search results Close "},"module-ss_views_view.html":{"id":"module-ss_views_view.html","title":"Module: ss/views/view","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/views/view Base class for other SSView classes Source: screensaver/views/ss_view.js, line 21 Classes SSView Members &lt;private, inner, constant&gt; _SCREEN_AR :number Aspect ratio of screen Type: number Source: screensaver/views/ss_view.js, line 32 Ã— Search results Close "},"module-ss_views_view.SSView.html":{"id":"module-ss_views_view.SSView.html","title":"Class: SSView","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: SSView ss/views/view. SSView Base class for other SSView classes new SSView(photo) Create a new SSView Parameters: Name Type Description photo module:ss/photo.SSPhoto An module:ss/photo.SSPhoto Properties: Name Type Description image Element paper-image author Element label time Element label location Element Geo location model Object template item model url string photo url, binding authorLabel string author text, binding locationLabel string location text, binding Source: screensaver/views/ss_view.js, line 46 Methods &lt;private, static&gt; _dirtySet(model, prop, value) Call notifyPath after set because dirty checking doesn't always work Parameters: Name Type Description model Object model to change prop string property name value Object property value Source: screensaver/views/ss_view.js, line 71 &lt;private, static&gt; _isBadAspect(asp) â†’ {boolean} Determine if a photo would look bad zoomed or stretched on the screen Parameters: Name Type Description asp number an aspect ratio Source: screensaver/views/ss_view.js, line 83 Returns: true if a photo aspect ratio differs substantially from the screens' Type boolean &lt;static&gt; _showLocation() â†’ {boolean} Should we show the location, if available Source: screensaver/views/ss_view.js, line 114 Returns: true if we should show the location Type boolean &lt;static&gt; ignore(asp, photoSizing) â†’ {boolean} Determine if a given aspect ratio should be ignored Parameters: Name Type Description asp number an aspect ratio photoSizing int the sizing type Source: screensaver/views/ss_view.js, line 95 Returns: true if the aspect ratio should be ignored Type boolean &lt;static&gt; showTime() â†’ {boolean} Should we show the time Source: screensaver/views/ss_view.js, line 123 Returns: true if we should show the time Type boolean _hasAuthor() â†’ {boolean} Does a photo have an author label to show Source: screensaver/views/ss_view.js, line 131 Returns: true if we should show the author Type boolean _hasAuthorLabel() â†’ {boolean} Does a view have an author label set Source: screensaver/views/ss_view.js, line 140 Returns: true if author label is not empty Type boolean _hasLocation() â†’ {boolean} Does a photo have a geolocation Source: screensaver/views/ss_view.js, line 148 Returns: true if geolocation point is non-null Type boolean _hasLocationLabel() â†’ {boolean} Does a view have an location label set Source: screensaver/views/ss_view.js, line 156 Returns: true if location label is not empty Type boolean _setAuthorLabel() Set the author text Source: screensaver/views/ss_view.js, line 191 _setLocationLabel() Set the geolocation text Source: screensaver/views/ss_view.js, line 222 _setTimeStyle() Set the style for the time label Source: screensaver/views/ss_view.js, line 163 isError() â†’ {boolean} Determine if a photo failed to load (usually 404 or 403 error) Source: screensaver/views/ss_view.js, line 287 Returns: true if image load failed Type boolean isLoaded() â†’ {boolean} Determine if a photo has finished loading Source: screensaver/views/ss_view.js, line 295 Returns: true if image is loaded Type boolean markPhotoBad() Flag the photo in this view to bad Source: screensaver/views/ss_view.js, line 182 render() Render the page for display - the default CSS is for our view subclasses override this to determine the look of photo Source: screensaver/views/ss_view.js, line 281 setElements(image, author, time, location, model) Set the elements of the view Parameters: Name Type Description image Element paper-image, photo author Element div, photographer time Element div, current time location Element div, geolocation text model Object template item model Source: screensaver/views/ss_view.js, line 255 setPhoto(photo) Set the photo Parameters: Name Type Description photo module:ss/photo.SSPhoto a photo to render Source: screensaver/views/ss_view.js, line 270 setUrl(url) Set the url Parameters: Name Type Argument Default Description url string &lt;nullable&gt; null to use if not null Source: screensaver/views/ss_view.js, line 174 Ã— Search results Close "},"module-ss_views_view_factory.html":{"id":"module-ss_views_view_factory.html","title":"Module: ss/views/view_factory","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/views/view_factory Factory to create module:ss/views/view.SSView instances Source: screensaver/views/ss_view_factory.js, line 17 Methods &lt;static&gt; create(photo, type) â†’ {Object} Factory Method to create a new module:ss/views/view.SSView subclass Parameters: Name Type Description photo module:ss/photo.SSPhoto An module:module:ss/photo.SSPhoto type module:ss/views.Type photo sizing type Source: screensaver/views/ss_view_factory.js, line 28 Returns: a new module:ss/views/view.SSView subclass of the given type Type Object Ã— Search results Close "},"module-ss_views_view_frame.html":{"id":"module-ss_views_view_frame.html","title":"Module: ss/views/view_frame","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/views/view_frame Frame view Source: screensaver/views/ss_view_frame.js, line 11 Classes SSViewFrame Ã— Search results Close "},"module-ss_views_view_frame.SSViewFrame.html":{"id":"module-ss_views_view_frame.SSViewFrame.html","title":"Class: SSViewFrame","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: SSViewFrame ss/views/view_frame. SSViewFrame Frame view new SSViewFrame(photo) Create new SSViewFrame Extends: module:ss/views/view.SSView Parameters: Name Type Description photo module:ss/photo.SSPhoto Source: screensaver/views/ss_view_frame.js, line 21 Extends module:ss/views/view.SSView Methods &lt;private, static&gt; _setLabelStyle(style, width, height, isLeft) Set style info for a label Parameters: Name Type Description style Object element.style object width int frame width height int frame height isLeft boolean if true align left, else right Source: screensaver/views/ss_view_frame.js, line 41 _hasAuthor() â†’ {boolean} Does a photo have an author label to show Inherited From: module:ss/views/view.SSView#_hasAuthor Source: screensaver/views/ss_view.js, line 131 Returns: true if we should show the author Type boolean _hasAuthorLabel() â†’ {boolean} Does a view have an author label set Inherited From: module:ss/views/view.SSView#_hasAuthorLabel Source: screensaver/views/ss_view.js, line 140 Returns: true if author label is not empty Type boolean _hasLocation() â†’ {boolean} Does a photo have a geolocation Inherited From: module:ss/views/view.SSView#_hasLocation Source: screensaver/views/ss_view.js, line 148 Returns: true if geolocation point is non-null Type boolean _hasLocationLabel() â†’ {boolean} Does a view have an location label set Inherited From: module:ss/views/view.SSView#_hasLocationLabel Source: screensaver/views/ss_view.js, line 156 Returns: true if location label is not empty Type boolean _setAuthorLabel() Set the author text Inherited From: module:ss/views/view.SSView#_setAuthorLabel Source: screensaver/views/ss_view.js, line 191 _setLocationLabel() Set the geolocation text Inherited From: module:ss/views/view.SSView#_setLocationLabel Source: screensaver/views/ss_view.js, line 222 _setTimeStyle() Set the style for the time label Inherited From: module:ss/views/view.SSView#_setTimeStyle Source: screensaver/views/ss_view.js, line 163 isError() â†’ {boolean} Determine if a photo failed to load (usually 404 or 403 error) Inherited From: module:ss/views/view.SSView#isError Source: screensaver/views/ss_view.js, line 287 Returns: true if image load failed Type boolean isLoaded() â†’ {boolean} Determine if a photo has finished loading Inherited From: module:ss/views/view.SSView#isLoaded Source: screensaver/views/ss_view.js, line 295 Returns: true if image is loaded Type boolean markPhotoBad() Flag the photo in this view to bad Inherited From: module:ss/views/view.SSView#markPhotoBad Source: screensaver/views/ss_view.js, line 182 render() Render the page for display Overrides: module:ss/views/view.SSView#render Source: screensaver/views/ss_view_frame.js, line 77 setElements(image, author, time, location, model) Set the elements of the view Parameters: Name Type Description image Element paper-image, photo author Element div, photographer time Element div, current time location Element div, geolocation text model Object template item model Inherited From: module:ss/views/view.SSView#setElements Source: screensaver/views/ss_view.js, line 255 setPhoto(photo) Set the photo Parameters: Name Type Description photo module:ss/photo.SSPhoto a photo to render Inherited From: module:ss/views/view.SSView#setPhoto Source: screensaver/views/ss_view.js, line 270 setUrl(url) Set the url Parameters: Name Type Argument Default Description url string &lt;nullable&gt; null to use if not null Inherited From: module:ss/views/view.SSView#setUrl Source: screensaver/views/ss_view.js, line 174 Ã— Search results Close "},"module-ss_views_view_full.html":{"id":"module-ss_views_view_full.html","title":"Module: ss/views/view_full","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/views/view_full Full view Source: screensaver/views/ss_view_full.js, line 11 Classes SSViewFull Ã— Search results Close "},"module-ss_views_view_full.SSViewFull.html":{"id":"module-ss_views_view_full.SSViewFull.html","title":"Class: SSViewFull","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: SSViewFull ss/views/view_full. SSViewFull Full view new SSViewFull(photo) Create new SSViewFull Extends: module:ss/views/view.SSView Parameters: Name Type Description photo module:ss/photo.SSPhoto An module:ss/photo.SSPhoto Source: screensaver/views/ss_view_full.js, line 21 Extends module:ss/views/view.SSView Methods _hasAuthor() â†’ {boolean} Does a photo have an author label to show Inherited From: module:ss/views/view.SSView#_hasAuthor Source: screensaver/views/ss_view.js, line 131 Returns: true if we should show the author Type boolean _hasAuthorLabel() â†’ {boolean} Does a view have an author label set Inherited From: module:ss/views/view.SSView#_hasAuthorLabel Source: screensaver/views/ss_view.js, line 140 Returns: true if author label is not empty Type boolean _hasLocation() â†’ {boolean} Does a photo have a geolocation Inherited From: module:ss/views/view.SSView#_hasLocation Source: screensaver/views/ss_view.js, line 148 Returns: true if geolocation point is non-null Type boolean _hasLocationLabel() â†’ {boolean} Does a view have an location label set Inherited From: module:ss/views/view.SSView#_hasLocationLabel Source: screensaver/views/ss_view.js, line 156 Returns: true if location label is not empty Type boolean _setAuthorLabel() Set the author text Inherited From: module:ss/views/view.SSView#_setAuthorLabel Source: screensaver/views/ss_view.js, line 191 _setLocationLabel() Set the geolocation text Inherited From: module:ss/views/view.SSView#_setLocationLabel Source: screensaver/views/ss_view.js, line 222 _setTimeStyle() Set the style for the time label Inherited From: module:ss/views/view.SSView#_setTimeStyle Source: screensaver/views/ss_view.js, line 163 isError() â†’ {boolean} Determine if a photo failed to load (usually 404 or 403 error) Inherited From: module:ss/views/view.SSView#isError Source: screensaver/views/ss_view.js, line 287 Returns: true if image load failed Type boolean isLoaded() â†’ {boolean} Determine if a photo has finished loading Inherited From: module:ss/views/view.SSView#isLoaded Source: screensaver/views/ss_view.js, line 295 Returns: true if image is loaded Type boolean markPhotoBad() Flag the photo in this view to bad Inherited From: module:ss/views/view.SSView#markPhotoBad Source: screensaver/views/ss_view.js, line 182 render() Render the page for display Overrides: module:ss/views/view.SSView#render Source: screensaver/views/ss_view_full.js, line 35 setElements(image, author, time, location, model) Set the elements of the view Parameters: Name Type Description image Element paper-image, photo author Element div, photographer time Element div, current time location Element div, geolocation text model Object template item model Inherited From: module:ss/views/view.SSView#setElements Source: screensaver/views/ss_view.js, line 255 setPhoto(photo) Set the photo Parameters: Name Type Description photo module:ss/photo.SSPhoto a photo to render Inherited From: module:ss/views/view.SSView#setPhoto Source: screensaver/views/ss_view.js, line 270 setUrl(url) Set the url Parameters: Name Type Argument Default Description url string &lt;nullable&gt; null to use if not null Inherited From: module:ss/views/view.SSView#setUrl Source: screensaver/views/ss_view.js, line 174 Ã— Search results Close "},"module-ss_views_view_letterbox.html":{"id":"module-ss_views_view_letterbox.html","title":"Module: ss/views/view_letterbox","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/views/view_letterbox Letterbox view Source: screensaver/views/ss_view_letterbox.js, line 11 Classes SSViewLetterbox Members &lt;private, inner, constant&gt; _SCREEN_AR :number Aspect ratio of screen Type: number Source: screensaver/views/ss_view_letterbox.js, line 22 Ã— Search results Close "},"module-ss_views_view_letterbox.SSViewLetterbox.html":{"id":"module-ss_views_view_letterbox.SSViewLetterbox.html","title":"Class: SSViewLetterbox","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: SSViewLetterbox ss/views/view_letterbox. SSViewLetterbox Letterbox view new SSViewLetterbox(photo) Create new SSView Extends: module:ss/views/view.SSView Parameters: Name Type Description photo module:ss/photo.SSPhoto An module:ss/photo.SSPhoto Source: screensaver/views/ss_view_letterbox.js, line 29 Extends module:ss/views/view.SSView Methods _hasAuthor() â†’ {boolean} Does a photo have an author label to show Inherited From: module:ss/views/view.SSView#_hasAuthor Source: screensaver/views/ss_view.js, line 131 Returns: true if we should show the author Type boolean _hasAuthorLabel() â†’ {boolean} Does a view have an author label set Inherited From: module:ss/views/view.SSView#_hasAuthorLabel Source: screensaver/views/ss_view.js, line 140 Returns: true if author label is not empty Type boolean _hasLocation() â†’ {boolean} Does a photo have a geolocation Inherited From: module:ss/views/view.SSView#_hasLocation Source: screensaver/views/ss_view.js, line 148 Returns: true if geolocation point is non-null Type boolean _hasLocationLabel() â†’ {boolean} Does a view have an location label set Inherited From: module:ss/views/view.SSView#_hasLocationLabel Source: screensaver/views/ss_view.js, line 156 Returns: true if location label is not empty Type boolean _setAuthorLabel() Set the author text Inherited From: module:ss/views/view.SSView#_setAuthorLabel Source: screensaver/views/ss_view.js, line 191 _setLocationLabel() Set the geolocation text Inherited From: module:ss/views/view.SSView#_setLocationLabel Source: screensaver/views/ss_view.js, line 222 _setTimeStyle() Set the style for the time label Inherited From: module:ss/views/view.SSView#_setTimeStyle Source: screensaver/views/ss_view.js, line 163 isError() â†’ {boolean} Determine if a photo failed to load (usually 404 or 403 error) Inherited From: module:ss/views/view.SSView#isError Source: screensaver/views/ss_view.js, line 287 Returns: true if image load failed Type boolean isLoaded() â†’ {boolean} Determine if a photo has finished loading Inherited From: module:ss/views/view.SSView#isLoaded Source: screensaver/views/ss_view.js, line 295 Returns: true if image is loaded Type boolean markPhotoBad() Flag the photo in this view to bad Inherited From: module:ss/views/view.SSView#markPhotoBad Source: screensaver/views/ss_view.js, line 182 render() Render the page for display Overrides: module:ss/views/view.SSView#render Source: screensaver/views/ss_view_letterbox.js, line 43 setElements(image, author, time, location, model) Set the elements of the view Parameters: Name Type Description image Element paper-image, photo author Element div, photographer time Element div, current time location Element div, geolocation text model Object template item model Inherited From: module:ss/views/view.SSView#setElements Source: screensaver/views/ss_view.js, line 255 setPhoto(photo) Set the photo Parameters: Name Type Description photo module:ss/photo.SSPhoto a photo to render Inherited From: module:ss/views/view.SSView#setPhoto Source: screensaver/views/ss_view.js, line 270 setUrl(url) Set the url Parameters: Name Type Argument Default Description url string &lt;nullable&gt; null to use if not null Inherited From: module:ss/views/view.SSView#setUrl Source: screensaver/views/ss_view.js, line 174 Ã— Search results Close "},"module-ss_views_view_zoom.html":{"id":"module-ss_views_view_zoom.html","title":"Module: ss/views/view_zoom","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: ss/views/view_zoom Zoom view Source: screensaver/views/ss_view_zoom.js, line 11 Classes SSViewZoom Ã— Search results Close "},"module-ss_views_view_zoom.SSViewZoom.html":{"id":"module-ss_views_view_zoom.SSViewZoom.html","title":"Class: SSViewZoom","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Class: SSViewZoom ss/views/view_zoom. SSViewZoom Zoom view new SSViewZoom(photo) Create new SSViewFull Extends: module:ss/views/view.SSView Parameters: Name Type Description photo module:ss/photo.SSPhoto An module:ss/photo.SSPhoto Source: screensaver/views/ss_view_zoom.js, line 21 Extends module:ss/views/view.SSView Methods _hasAuthor() â†’ {boolean} Does a photo have an author label to show Inherited From: module:ss/views/view.SSView#_hasAuthor Source: screensaver/views/ss_view.js, line 131 Returns: true if we should show the author Type boolean _hasAuthorLabel() â†’ {boolean} Does a view have an author label set Inherited From: module:ss/views/view.SSView#_hasAuthorLabel Source: screensaver/views/ss_view.js, line 140 Returns: true if author label is not empty Type boolean _hasLocation() â†’ {boolean} Does a photo have a geolocation Inherited From: module:ss/views/view.SSView#_hasLocation Source: screensaver/views/ss_view.js, line 148 Returns: true if geolocation point is non-null Type boolean _hasLocationLabel() â†’ {boolean} Does a view have an location label set Inherited From: module:ss/views/view.SSView#_hasLocationLabel Source: screensaver/views/ss_view.js, line 156 Returns: true if location label is not empty Type boolean _setAuthorLabel() Set the author text Inherited From: module:ss/views/view.SSView#_setAuthorLabel Source: screensaver/views/ss_view.js, line 191 _setLocationLabel() Set the geolocation text Inherited From: module:ss/views/view.SSView#_setLocationLabel Source: screensaver/views/ss_view.js, line 222 _setTimeStyle() Set the style for the time label Inherited From: module:ss/views/view.SSView#_setTimeStyle Source: screensaver/views/ss_view.js, line 163 isError() â†’ {boolean} Determine if a photo failed to load (usually 404 or 403 error) Inherited From: module:ss/views/view.SSView#isError Source: screensaver/views/ss_view.js, line 287 Returns: true if image load failed Type boolean isLoaded() â†’ {boolean} Determine if a photo has finished loading Inherited From: module:ss/views/view.SSView#isLoaded Source: screensaver/views/ss_view.js, line 295 Returns: true if image is loaded Type boolean markPhotoBad() Flag the photo in this view to bad Inherited From: module:ss/views/view.SSView#markPhotoBad Source: screensaver/views/ss_view.js, line 182 render() Render the page for display Overrides: module:ss/views/view.SSView#render Source: screensaver/views/ss_view_zoom.js, line 35 setElements(image, author, time, location, model) Set the elements of the view Parameters: Name Type Description image Element paper-image, photo author Element div, photographer time Element div, current time location Element div, geolocation text model Object template item model Inherited From: module:ss/views/view.SSView#setElements Source: screensaver/views/ss_view.js, line 255 setPhoto(photo) Set the photo Parameters: Name Type Description photo module:ss/photo.SSPhoto a photo to render Inherited From: module:ss/views/view.SSView#setPhoto Source: screensaver/views/ss_view.js, line 270 setUrl(url) Set the url Parameters: Name Type Argument Default Description url string &lt;nullable&gt; null to use if not null Inherited From: module:ss/views/view.SSView#setUrl Source: screensaver/views/ss_view.js, line 174 Ã— Search results Close "},"module-utils.html":{"id":"module-utils.html","title":"Module: utils","body":" Documentation Modules analyticsbg/alarmbg/backgroundbg/context_menusbg/databg/ss_controlbg/userchrome/authchrome/exceptionchrome/gachrome/httpchrome/jsonchrome/last_errorchrome/localechrome/logchrome/msgchrome/storagechrome/timechrome/utilsels/app_mainels/confirm_dialogels/error_dialogels/iconsels/pgs/errorels/pgs/google_photosels/pgs/google_photos/albums_viewels/pgs/google_photos/photo_catels/pgs/google_photos/photos_viewels/pgs/helpels/pgs/settingsels/screensaverels/setting/backgroundels/setting/dropdownels/setting/linkels/setting/localize_behaviorels/setting/sliderels/setting/textels/setting/timeels/setting/toggleels/shared_stylesels/slide_animatableels/spin_down_animationels/spin_up_animationels/waiter_elementmsgpermissionssources/photo_sourcesources/photo_source_chromecastsources/photo_source_factorysources/photo_source_flickrsources/photo_source_googlesources/photo_source_redditsources/photo_sourcesss/builderss/eventsss/geoss/historyss/photoss/photo_finderss/photosss/runnerss/timess/viewsss/views/viewss/views/view_factoryss/views/view_framess/views/view_fullss/views/view_letterboxss/views/view_zoomutils Classes chrome/exception.ExHandlerchrome/last_error.LastErrorchrome/time.ChromeTimesources/photo_source.PhotoSourcesources/photo_source_chromecast.CCSourcesources/photo_source_flickr.FlickrSourcesources/photo_source_google.GoogleSourcesources/photo_source_reddit.RedditSourcess/photo.SSPhotoss/views/view.SSViewss/views/view_frame.SSViewFramess/views/view_full.SSViewFullss/views/view_letterbox.SSViewLetterboxss/views/view_zoom.SSViewZoom Events event:confirm-tapevent:no-albumsevent:value-changed Module: utils Misc. utility methods Source: my_utils.js, line 13 Members &lt;static, constant&gt; DEBUG :boolean True if development build Type: boolean Source: my_utils.js, line 29 &lt;private, inner, constant&gt; _DEBUG :boolean True if development build Type: boolean Source: my_utils.js, line 23 Methods &lt;static&gt; getEmail() â†’ {string} Get our email address Source: my_utils.js, line 35 Returns: email address Type string &lt;static&gt; getEmailBody() â†’ {string} Get body for an email with basic extension info Source: my_utils.js, line 43 Returns: text Type string &lt;static&gt; getEmailUrl(subject, body) â†’ {string} Get encoded url for an email Parameters: Name Type Description subject string email subject body string email body Source: my_utils.js, line 55 Returns: encoded url Type string &lt;static&gt; getGithubPagesPath() â†’ {string} Get our Github pages base path Source: my_utils.js, line 74 Returns: path Type string &lt;static&gt; getGithubPath() â†’ {string} Get our Github base path Source: my_utils.js, line 66 Returns: path Type string Ã— Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
